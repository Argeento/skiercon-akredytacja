const LS=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};LS();function Ou(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const FS="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",$S=Ou(FS),BS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",US=Ou(BS);function Nw(t){return!!t||t===""}function nl(t){if(se(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=dt(i)?jS(i):nl(i);if(s)for(const r in s)e[r]=s[r]}return e}else{if(dt(t))return t;if(gt(t))return t}}const VS=/;(?![^(]*\))/g,zS=/:(.+)/;function jS(t){const e={};return t.split(VS).forEach(n=>{if(n){const i=n.split(zS);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function At(t){let e="";if(dt(t))e=t;else if(se(t))for(let n=0;n<t.length;n++){const i=At(t[n]);i&&(e+=i+" ")}else if(gt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function HS(t){if(!t)return null;let{class:e,style:n}=t;return e&&!dt(e)&&(t.class=At(e)),n&&(t.style=nl(n)),t}function WS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=ls(t[i],e[i]);return n}function ls(t,e){if(t===e)return!0;let n=Wm(t),i=Wm(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Ca(t),i=Ca(e),n||i)return t===e;if(n=se(t),i=se(e),n||i)return n&&i?WS(t,e):!1;if(n=gt(t),i=gt(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ls(t[o],e[o]))return!1}}return String(t)===String(e)}function Mu(t,e){return t.findIndex(n=>ls(n,e))}const ae=t=>dt(t)?t:t==null?"":se(t)||gt(t)&&(t.toString===Fw||!be(t.toString))?JSON.stringify(t,Lw,2):String(t),Lw=(t,e)=>e&&e.__v_isRef?Lw(t,e.value):Ur(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:pr(e)?{[`Set(${e.size})`]:[...e.values()]}:gt(e)&&!se(e)&&!$w(e)?String(e):e,qe={},Br=[],Vn=()=>{},qS=()=>!1,YS=/^on[^a-z]/,il=t=>YS.test(t),hp=t=>t.startsWith("onUpdate:"),pt=Object.assign,dp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},KS=Object.prototype.hasOwnProperty,Fe=(t,e)=>KS.call(t,e),se=Array.isArray,Ur=t=>sl(t)==="[object Map]",pr=t=>sl(t)==="[object Set]",Wm=t=>sl(t)==="[object Date]",be=t=>typeof t=="function",dt=t=>typeof t=="string",Ca=t=>typeof t=="symbol",gt=t=>t!==null&&typeof t=="object",fp=t=>gt(t)&&be(t.then)&&be(t.catch),Fw=Object.prototype.toString,sl=t=>Fw.call(t),GS=t=>sl(t).slice(8,-1),$w=t=>sl(t)==="[object Object]",pp=t=>dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Zo=Ou(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Au=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},XS=/-(\w)/g,xn=Au(t=>t.replace(XS,(e,n)=>n?n.toUpperCase():"")),QS=/\B([A-Z])/g,si=Au(t=>t.replace(QS,"-$1").toLowerCase()),rl=Au(t=>t.charAt(0).toUpperCase()+t.slice(1)),ea=Au(t=>t?`on${rl(t)}`:""),Xr=(t,e)=>!Object.is(t,e),Vr=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Rc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},cs=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let qm;const JS=()=>qm||(qm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let mn;class gp{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&mn&&(this.parent=mn,this.index=(mn.scopes||(mn.scopes=[])).push(this)-1)}run(e){if(this.active){const n=mn;try{return mn=this,e()}finally{mn=n}}}on(){mn=this}off(){mn=this.parent}stop(e){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function ZS(t){return new gp(t)}function Bw(t,e=mn){e&&e.active&&e.effects.push(t)}function eC(){return mn}function tC(t){mn&&mn.cleanups.push(t)}const mp=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Uw=t=>(t.w&us)>0,Vw=t=>(t.n&us)>0,nC=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=us},iC=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];Uw(s)&&!Vw(s)?s.delete(t):e[n++]=s,s.w&=~us,s.n&=~us}e.length=n}},Gd=new WeakMap;let zo=0,us=1;const Xd=30;let Bn;const Ws=Symbol(""),Qd=Symbol("");class ol{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Bw(this,i)}run(){if(!this.active)return this.fn();let e=Bn,n=is;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Bn,Bn=this,is=!0,us=1<<++zo,zo<=Xd?nC(this):Ym(this),this.fn()}finally{zo<=Xd&&iC(this),us=1<<--zo,Bn=this.parent,is=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Bn===this?this.deferStop=!0:this.active&&(Ym(this),this.onStop&&this.onStop(),this.active=!1)}}function Ym(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function sC(t,e){t.effect&&(t=t.effect.fn);const n=new ol(t);e&&(pt(n,e),e.scope&&Bw(n,e.scope)),(!e||!e.lazy)&&n.run();const i=n.run.bind(n);return i.effect=n,i}function rC(t){t.effect.stop()}let is=!0;const zw=[];function gr(){zw.push(is),is=!1}function mr(){const t=zw.pop();is=t===void 0?!0:t}function Tn(t,e,n){if(is&&Bn){let i=Gd.get(t);i||Gd.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=mp()),jw(s)}}function jw(t,e){let n=!1;zo<=Xd?Vw(t)||(t.n|=us,n=!Uw(t)):n=!t.has(Bn),n&&(t.add(Bn),Bn.deps.push(t))}function Ii(t,e,n,i,s,r){const o=Gd.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&se(t))o.forEach((l,c)=>{(c==="length"||c>=i)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":se(t)?pp(n)&&a.push(o.get("length")):(a.push(o.get(Ws)),Ur(t)&&a.push(o.get(Qd)));break;case"delete":se(t)||(a.push(o.get(Ws)),Ur(t)&&a.push(o.get(Qd)));break;case"set":Ur(t)&&a.push(o.get(Ws));break}if(a.length===1)a[0]&&Jd(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Jd(mp(l))}}function Jd(t,e){const n=se(t)?t:[...t];for(const i of n)i.computed&&Km(i);for(const i of n)i.computed||Km(i)}function Km(t,e){(t!==Bn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const oC=Ou("__proto__,__v_isRef,__isVue"),Hw=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ca)),aC=Du(),lC=Du(!1,!0),cC=Du(!0),uC=Du(!0,!0),Gm=hC();function hC(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ne(this);for(let r=0,o=this.length;r<o;r++)Tn(i,"get",r+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Ne)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){gr();const i=Ne(this)[e].apply(this,n);return mr(),i}}),t}function Du(t=!1,e=!1){return function(i,s,r){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&r===(t?e?Qw:Xw:e?Gw:Kw).get(i))return i;const o=se(i);if(!t&&o&&Fe(Gm,s))return Reflect.get(Gm,s,r);const a=Reflect.get(i,s,r);return(Ca(s)?Hw.has(s):oC(s))||(t||Tn(i,"get",s),e)?a:St(a)?o&&pp(s)?a:a.value:gt(a)?t?vp(a):bo(a):a}}const dC=Ww(),fC=Ww(!0);function Ww(t=!1){return function(n,i,s,r){let o=n[i];if(Qr(o)&&St(o)&&!St(s))return!1;if(!t&&!Qr(s)&&(Nc(s)||(s=Ne(s),o=Ne(o)),!se(n)&&St(o)&&!St(s)))return o.value=s,!0;const a=se(n)&&pp(i)?Number(i)<n.length:Fe(n,i),l=Reflect.set(n,i,s,r);return n===Ne(r)&&(a?Xr(s,o)&&Ii(n,"set",i,s):Ii(n,"add",i,s)),l}}function pC(t,e){const n=Fe(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Ii(t,"delete",e,void 0),i}function gC(t,e){const n=Reflect.has(t,e);return(!Ca(e)||!Hw.has(e))&&Tn(t,"has",e),n}function mC(t){return Tn(t,"iterate",se(t)?"length":Ws),Reflect.ownKeys(t)}const qw={get:aC,set:dC,deleteProperty:pC,has:gC,ownKeys:mC},Yw={get:cC,set(t,e){return!0},deleteProperty(t,e){return!0}},yC=pt({},qw,{get:lC,set:fC}),vC=pt({},Yw,{get:uC}),yp=t=>t,Ru=t=>Reflect.getPrototypeOf(t);function Wl(t,e,n=!1,i=!1){t=t.__v_raw;const s=Ne(t),r=Ne(e);n||(e!==r&&Tn(s,"get",e),Tn(s,"get",r));const{has:o}=Ru(s),a=i?yp:n?_p:Ia;if(o.call(s,e))return a(t.get(e));if(o.call(s,r))return a(t.get(r));t!==s&&t.get(e)}function ql(t,e=!1){const n=this.__v_raw,i=Ne(n),s=Ne(t);return e||(t!==s&&Tn(i,"has",t),Tn(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Yl(t,e=!1){return t=t.__v_raw,!e&&Tn(Ne(t),"iterate",Ws),Reflect.get(t,"size",t)}function Xm(t){t=Ne(t);const e=Ne(this);return Ru(e).has.call(e,t)||(e.add(t),Ii(e,"add",t,t)),this}function Qm(t,e){e=Ne(e);const n=Ne(this),{has:i,get:s}=Ru(n);let r=i.call(n,t);r||(t=Ne(t),r=i.call(n,t));const o=s.call(n,t);return n.set(t,e),r?Xr(e,o)&&Ii(n,"set",t,e):Ii(n,"add",t,e),this}function Jm(t){const e=Ne(this),{has:n,get:i}=Ru(e);let s=n.call(e,t);s||(t=Ne(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&Ii(e,"delete",t,void 0),r}function Zm(){const t=Ne(this),e=t.size!==0,n=t.clear();return e&&Ii(t,"clear",void 0,void 0),n}function Kl(t,e){return function(i,s){const r=this,o=r.__v_raw,a=Ne(o),l=e?yp:t?_p:Ia;return!t&&Tn(a,"iterate",Ws),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function Gl(t,e,n){return function(...i){const s=this.__v_raw,r=Ne(s),o=Ur(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),u=n?yp:e?_p:Ia;return!e&&Tn(r,"iterate",l?Qd:Ws),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Li(t){return function(...e){return t==="delete"?!1:this}}function bC(){const t={get(r){return Wl(this,r)},get size(){return Yl(this)},has:ql,add:Xm,set:Qm,delete:Jm,clear:Zm,forEach:Kl(!1,!1)},e={get(r){return Wl(this,r,!1,!0)},get size(){return Yl(this)},has:ql,add:Xm,set:Qm,delete:Jm,clear:Zm,forEach:Kl(!1,!0)},n={get(r){return Wl(this,r,!0)},get size(){return Yl(this,!0)},has(r){return ql.call(this,r,!0)},add:Li("add"),set:Li("set"),delete:Li("delete"),clear:Li("clear"),forEach:Kl(!0,!1)},i={get(r){return Wl(this,r,!0,!0)},get size(){return Yl(this,!0)},has(r){return ql.call(this,r,!0)},add:Li("add"),set:Li("set"),delete:Li("delete"),clear:Li("clear"),forEach:Kl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Gl(r,!1,!1),n[r]=Gl(r,!0,!1),e[r]=Gl(r,!1,!0),i[r]=Gl(r,!0,!0)}),[t,n,e,i]}const[wC,_C,xC,TC]=bC();function Nu(t,e){const n=e?t?TC:xC:t?_C:wC;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Fe(n,s)&&s in i?n:i,s,r)}const kC={get:Nu(!1,!1)},EC={get:Nu(!1,!0)},SC={get:Nu(!0,!1)},CC={get:Nu(!0,!0)},Kw=new WeakMap,Gw=new WeakMap,Xw=new WeakMap,Qw=new WeakMap;function IC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PC(t){return t.__v_skip||!Object.isExtensible(t)?0:IC(GS(t))}function bo(t){return Qr(t)?t:Lu(t,!1,qw,kC,Kw)}function Jw(t){return Lu(t,!1,yC,EC,Gw)}function vp(t){return Lu(t,!0,Yw,SC,Xw)}function OC(t){return Lu(t,!0,vC,CC,Qw)}function Lu(t,e,n,i,s){if(!gt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=PC(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return s.set(t,a),a}function qs(t){return Qr(t)?qs(t.__v_raw):!!(t&&t.__v_isReactive)}function Qr(t){return!!(t&&t.__v_isReadonly)}function Nc(t){return!!(t&&t.__v_isShallow)}function bp(t){return qs(t)||Qr(t)}function Ne(t){const e=t&&t.__v_raw;return e?Ne(e):t}function wp(t){return Rc(t,"__v_skip",!0),t}const Ia=t=>gt(t)?bo(t):t,_p=t=>gt(t)?vp(t):t;function xp(t){is&&Bn&&(t=Ne(t),jw(t.dep||(t.dep=mp())))}function Fu(t,e){t=Ne(t),t.dep&&Jd(t.dep)}function St(t){return!!(t&&t.__v_isRef===!0)}function Ae(t){return e_(t,!1)}function Zw(t){return e_(t,!0)}function e_(t,e){return St(t)?t:new MC(t,e)}class MC{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ne(e),this._value=n?e:Ia(e)}get value(){return xp(this),this._value}set value(e){e=this.__v_isShallow?e:Ne(e),Xr(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Ia(e),Fu(this))}}function AC(t){Fu(t)}function D(t){return St(t)?t.value:t}const DC={get:(t,e,n)=>D(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return St(s)&&!St(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Tp(t){return qs(t)?t:new Proxy(t,DC)}class RC{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:i}=e(()=>xp(this),()=>Fu(this));this._get=n,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function NC(t){return new RC(t)}function LC(t){const e=se(t)?new Array(t.length):{};for(const n in t)e[n]=t_(t,n);return e}class FC{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function t_(t,e,n){const i=t[e];return St(i)?i:new FC(t,e,n)}class $C{constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ol(e,()=>{this._dirty||(this._dirty=!0,Fu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Ne(this);return xp(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function BC(t,e,n=!1){let i,s;const r=be(t);return r?(i=t,s=Vn):(i=t.get,s=t.set),new $C(i,s,r||!s,n)}const ta=[];function n_(t,...e){gr();const n=ta.length?ta[ta.length-1].component:null,i=n&&n.appContext.config.warnHandler,s=UC();if(i)ri(i,n,11,[t+e.join(""),n&&n.proxy,s.map(({vnode:r})=>`at <${W_(n,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${t}`,...e];s.length&&r.push(`
`,...VC(s)),console.warn(...r)}mr()}function UC(){let t=ta[ta.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}function VC(t){const e=[];return t.forEach((n,i)=>{e.push(...i===0?[]:[`
`],...zC(n))}),e}function zC({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=t.component?t.component.parent==null:!1,s=` at <${W_(t.component,t.type,i)}`,r=">"+n;return t.props?[s,...jC(t.props),r]:[s+r]}function jC(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(i=>{e.push(...i_(i,t[i]))}),n.length>3&&e.push(" ..."),e}function i_(t,e,n){return dt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:St(e)?(e=i_(t,Ne(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):be(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ne(e),n?e:[`${t}=`,e])}function ri(t,e,n,i){let s;try{s=i?t(...i):t()}catch(r){yr(r,e,n)}return s}function bn(t,e,n,i){if(be(t)){const r=ri(t,e,n,i);return r&&fp(r)&&r.catch(o=>{yr(o,e,n)}),r}const s=[];for(let r=0;r<t.length;r++)s.push(bn(t[r],e,n,i));return s}function yr(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){ri(l,null,10,[t,o,a]);return}}HC(t,n,s,i)}function HC(t,e,n,i=!0){console.error(t)}let Lc=!1,Zd=!1;const vn=[];let _i=0;const na=[];let jo=null,Ar=0;const ia=[];let Hi=null,Dr=0;const s_=Promise.resolve();let kp=null,ef=null;function al(t){const e=kp||s_;return t?e.then(this?t.bind(this):t):e}function WC(t){let e=_i+1,n=vn.length;for(;e<n;){const i=e+n>>>1;Pa(vn[i])<t?e=i+1:n=i}return e}function Ep(t){(!vn.length||!vn.includes(t,Lc&&t.allowRecurse?_i+1:_i))&&t!==ef&&(t.id==null?vn.push(t):vn.splice(WC(t.id),0,t),r_())}function r_(){!Lc&&!Zd&&(Zd=!0,kp=s_.then(a_))}function qC(t){const e=vn.indexOf(t);e>_i&&vn.splice(e,1)}function o_(t,e,n,i){se(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?i+1:i))&&n.push(t),r_()}function YC(t){o_(t,jo,na,Ar)}function Sp(t){o_(t,Hi,ia,Dr)}function $u(t,e=null){if(na.length){for(ef=e,jo=[...new Set(na)],na.length=0,Ar=0;Ar<jo.length;Ar++)jo[Ar]();jo=null,Ar=0,ef=null,$u(t,e)}}function Fc(t){if($u(),ia.length){const e=[...new Set(ia)];if(ia.length=0,Hi){Hi.push(...e);return}for(Hi=e,Hi.sort((n,i)=>Pa(n)-Pa(i)),Dr=0;Dr<Hi.length;Dr++)Hi[Dr]();Hi=null,Dr=0}}const Pa=t=>t.id==null?1/0:t.id;function a_(t){Zd=!1,Lc=!0,$u(t),vn.sort((n,i)=>Pa(n)-Pa(i));const e=Vn;try{for(_i=0;_i<vn.length;_i++){const n=vn[_i];n&&n.active!==!1&&ri(n,null,14)}}finally{_i=0,vn.length=0,Fc(),Lc=!1,kp=null,(vn.length||na.length||ia.length)&&a_(t)}}let Rr,Xl=[];function l_(t,e){var n,i;Rr=t,Rr?(Rr.enabled=!0,Xl.forEach(({event:s,args:r})=>Rr.emit(s,...r)),Xl=[]):typeof window<"u"&&window.HTMLElement&&!(!((i=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{l_(r,e)}),setTimeout(()=>{Rr||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Xl=[])},3e3)):Xl=[]}function KC(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||qe;let s=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=i[u]||qe;d&&(s=n.map(f=>f.trim())),h&&(s=n.map(cs))}let a,l=i[a=ea(e)]||i[a=ea(xn(e))];!l&&r&&(l=i[a=ea(si(e))]),l&&bn(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,bn(c,t,6,s)}}function c_(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!be(t)){const l=c=>{const u=c_(c,e,!0);u&&(a=!0,pt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(i.set(t,null),null):(se(r)?r.forEach(l=>o[l]=null):pt(o,r),i.set(t,o),o)}function Bu(t,e){return!t||!il(e)?!1:(e=e.slice(2).replace(/Once$/,""),Fe(t,e[0].toLowerCase()+e.slice(1))||Fe(t,si(e))||Fe(t,e))}let Xt=null,Uu=null;function Oa(t){const e=Xt;return Xt=t,Uu=t&&t.type.__scopeId||null,e}function ws(t){Uu=t}function _s(){Uu=null}const GC=t=>wt;function wt(t,e=Xt,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&lf(-1);const r=Oa(e),o=t(...s);return Oa(r),i._d&&lf(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function _c(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:d,setupState:f,ctx:p,inheritAttrs:y}=t;let b,m;const v=Oa(t);try{if(n.shapeFlag&4){const k=s||i;b=yn(u.call(k,k,h,r,f,d,p)),m=l}else{const k=e;b=yn(k.length>1?k(r,{attrs:l,slots:a,emit:c}):k(r,null)),m=e.props?l:QC(l)}}catch(k){aa.length=0,yr(k,t,1),b=ye(en)}let _=b;if(m&&y!==!1){const k=Object.keys(m),{shapeFlag:x}=_;k.length&&x&7&&(o&&k.some(hp)&&(m=JC(m,o)),_=hi(_,m))}return n.dirs&&(_=hi(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),b=_,Oa(v),b}function XC(t){let e;for(let n=0;n<t.length;n++){const i=t[n];if(hs(i)){if(i.type!==en||i.children==="v-if"){if(e)return;e=i}}else return}return e}const QC=t=>{let e;for(const n in t)(n==="class"||n==="style"||il(n))&&((e||(e={}))[n]=t[n]);return e},JC=(t,e)=>{const n={};for(const i in t)(!hp(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function ZC(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?ey(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==i[d]&&!Bu(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?ey(i,o,c):!0:!!o;return!1}function ey(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!Bu(n,r))return!0}return!1}function Cp({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const u_=t=>t.__isSuspense,eI={name:"Suspense",__isSuspense:!0,process(t,e,n,i,s,r,o,a,l,c){t==null?nI(e,n,i,s,r,o,a,l,c):iI(t,e,n,i,s,o,a,l,c)},hydrate:sI,create:Ip,normalize:rI},tI=eI;function Ma(t,e){const n=t.props&&t.props[e];be(n)&&n()}function nI(t,e,n,i,s,r,o,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),d=t.suspense=Ip(t,s,i,e,h,n,r,o,a,l);c(null,d.pendingBranch=t.ssContent,h,null,i,d,r,o),d.deps>0?(Ma(t,"onPending"),Ma(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,r,o),zr(d,t.ssFallback)):d.resolve()}function iI(t,e,n,i,s,r,o,a,{p:l,um:c,o:{createElement:u}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const d=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:y,isInFallback:b,isHydrating:m}=h;if(y)h.pendingBranch=d,Zn(d,y)?(l(y,d,h.hiddenContainer,null,s,h,r,o,a),h.deps<=0?h.resolve():b&&(l(p,f,n,i,s,null,r,o,a),zr(h,f))):(h.pendingId++,m?(h.isHydrating=!1,h.activeBranch=y):c(y,s,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),b?(l(null,d,h.hiddenContainer,null,s,h,r,o,a),h.deps<=0?h.resolve():(l(p,f,n,i,s,null,r,o,a),zr(h,f))):p&&Zn(d,p)?(l(p,d,n,i,s,h,r,o,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,s,h,r,o,a),h.deps<=0&&h.resolve()));else if(p&&Zn(d,p))l(p,d,n,i,s,h,r,o,a),zr(h,d);else if(Ma(e,"onPending"),h.pendingBranch=d,h.pendingId++,l(null,d,h.hiddenContainer,null,s,h,r,o,a),h.deps<=0)h.resolve();else{const{timeout:v,pendingId:_}=h;v>0?setTimeout(()=>{h.pendingId===_&&h.fallback(f)},v):v===0&&h.fallback(f)}}function Ip(t,e,n,i,s,r,o,a,l,c,u=!1){const{p:h,m:d,um:f,n:p,o:{parentNode:y,remove:b}}=c,m=cs(t.props&&t.props.timeout),v={vnode:t,parent:e,parentComponent:n,isSVG:o,container:i,hiddenContainer:s,anchor:r,deps:0,pendingId:0,timeout:typeof m=="number"?m:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(_=!1){const{vnode:k,activeBranch:x,pendingBranch:S,pendingId:M,effects:C,parentComponent:O,container:L}=v;if(v.isHydrating)v.isHydrating=!1;else if(!_){const U=x&&S.transition&&S.transition.mode==="out-in";U&&(x.transition.afterLeave=()=>{M===v.pendingId&&d(S,L,P,0)});let{anchor:P}=v;x&&(P=p(x),f(x,O,v,!0)),U||d(S,L,P,0)}zr(v,S),v.pendingBranch=null,v.isInFallback=!1;let j=v.parent,F=!1;for(;j;){if(j.pendingBranch){j.effects.push(...C),F=!0;break}j=j.parent}F||Sp(C),v.effects=[],Ma(k,"onResolve")},fallback(_){if(!v.pendingBranch)return;const{vnode:k,activeBranch:x,parentComponent:S,container:M,isSVG:C}=v;Ma(k,"onFallback");const O=p(x),L=()=>{!v.isInFallback||(h(null,_,M,O,S,null,C,a,l),zr(v,_))},j=_.transition&&_.transition.mode==="out-in";j&&(x.transition.afterLeave=L),v.isInFallback=!0,f(x,S,null,!0),j||L()},move(_,k,x){v.activeBranch&&d(v.activeBranch,_,k,x),v.container=_},next(){return v.activeBranch&&p(v.activeBranch)},registerDep(_,k){const x=!!v.pendingBranch;x&&v.deps++;const S=_.vnode.el;_.asyncDep.catch(M=>{yr(M,_,0)}).then(M=>{if(_.isUnmounted||v.isUnmounted||v.pendingId!==_.suspenseId)return;_.asyncResolved=!0;const{vnode:C}=_;cf(_,M,!1),S&&(C.el=S);const O=!S&&_.subTree.el;k(_,C,y(S||_.subTree.el),S?null:p(_.subTree),v,o,l),O&&b(O),Cp(_,C.el),x&&--v.deps===0&&v.resolve()})},unmount(_,k){v.isUnmounted=!0,v.activeBranch&&f(v.activeBranch,n,_,k),v.pendingBranch&&f(v.pendingBranch,n,_,k)}};return v}function sI(t,e,n,i,s,r,o,a,l){const c=e.suspense=Ip(e,i,n,t.parentNode,document.createElement("div"),null,s,r,o,a,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,r,o);return c.deps===0&&c.resolve(),u}function rI(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=ty(i?n.default:n),t.ssFallback=i?ty(n.fallback):ye(en)}function ty(t){let e;if(be(t)){const n=tr&&t._c;n&&(t._d=!1,G()),t=t(),n&&(t._d=!0,e=hn,N_())}return se(t)&&(t=XC(t)),t=yn(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function h_(t,e){e&&e.pendingBranch?se(t)?e.effects.push(...t):e.effects.push(t):Sp(t)}function zr(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t,s=n.el=e.el;i&&i.subTree===n&&(i.vnode.el=s,Cp(i,s))}function sa(t,e){if(kt){let n=kt.provides;const i=kt.parent&&kt.parent.provides;i===n&&(n=kt.provides=Object.create(i)),n[t]=e}}function wn(t,e,n=!1){const i=kt||Xt;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&be(e)?e.call(i.proxy):e}}function oI(t,e){return ll(t,null,e)}function d_(t,e){return ll(t,null,{flush:"post"})}function aI(t,e){return ll(t,null,{flush:"sync"})}const ny={};function Jt(t,e,n){return ll(t,e,n)}function ll(t,e,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=qe){const a=kt;let l,c=!1,u=!1;if(St(t)?(l=()=>t.value,c=Nc(t)):qs(t)?(l=()=>t,i=!0):se(t)?(u=!0,c=t.some(m=>qs(m)||Nc(m)),l=()=>t.map(m=>{if(St(m))return m.value;if(qs(m))return Bs(m);if(be(m))return ri(m,a,2)})):be(t)?e?l=()=>ri(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),bn(t,a,3,[d])}:l=Vn,e&&i){const m=l;l=()=>Bs(m())}let h,d=m=>{h=b.onStop=()=>{ri(m,a,4)}};if(eo)return d=Vn,e?n&&bn(e,a,3,[l(),u?[]:void 0,d]):l(),Vn;let f=u?[]:ny;const p=()=>{if(!!b.active)if(e){const m=b.run();(i||c||(u?m.some((v,_)=>Xr(v,f[_])):Xr(m,f)))&&(h&&h(),bn(e,a,3,[m,f===ny?void 0:f,d]),f=m)}else b.run()};p.allowRecurse=!!e;let y;s==="sync"?y=p:s==="post"?y=()=>$t(p,a&&a.suspense):y=()=>YC(p);const b=new ol(l,y);return e?n?p():f=b.run():s==="post"?$t(b.run.bind(b),a&&a.suspense):b.run(),()=>{b.stop(),a&&a.scope&&dp(a.scope.effects,b)}}function lI(t,e,n){const i=this.proxy,s=dt(t)?t.includes(".")?f_(i,t):()=>i[t]:t.bind(i,i);let r;be(e)?r=e:(r=e.handler,n=e);const o=kt;ds(this);const a=ll(s,r.bind(i),n);return o?ds(o):ss(),a}function f_(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Bs(t,e){if(!gt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),St(t))Bs(t.value,e);else if(se(t))for(let n=0;n<t.length;n++)Bs(t[n],e);else if(pr(t)||Ur(t))t.forEach(n=>{Bs(n,e)});else if($w(t))for(const n in t)Bs(t[n],e);return t}function Pp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ri(()=>{t.isMounted=!0}),Hu(()=>{t.isUnmounting=!0}),t}const En=[Function,Array],cI={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:En,onEnter:En,onAfterEnter:En,onEnterCancelled:En,onBeforeLeave:En,onLeave:En,onAfterLeave:En,onLeaveCancelled:En,onBeforeAppear:En,onAppear:En,onAfterAppear:En,onAppearCancelled:En},setup(t,{slots:e}){const n=Ts(),i=Pp();let s;return()=>{const r=e.default&&Vu(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const y of r)if(y.type!==en){o=y;break}}const a=Ne(t),{mode:l}=a;if(i.isLeaving)return Bh(o);const c=iy(o);if(!c)return Bh(o);const u=Jr(c,a,i,n);er(c,u);const h=n.subTree,d=h&&iy(h);let f=!1;const{getTransitionKey:p}=c.type;if(p){const y=p();s===void 0?s=y:y!==s&&(s=y,f=!0)}if(d&&d.type!==en&&(!Zn(c,d)||f)){const y=Jr(d,a,i,n);if(er(d,y),l==="out-in")return i.isLeaving=!0,y.afterLeave=()=>{i.isLeaving=!1,n.update()},Bh(o);l==="in-out"&&c.type!==en&&(y.delayLeave=(b,m,v)=>{const _=p_(i,d);_[String(d.key)]=d,b._leaveCb=()=>{m(),b._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=v})}return o}}},Op=cI;function p_(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Jr(t,e,n,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:y,onAppear:b,onAfterAppear:m,onAppearCancelled:v}=e,_=String(t.key),k=p_(n,t),x=(C,O)=>{C&&bn(C,i,9,O)},S=(C,O)=>{const L=O[1];x(C,O),se(C)?C.every(j=>j.length<=1)&&L():C.length<=1&&L()},M={mode:r,persisted:o,beforeEnter(C){let O=a;if(!n.isMounted)if(s)O=y||a;else return;C._leaveCb&&C._leaveCb(!0);const L=k[_];L&&Zn(t,L)&&L.el._leaveCb&&L.el._leaveCb(),x(O,[C])},enter(C){let O=l,L=c,j=u;if(!n.isMounted)if(s)O=b||l,L=m||c,j=v||u;else return;let F=!1;const U=C._enterCb=P=>{F||(F=!0,P?x(j,[C]):x(L,[C]),M.delayedLeave&&M.delayedLeave(),C._enterCb=void 0)};O?S(O,[C,U]):U()},leave(C,O){const L=String(t.key);if(C._enterCb&&C._enterCb(!0),n.isUnmounting)return O();x(h,[C]);let j=!1;const F=C._leaveCb=U=>{j||(j=!0,O(),U?x(p,[C]):x(f,[C]),C._leaveCb=void 0,k[L]===t&&delete k[L])};k[L]=t,d?S(d,[C,F]):F()},clone(C){return Jr(C,e,n,i)}};return M}function Bh(t){if(cl(t))return t=hi(t),t.children=null,t}function iy(t){return cl(t)?t.children?t.children[0]:void 0:t}function er(t,e){t.shapeFlag&6&&t.component?er(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Vu(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Ye?(o.patchFlag&128&&s++,i=i.concat(Vu(o.children,e,a))):(e||o.type!==en)&&i.push(a!=null?hi(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function at(t){return be(t)?{setup:t,name:t.name}:t}const Ys=t=>!!t.type.__asyncLoader;function uI(t){be(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:s=200,timeout:r,suspensible:o=!0,onError:a}=t;let l=null,c,u=0;const h=()=>(u++,l=null,d()),d=()=>{let f;return l||(f=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((y,b)=>{a(p,()=>y(h()),()=>b(p),u+1)});throw p}).then(p=>f!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return at({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const f=kt;if(c)return()=>Uh(c,f);const p=v=>{l=null,yr(v,f,13,!i)};if(o&&f.suspense||eo)return d().then(v=>()=>Uh(v,f)).catch(v=>(p(v),()=>i?ye(i,{error:v}):null));const y=Ae(!1),b=Ae(),m=Ae(!!s);return s&&setTimeout(()=>{m.value=!1},s),r!=null&&setTimeout(()=>{if(!y.value&&!b.value){const v=new Error(`Async component timed out after ${r}ms.`);p(v),b.value=v}},r),d().then(()=>{y.value=!0,f.parent&&cl(f.parent.vnode)&&Ep(f.parent.update)}).catch(v=>{p(v),b.value=v}),()=>{if(y.value&&c)return Uh(c,f);if(b.value&&i)return ye(i,{error:b.value});if(n&&!m.value)return ye(n)}}})}function Uh(t,{vnode:{ref:e,props:n,children:i,shapeFlag:s},parent:r}){const o=ye(t,n,i);return o.ref=e,o}const cl=t=>t.type.__isKeepAlive,hI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Ts(),i=n.ctx;if(!i.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const s=new Map,r=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=i,d=h("div");i.activate=(v,_,k,x,S)=>{const M=v.component;c(v,_,k,0,a),l(M.vnode,v,_,k,M,a,x,v.slotScopeIds,S),$t(()=>{M.isDeactivated=!1,M.a&&Vr(M.a);const C=v.props&&v.props.onVnodeMounted;C&&ln(C,M.parent,v)},a)},i.deactivate=v=>{const _=v.component;c(v,d,null,1,a),$t(()=>{_.da&&Vr(_.da);const k=v.props&&v.props.onVnodeUnmounted;k&&ln(k,_.parent,v),_.isDeactivated=!0},a)};function f(v){Vh(v),u(v,n,a,!0)}function p(v){s.forEach((_,k)=>{const x=zc(_.type);x&&(!v||!v(x))&&y(k)})}function y(v){const _=s.get(v);!o||_.type!==o.type?f(_):o&&Vh(o),s.delete(v),r.delete(v)}Jt(()=>[t.include,t.exclude],([v,_])=>{v&&p(k=>Ho(v,k)),_&&p(k=>!Ho(_,k))},{flush:"post",deep:!0});let b=null;const m=()=>{b!=null&&s.set(b,zh(n.subTree))};return Ri(m),ju(m),Hu(()=>{s.forEach(v=>{const{subTree:_,suspense:k}=n,x=zh(_);if(v.type===x.type){Vh(x);const S=x.component.da;S&&$t(S,k);return}f(v)})}),()=>{if(b=null,!e.default)return null;const v=e.default(),_=v[0];if(v.length>1)return o=null,v;if(!hs(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let k=zh(_);const x=k.type,S=zc(Ys(k)?k.type.__asyncResolved||{}:x),{include:M,exclude:C,max:O}=t;if(M&&(!S||!Ho(M,S))||C&&S&&Ho(C,S))return o=k,_;const L=k.key==null?x:k.key,j=s.get(L);return k.el&&(k=hi(k),_.shapeFlag&128&&(_.ssContent=k)),b=L,j?(k.el=j.el,k.component=j.component,k.transition&&er(k,k.transition),k.shapeFlag|=512,r.delete(L),r.add(L)):(r.add(L),O&&r.size>parseInt(O,10)&&y(r.values().next().value)),k.shapeFlag|=256,o=k,u_(_.type)?_:k}}},dI=hI;function Ho(t,e){return se(t)?t.some(n=>Ho(n,e)):dt(t)?t.split(",").includes(e):t.test?t.test(e):!1}function Mp(t,e){g_(t,"a",e)}function Ap(t,e){g_(t,"da",e)}function g_(t,e,n=kt){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(zu(e,i,n),n){let s=n.parent;for(;s&&s.parent;)cl(s.parent.vnode)&&fI(i,e,n,s),s=s.parent}}function fI(t,e,n,i){const s=zu(e,t,i,!0);xs(()=>{dp(i[e],s)},n)}function Vh(t){let e=t.shapeFlag;e&256&&(e-=256),e&512&&(e-=512),t.shapeFlag=e}function zh(t){return t.shapeFlag&128?t.ssContent:t}function zu(t,e,n=kt,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;gr(),ds(n);const a=bn(e,n,t,o);return ss(),mr(),a});return i?s.unshift(r):s.push(r),r}}const Di=t=>(e,n=kt)=>(!eo||t==="sp")&&zu(t,e,n),m_=Di("bm"),Ri=Di("m"),y_=Di("bu"),ju=Di("u"),Hu=Di("bum"),xs=Di("um"),v_=Di("sp"),b_=Di("rtg"),w_=Di("rtc");function __(t,e=kt){zu("ec",t,e)}function ra(t,e){const n=Xt;if(n===null)return t;const i=qu(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,c=qe]=e[r];be(o)&&(o={mounted:o,updated:o}),o.deep&&Bs(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c})}return t}function Jn(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(gr(),bn(l,n,8,[t.el,a,t,e]),mr())}}const Dp="components",pI="directives";function Zt(t,e){return Rp(Dp,t,!0,e)||t}const x_=Symbol();function Gn(t){return dt(t)?Rp(Dp,t,!1)||t:t||x_}function gI(t){return Rp(pI,t)}function Rp(t,e,n=!0,i=!1){const s=Xt||kt;if(s){const r=s.type;if(t===Dp){const a=zc(r,!1);if(a&&(a===e||a===xn(e)||a===rl(xn(e))))return r}const o=sy(s[t]||r[t],e)||sy(s.appContext[t],e);return!o&&i?r:o}}function sy(t,e){return t&&(t[e]||t[xn(e)]||t[rl(xn(e))])}function Aa(t,e,n,i){let s;const r=n&&n[i];if(se(t)||dt(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,r&&r[o])}else if(gt(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=e(t[c],c,a,r&&r[a])}}else s=[];return n&&(n[i]=s),s}function mI(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(se(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.fn)}return t}function qi(t,e,n={},i,s){if(Xt.isCE||Xt.parent&&Ys(Xt.parent)&&Xt.parent.isCE)return ye("slot",e==="default"?null:{name:e},i&&i());let r=t[e];r&&r._c&&(r._d=!1),G();const o=r&&T_(r(n)),a=Dt(Ye,{key:n.key||`_${e}`},o||(i?i():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function T_(t){return t.some(e=>hs(e)?!(e.type===en||e.type===Ye&&!T_(e.children)):!0)?t:null}function yI(t){const e={};for(const n in t)e[ea(n)]=t[n];return e}const tf=t=>t?V_(t)?qu(t)||t.proxy:tf(t.parent):null,$c=pt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>tf(t.parent),$root:t=>tf(t.root),$emit:t=>t.emit,$options:t=>E_(t),$forceUpdate:t=>t.f||(t.f=()=>Ep(t.update)),$nextTick:t=>t.n||(t.n=al.bind(t.proxy)),$watch:t=>lI.bind(t)}),nf={get({_:t},e){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(i!==qe&&Fe(i,e))return o[e]=1,i[e];if(s!==qe&&Fe(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&Fe(c,e))return o[e]=3,r[e];if(n!==qe&&Fe(n,e))return o[e]=4,n[e];sf&&(o[e]=0)}}const u=$c[e];let h,d;if(u)return e==="$attrs"&&Tn(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==qe&&Fe(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,Fe(d,e))return d[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return s!==qe&&Fe(s,e)?(s[e]=n,!0):i!==qe&&Fe(i,e)?(i[e]=n,!0):Fe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||t!==qe&&Fe(t,o)||e!==qe&&Fe(e,o)||(a=r[0])&&Fe(a,o)||Fe(i,o)||Fe($c,o)||Fe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Fe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},vI=pt({},nf,{get(t,e){if(e!==Symbol.unscopables)return nf.get(t,e,t)},has(t,e){return e[0]!=="_"&&!$S(e)}});let sf=!0;function bI(t){const e=E_(t),n=t.proxy,i=t.ctx;sf=!1,e.beforeCreate&&ry(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:y,deactivated:b,beforeDestroy:m,beforeUnmount:v,destroyed:_,unmounted:k,render:x,renderTracked:S,renderTriggered:M,errorCaptured:C,serverPrefetch:O,expose:L,inheritAttrs:j,components:F,directives:U,filters:P}=e;if(c&&wI(c,i,null,t.appContext.config.unwrapInjectedRef),o)for(const V in o){const Q=o[V];be(Q)&&(i[V]=Q.bind(n))}if(s){const V=s.call(n,n);gt(V)&&(t.data=bo(V))}if(sf=!0,r)for(const V in r){const Q=r[V],ne=be(Q)?Q.bind(n,n):be(Q.get)?Q.get.bind(n,n):Vn,pe=!be(Q)&&be(Q.set)?Q.set.bind(n):Vn,Te=Ue({get:ne,set:pe});Object.defineProperty(i,V,{enumerable:!0,configurable:!0,get:()=>Te.value,set:we=>Te.value=we})}if(a)for(const V in a)k_(a[V],i,n,V);if(l){const V=be(l)?l.call(n):l;Reflect.ownKeys(V).forEach(Q=>{sa(Q,V[Q])})}u&&ry(u,t,"c");function $(V,Q){se(Q)?Q.forEach(ne=>V(ne.bind(n))):Q&&V(Q.bind(n))}if($(m_,h),$(Ri,d),$(y_,f),$(ju,p),$(Mp,y),$(Ap,b),$(__,C),$(w_,S),$(b_,M),$(Hu,v),$(xs,k),$(v_,O),se(L))if(L.length){const V=t.exposed||(t.exposed={});L.forEach(Q=>{Object.defineProperty(V,Q,{get:()=>n[Q],set:ne=>n[Q]=ne})})}else t.exposed||(t.exposed={});x&&t.render===Vn&&(t.render=x),j!=null&&(t.inheritAttrs=j),F&&(t.components=F),U&&(t.directives=U)}function wI(t,e,n=Vn,i=!1){se(t)&&(t=rf(t));for(const s in t){const r=t[s];let o;gt(r)?"default"in r?o=wn(r.from||s,r.default,!0):o=wn(r.from||s):o=wn(r),St(o)&&i?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[s]=o}}function ry(t,e,n){bn(se(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function k_(t,e,n,i){const s=i.includes(".")?f_(n,i):()=>n[i];if(dt(t)){const r=e[t];be(r)&&Jt(s,r)}else if(be(t))Jt(s,t.bind(n));else if(gt(t))if(se(t))t.forEach(r=>k_(r,e,n,i));else{const r=be(t.handler)?t.handler.bind(n):e[t.handler];be(r)&&Jt(s,r,t)}}function E_(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>Bc(l,c,o,!0)),Bc(l,e,o)),r.set(e,l),l}function Bc(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&Bc(t,r,n,!0),s&&s.forEach(o=>Bc(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=_I[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const _I={data:oy,props:Ds,emits:Ds,methods:Ds,computed:Ds,beforeCreate:sn,created:sn,beforeMount:sn,mounted:sn,beforeUpdate:sn,updated:sn,beforeDestroy:sn,beforeUnmount:sn,destroyed:sn,unmounted:sn,activated:sn,deactivated:sn,errorCaptured:sn,serverPrefetch:sn,components:Ds,directives:Ds,watch:TI,provide:oy,inject:xI};function oy(t,e){return e?t?function(){return pt(be(t)?t.call(this,this):t,be(e)?e.call(this,this):e)}:e:t}function xI(t,e){return Ds(rf(t),rf(e))}function rf(t){if(se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function sn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ds(t,e){return t?pt(pt(Object.create(null),t),e):e}function TI(t,e){if(!t)return e;if(!e)return t;const n=pt(Object.create(null),t);for(const i in e)n[i]=sn(t[i],e[i]);return n}function kI(t,e,n,i=!1){const s={},r={};Rc(r,Wu,1),t.propsDefaults=Object.create(null),S_(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:Jw(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function EI(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=Ne(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Bu(t.emitsOptions,d))continue;const f=e[d];if(l)if(Fe(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const p=xn(d);s[p]=of(l,a,p,f,t,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{S_(t,e,s,r)&&(c=!0);let u;for(const h in a)(!e||!Fe(e,h)&&((u=si(h))===h||!Fe(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=of(l,a,h,void 0,t,!0)):delete s[h]);if(r!==a)for(const h in r)(!e||!Fe(e,h)&&!0)&&(delete r[h],c=!0)}c&&Ii(t,"set","$attrs")}function S_(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Zo(l))continue;const c=e[l];let u;s&&Fe(s,u=xn(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Bu(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=Ne(n),c=a||qe;for(let u=0;u<r.length;u++){const h=r[u];n[h]=of(s,l,h,c[h],t,!Fe(c,h))}}return o}function of(t,e,n,i,s,r){const o=t[n];if(o!=null){const a=Fe(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&be(l)){const{propsDefaults:c}=s;n in c?i=c[n]:(ds(s),i=c[n]=l.call(null,e),ss())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===si(n))&&(i=!0))}return i}function C_(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!be(t)){const u=h=>{l=!0;const[d,f]=C_(h,e,!0);pt(o,d),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return i.set(t,Br),Br;if(se(r))for(let u=0;u<r.length;u++){const h=xn(r[u]);ay(h)&&(o[h]=qe)}else if(r)for(const u in r){const h=xn(u);if(ay(h)){const d=r[u],f=o[h]=se(d)||be(d)?{type:d}:d;if(f){const p=uy(Boolean,f.type),y=uy(String,f.type);f[0]=p>-1,f[1]=y<0||p<y,(p>-1||Fe(f,"default"))&&a.push(h)}}}const c=[o,a];return i.set(t,c),c}function ay(t){return t[0]!=="$"}function ly(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function cy(t,e){return ly(t)===ly(e)}function uy(t,e){return se(e)?e.findIndex(n=>cy(n,t)):be(e)&&cy(e,t)?0:-1}const I_=t=>t[0]==="_"||t==="$stable",Np=t=>se(t)?t.map(yn):[yn(t)],SI=(t,e,n)=>{if(e._n)return e;const i=wt((...s)=>Np(e(...s)),n);return i._c=!1,i},P_=(t,e,n)=>{const i=t._ctx;for(const s in t){if(I_(s))continue;const r=t[s];if(be(r))e[s]=SI(s,r,i);else if(r!=null){const o=Np(r);e[s]=()=>o}}},O_=(t,e)=>{const n=Np(e);t.slots.default=()=>n},CI=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ne(e),Rc(e,"_",n)):P_(e,t.slots={})}else t.slots={},e&&O_(t,e);Rc(t.slots,Wu,1)},II=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=qe;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(pt(s,e),!n&&a===1&&delete s._):(r=!e.$stable,P_(e,s)),o=e}else e&&(O_(t,e),o={default:1});if(r)for(const a in s)!I_(a)&&!(a in o)&&delete s[a]};function M_(){return{app:null,config:{isNativeTag:qS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let PI=0;function OI(t,e){return function(i,s=null){be(i)||(i=Object.assign({},i)),s!=null&&!gt(s)&&(s=null);const r=M_(),o=new Set;let a=!1;const l=r.app={_uid:PI++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:G_,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&be(c.install)?(o.add(c),c.install(l,...u)):be(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const d=ye(i,s);return d.appContext=r,u&&e?e(d,c):t(d,c,h),a=!0,l._container=c,c.__vue_app__=l,qu(d.component)||d.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l}};return l}}function Uc(t,e,n,i,s=!1){if(se(t)){t.forEach((d,f)=>Uc(d,e&&(se(e)?e[f]:e),n,i,s));return}if(Ys(i)&&!s)return;const r=i.shapeFlag&4?qu(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===qe?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(dt(c)?(u[c]=null,Fe(h,c)&&(h[c]=null)):St(c)&&(c.value=null)),be(l))ri(l,a,12,[o,u]);else{const d=dt(l),f=St(l);if(d||f){const p=()=>{if(t.f){const y=d?u[l]:l.value;s?se(y)&&dp(y,r):se(y)?y.includes(r)||y.push(r):d?(u[l]=[r],Fe(h,l)&&(h[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else d?(u[l]=o,Fe(h,l)&&(h[l]=o)):f&&(l.value=o,t.k&&(u[t.k]=o))};o?(p.id=-1,$t(p,n)):p()}}}let Fi=!1;const Ql=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Jl=t=>t.nodeType===8;function MI(t){const{mt:e,p:n,o:{patchProp:i,createText:s,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=t,u=(m,v)=>{if(!v.hasChildNodes()){n(null,m,v),Fc(),v._vnode=m;return}Fi=!1,h(v.firstChild,m,null,null,null),Fc(),v._vnode=m,Fi&&console.error("Hydration completed but contains mismatches.")},h=(m,v,_,k,x,S=!1)=>{const M=Jl(m)&&m.data==="[",C=()=>y(m,v,_,k,x,M),{type:O,ref:L,shapeFlag:j,patchFlag:F}=v,U=m.nodeType;v.el=m,F===-2&&(S=!1,v.dynamicChildren=null);let P=null;switch(O){case Zr:U!==3?v.children===""?(l(v.el=s(""),o(m),m),P=m):P=C():(m.data!==v.children&&(Fi=!0,m.data=v.children),P=r(m));break;case en:U!==8||M?P=C():P=r(m);break;case Ks:if(U!==1&&U!==3)P=C();else{P=m;const A=!v.children.length;for(let $=0;$<v.staticCount;$++)A&&(v.children+=P.nodeType===1?P.outerHTML:P.data),$===v.staticCount-1&&(v.anchor=P),P=r(P);return P}break;case Ye:M?P=p(m,v,_,k,x,S):P=C();break;default:if(j&1)U!==1||v.type.toLowerCase()!==m.tagName.toLowerCase()?P=C():P=d(m,v,_,k,x,S);else if(j&6){v.slotScopeIds=x;const A=o(m);if(e(v,A,null,_,k,Ql(A),S),P=M?b(m):r(m),P&&Jl(P)&&P.data==="teleport end"&&(P=r(P)),Ys(v)){let $;M?($=ye(Ye),$.anchor=P?P.previousSibling:A.lastChild):$=m.nodeType===3?he(""):ye("div"),$.el=m,v.component.subTree=$}}else j&64?U!==8?P=C():P=v.type.hydrate(m,v,_,k,x,S,t,f):j&128&&(P=v.type.hydrate(m,v,_,k,Ql(o(m)),x,S,t,h))}return L!=null&&Uc(L,null,k,v),P},d=(m,v,_,k,x,S)=>{S=S||!!v.dynamicChildren;const{type:M,props:C,patchFlag:O,shapeFlag:L,dirs:j}=v,F=M==="input"&&j||M==="option";if(F||O!==-1){if(j&&Jn(v,null,_,"created"),C)if(F||!S||O&48)for(const P in C)(F&&P.endsWith("value")||il(P)&&!Zo(P))&&i(m,P,null,C[P],!1,void 0,_);else C.onClick&&i(m,"onClick",null,C.onClick,!1,void 0,_);let U;if((U=C&&C.onVnodeBeforeMount)&&ln(U,_,v),j&&Jn(v,null,_,"beforeMount"),((U=C&&C.onVnodeMounted)||j)&&h_(()=>{U&&ln(U,_,v),j&&Jn(v,null,_,"mounted")},k),L&16&&!(C&&(C.innerHTML||C.textContent))){let P=f(m.firstChild,v,m,_,k,x,S);for(;P;){Fi=!0;const A=P;P=P.nextSibling,a(A)}}else L&8&&m.textContent!==v.children&&(Fi=!0,m.textContent=v.children)}return m.nextSibling},f=(m,v,_,k,x,S,M)=>{M=M||!!v.dynamicChildren;const C=v.children,O=C.length;for(let L=0;L<O;L++){const j=M?C[L]:C[L]=yn(C[L]);if(m)m=h(m,j,k,x,S,M);else{if(j.type===Zr&&!j.children)continue;Fi=!0,n(null,j,_,null,k,x,Ql(_),S)}}return m},p=(m,v,_,k,x,S)=>{const{slotScopeIds:M}=v;M&&(x=x?x.concat(M):M);const C=o(m),O=f(r(m),v,C,_,k,x,S);return O&&Jl(O)&&O.data==="]"?r(v.anchor=O):(Fi=!0,l(v.anchor=c("]"),C,O),O)},y=(m,v,_,k,x,S)=>{if(Fi=!0,v.el=null,S){const O=b(m);for(;;){const L=r(m);if(L&&L!==O)a(L);else break}}const M=r(m),C=o(m);return a(m),n(null,v,C,M,_,k,Ql(C),x),M},b=m=>{let v=0;for(;m;)if(m=r(m),m&&Jl(m)&&(m.data==="["&&v++,m.data==="]")){if(v===0)return r(m);v--}return m};return[u,h]}const $t=h_;function A_(t){return R_(t)}function D_(t){return R_(t,MI)}function R_(t,e){const n=JS();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=Vn,cloneNode:p,insertStaticContent:y}=t,b=(g,w,T,N=null,B=null,R=null,J=!1,z=null,X=!!w.dynamicChildren)=>{if(g===w)return;g&&!Zn(g,w)&&(N=ee(g),Ie(g,B,R,!0),g=null),w.patchFlag===-2&&(X=!1,w.dynamicChildren=null);const{type:H,ref:le,shapeFlag:ie}=w;switch(H){case Zr:m(g,w,T,N);break;case en:v(g,w,T,N);break;case Ks:g==null&&_(w,T,N,J);break;case Ye:U(g,w,T,N,B,R,J,z,X);break;default:ie&1?S(g,w,T,N,B,R,J,z,X):ie&6?P(g,w,T,N,B,R,J,z,X):(ie&64||ie&128)&&H.process(g,w,T,N,B,R,J,z,X,Ce)}le!=null&&B&&Uc(le,g&&g.ref,R,w||g,!w)},m=(g,w,T,N)=>{if(g==null)i(w.el=a(w.children),T,N);else{const B=w.el=g.el;w.children!==g.children&&c(B,w.children)}},v=(g,w,T,N)=>{g==null?i(w.el=l(w.children||""),T,N):w.el=g.el},_=(g,w,T,N)=>{[g.el,g.anchor]=y(g.children,w,T,N,g.el,g.anchor)},k=({el:g,anchor:w},T,N)=>{let B;for(;g&&g!==w;)B=d(g),i(g,T,N),g=B;i(w,T,N)},x=({el:g,anchor:w})=>{let T;for(;g&&g!==w;)T=d(g),s(g),g=T;s(w)},S=(g,w,T,N,B,R,J,z,X)=>{J=J||w.type==="svg",g==null?M(w,T,N,B,R,J,z,X):L(g,w,B,R,J,z,X)},M=(g,w,T,N,B,R,J,z)=>{let X,H;const{type:le,props:ie,shapeFlag:ce,transition:ke,patchFlag:$e,dirs:Qe}=g;if(g.el&&p!==void 0&&$e===-1)X=g.el=p(g.el);else{if(X=g.el=o(g.type,R,ie&&ie.is,ie),ce&8?u(X,g.children):ce&16&&O(g.children,X,null,N,B,R&&le!=="foreignObject",J,z),Qe&&Jn(g,null,N,"created"),ie){for(const st in ie)st!=="value"&&!Zo(st)&&r(X,st,null,ie[st],R,g.children,N,B,W);"value"in ie&&r(X,"value",null,ie.value),(H=ie.onVnodeBeforeMount)&&ln(H,N,g)}C(X,g,g.scopeId,J,N)}Qe&&Jn(g,null,N,"beforeMount");const Je=(!B||B&&!B.pendingBranch)&&ke&&!ke.persisted;Je&&ke.beforeEnter(X),i(X,w,T),((H=ie&&ie.onVnodeMounted)||Je||Qe)&&$t(()=>{H&&ln(H,N,g),Je&&ke.enter(X),Qe&&Jn(g,null,N,"mounted")},B)},C=(g,w,T,N,B)=>{if(T&&f(g,T),N)for(let R=0;R<N.length;R++)f(g,N[R]);if(B){let R=B.subTree;if(w===R){const J=B.vnode;C(g,J,J.scopeId,J.slotScopeIds,B.parent)}}},O=(g,w,T,N,B,R,J,z,X=0)=>{for(let H=X;H<g.length;H++){const le=g[H]=z?Yi(g[H]):yn(g[H]);b(null,le,w,T,N,B,R,J,z)}},L=(g,w,T,N,B,R,J)=>{const z=w.el=g.el;let{patchFlag:X,dynamicChildren:H,dirs:le}=w;X|=g.patchFlag&16;const ie=g.props||qe,ce=w.props||qe;let ke;T&&Ps(T,!1),(ke=ce.onVnodeBeforeUpdate)&&ln(ke,T,w,g),le&&Jn(w,g,T,"beforeUpdate"),T&&Ps(T,!0);const $e=B&&w.type!=="foreignObject";if(H?j(g.dynamicChildren,H,z,T,N,$e,R):J||ne(g,w,z,null,T,N,$e,R,!1),X>0){if(X&16)F(z,w,ie,ce,T,N,B);else if(X&2&&ie.class!==ce.class&&r(z,"class",null,ce.class,B),X&4&&r(z,"style",ie.style,ce.style,B),X&8){const Qe=w.dynamicProps;for(let Je=0;Je<Qe.length;Je++){const st=Qe[Je],Nn=ie[st],kr=ce[st];(kr!==Nn||st==="value")&&r(z,st,Nn,kr,B,g.children,T,N,W)}}X&1&&g.children!==w.children&&u(z,w.children)}else!J&&H==null&&F(z,w,ie,ce,T,N,B);((ke=ce.onVnodeUpdated)||le)&&$t(()=>{ke&&ln(ke,T,w,g),le&&Jn(w,g,T,"updated")},N)},j=(g,w,T,N,B,R,J)=>{for(let z=0;z<w.length;z++){const X=g[z],H=w[z],le=X.el&&(X.type===Ye||!Zn(X,H)||X.shapeFlag&70)?h(X.el):T;b(X,H,le,null,N,B,R,J,!0)}},F=(g,w,T,N,B,R,J)=>{if(T!==N){for(const z in N){if(Zo(z))continue;const X=N[z],H=T[z];X!==H&&z!=="value"&&r(g,z,H,X,J,w.children,B,R,W)}if(T!==qe)for(const z in T)!Zo(z)&&!(z in N)&&r(g,z,T[z],null,J,w.children,B,R,W);"value"in N&&r(g,"value",T.value,N.value)}},U=(g,w,T,N,B,R,J,z,X)=>{const H=w.el=g?g.el:a(""),le=w.anchor=g?g.anchor:a("");let{patchFlag:ie,dynamicChildren:ce,slotScopeIds:ke}=w;ke&&(z=z?z.concat(ke):ke),g==null?(i(H,T,N),i(le,T,N),O(w.children,T,le,B,R,J,z,X)):ie>0&&ie&64&&ce&&g.dynamicChildren?(j(g.dynamicChildren,ce,T,B,R,J,z),(w.key!=null||B&&w===B.subTree)&&Lp(g,w,!0)):ne(g,w,T,le,B,R,J,z,X)},P=(g,w,T,N,B,R,J,z,X)=>{w.slotScopeIds=z,g==null?w.shapeFlag&512?B.ctx.activate(w,T,N,J,X):A(w,T,N,B,R,J,X):$(g,w,X)},A=(g,w,T,N,B,R,J)=>{const z=g.component=U_(g,N,B);if(cl(g)&&(z.ctx.renderer=Ce),z_(z),z.asyncDep){if(B&&B.registerDep(z,V),!g.el){const X=z.subTree=ye(en);v(null,X,w,T)}return}V(z,g,w,T,B,R,J)},$=(g,w,T)=>{const N=w.component=g.component;if(ZC(g,w,T))if(N.asyncDep&&!N.asyncResolved){Q(N,w,T);return}else N.next=w,qC(N.update),N.update();else w.el=g.el,N.vnode=w},V=(g,w,T,N,B,R,J)=>{const z=()=>{if(g.isMounted){let{next:le,bu:ie,u:ce,parent:ke,vnode:$e}=g,Qe=le,Je;Ps(g,!1),le?(le.el=$e.el,Q(g,le,J)):le=$e,ie&&Vr(ie),(Je=le.props&&le.props.onVnodeBeforeUpdate)&&ln(Je,ke,le,$e),Ps(g,!0);const st=_c(g),Nn=g.subTree;g.subTree=st,b(Nn,st,h(Nn.el),ee(Nn),g,B,R),le.el=st.el,Qe===null&&Cp(g,st.el),ce&&$t(ce,B),(Je=le.props&&le.props.onVnodeUpdated)&&$t(()=>ln(Je,ke,le,$e),B)}else{let le;const{el:ie,props:ce}=w,{bm:ke,m:$e,parent:Qe}=g,Je=Ys(w);if(Ps(g,!1),ke&&Vr(ke),!Je&&(le=ce&&ce.onVnodeBeforeMount)&&ln(le,Qe,w),Ps(g,!0),ie&&me){const st=()=>{g.subTree=_c(g),me(ie,g.subTree,g,B,null)};Je?w.type.__asyncLoader().then(()=>!g.isUnmounted&&st()):st()}else{const st=g.subTree=_c(g);b(null,st,T,N,g,B,R),w.el=st.el}if($e&&$t($e,B),!Je&&(le=ce&&ce.onVnodeMounted)){const st=w;$t(()=>ln(le,Qe,st),B)}(w.shapeFlag&256||Qe&&Ys(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&g.a&&$t(g.a,B),g.isMounted=!0,w=T=N=null}},X=g.effect=new ol(z,()=>Ep(H),g.scope),H=g.update=()=>X.run();H.id=g.uid,Ps(g,!0),H()},Q=(g,w,T)=>{w.component=g;const N=g.vnode.props;g.vnode=w,g.next=null,EI(g,w.props,N,T),II(g,w.children,T),gr(),$u(void 0,g.update),mr()},ne=(g,w,T,N,B,R,J,z,X=!1)=>{const H=g&&g.children,le=g?g.shapeFlag:0,ie=w.children,{patchFlag:ce,shapeFlag:ke}=w;if(ce>0){if(ce&128){Te(H,ie,T,N,B,R,J,z,X);return}else if(ce&256){pe(H,ie,T,N,B,R,J,z,X);return}}ke&8?(le&16&&W(H,B,R),ie!==H&&u(T,ie)):le&16?ke&16?Te(H,ie,T,N,B,R,J,z,X):W(H,B,R,!0):(le&8&&u(T,""),ke&16&&O(ie,T,N,B,R,J,z,X))},pe=(g,w,T,N,B,R,J,z,X)=>{g=g||Br,w=w||Br;const H=g.length,le=w.length,ie=Math.min(H,le);let ce;for(ce=0;ce<ie;ce++){const ke=w[ce]=X?Yi(w[ce]):yn(w[ce]);b(g[ce],ke,T,null,B,R,J,z,X)}H>le?W(g,B,R,!0,!1,ie):O(w,T,N,B,R,J,z,X,ie)},Te=(g,w,T,N,B,R,J,z,X)=>{let H=0;const le=w.length;let ie=g.length-1,ce=le-1;for(;H<=ie&&H<=ce;){const ke=g[H],$e=w[H]=X?Yi(w[H]):yn(w[H]);if(Zn(ke,$e))b(ke,$e,T,null,B,R,J,z,X);else break;H++}for(;H<=ie&&H<=ce;){const ke=g[ie],$e=w[ce]=X?Yi(w[ce]):yn(w[ce]);if(Zn(ke,$e))b(ke,$e,T,null,B,R,J,z,X);else break;ie--,ce--}if(H>ie){if(H<=ce){const ke=ce+1,$e=ke<le?w[ke].el:N;for(;H<=ce;)b(null,w[H]=X?Yi(w[H]):yn(w[H]),T,$e,B,R,J,z,X),H++}}else if(H>ce)for(;H<=ie;)Ie(g[H],B,R,!0),H++;else{const ke=H,$e=H,Qe=new Map;for(H=$e;H<=ce;H++){const pn=w[H]=X?Yi(w[H]):yn(w[H]);pn.key!=null&&Qe.set(pn.key,H)}let Je,st=0;const Nn=ce-$e+1;let kr=!1,zm=0;const Po=new Array(Nn);for(H=0;H<Nn;H++)Po[H]=0;for(H=ke;H<=ie;H++){const pn=g[H];if(st>=Nn){Ie(pn,B,R,!0);continue}let Kn;if(pn.key!=null)Kn=Qe.get(pn.key);else for(Je=$e;Je<=ce;Je++)if(Po[Je-$e]===0&&Zn(pn,w[Je])){Kn=Je;break}Kn===void 0?Ie(pn,B,R,!0):(Po[Kn-$e]=H+1,Kn>=zm?zm=Kn:kr=!0,b(pn,w[Kn],T,null,B,R,J,z,X),st++)}const jm=kr?AI(Po):Br;for(Je=jm.length-1,H=Nn-1;H>=0;H--){const pn=$e+H,Kn=w[pn],Hm=pn+1<le?w[pn+1].el:N;Po[H]===0?b(null,Kn,T,Hm,B,R,J,z,X):kr&&(Je<0||H!==jm[Je]?we(Kn,T,Hm,2):Je--)}}},we=(g,w,T,N,B=null)=>{const{el:R,type:J,transition:z,children:X,shapeFlag:H}=g;if(H&6){we(g.component.subTree,w,T,N);return}if(H&128){g.suspense.move(w,T,N);return}if(H&64){J.move(g,w,T,Ce);return}if(J===Ye){i(R,w,T);for(let ie=0;ie<X.length;ie++)we(X[ie],w,T,N);i(g.anchor,w,T);return}if(J===Ks){k(g,w,T);return}if(N!==2&&H&1&&z)if(N===0)z.beforeEnter(R),i(R,w,T),$t(()=>z.enter(R),B);else{const{leave:ie,delayLeave:ce,afterLeave:ke}=z,$e=()=>i(R,w,T),Qe=()=>{ie(R,()=>{$e(),ke&&ke()})};ce?ce(R,$e,Qe):Qe()}else i(R,w,T)},Ie=(g,w,T,N=!1,B=!1)=>{const{type:R,props:J,ref:z,children:X,dynamicChildren:H,shapeFlag:le,patchFlag:ie,dirs:ce}=g;if(z!=null&&Uc(z,null,T,g,!0),le&256){w.ctx.deactivate(g);return}const ke=le&1&&ce,$e=!Ys(g);let Qe;if($e&&(Qe=J&&J.onVnodeBeforeUnmount)&&ln(Qe,w,g),le&6)K(g.component,T,N);else{if(le&128){g.suspense.unmount(T,N);return}ke&&Jn(g,null,w,"beforeUnmount"),le&64?g.type.remove(g,w,T,B,Ce,N):H&&(R!==Ye||ie>0&&ie&64)?W(H,w,T,!1,!0):(R===Ye&&ie&384||!B&&le&16)&&W(X,w,T),N&&it(g)}($e&&(Qe=J&&J.onVnodeUnmounted)||ke)&&$t(()=>{Qe&&ln(Qe,w,g),ke&&Jn(g,null,w,"unmounted")},T)},it=g=>{const{type:w,el:T,anchor:N,transition:B}=g;if(w===Ye){I(T,N);return}if(w===Ks){x(g);return}const R=()=>{s(T),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(g.shapeFlag&1&&B&&!B.persisted){const{leave:J,delayLeave:z}=B,X=()=>J(T,R);z?z(g.el,R,X):X()}else R()},I=(g,w)=>{let T;for(;g!==w;)T=d(g),s(g),g=T;s(w)},K=(g,w,T)=>{const{bum:N,scope:B,update:R,subTree:J,um:z}=g;N&&Vr(N),B.stop(),R&&(R.active=!1,Ie(J,g,w,T)),z&&$t(z,w),$t(()=>{g.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},W=(g,w,T,N=!1,B=!1,R=0)=>{for(let J=R;J<g.length;J++)Ie(g[J],w,T,N,B)},ee=g=>g.shapeFlag&6?ee(g.component.subTree):g.shapeFlag&128?g.suspense.next():d(g.anchor||g.el),ge=(g,w,T)=>{g==null?w._vnode&&Ie(w._vnode,null,null,!0):b(w._vnode||null,g,w,null,null,null,T),Fc(),w._vnode=g},Ce={p:b,um:Ie,m:we,r:it,mt:A,mc:O,pc:ne,pbc:j,n:ee,o:t};let ve,me;return e&&([ve,me]=e(Ce)),{render:ge,hydrate:ve,createApp:OI(ge,ve)}}function Ps({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Lp(t,e,n=!1){const i=t.children,s=e.children;if(se(i)&&se(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Yi(s[r]),a.el=o.el),n||Lp(o,a))}}function AI(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const DI=t=>t.__isTeleport,oa=t=>t&&(t.disabled||t.disabled===""),hy=t=>typeof SVGElement<"u"&&t instanceof SVGElement,af=(t,e)=>{const n=t&&t.to;return dt(n)?e?e(n):null:n},RI={__isTeleport:!0,process(t,e,n,i,s,r,o,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:y,createComment:b}}=c,m=oa(e.props);let{shapeFlag:v,children:_,dynamicChildren:k}=e;if(t==null){const x=e.el=y(""),S=e.anchor=y("");f(x,n,i),f(S,n,i);const M=e.target=af(e.props,p),C=e.targetAnchor=y("");M&&(f(C,M),o=o||hy(M));const O=(L,j)=>{v&16&&u(_,L,j,s,r,o,a,l)};m?O(n,S):M&&O(M,C)}else{e.el=t.el;const x=e.anchor=t.anchor,S=e.target=t.target,M=e.targetAnchor=t.targetAnchor,C=oa(t.props),O=C?n:S,L=C?x:M;if(o=o||hy(S),k?(d(t.dynamicChildren,k,O,s,r,o,a),Lp(t,e,!0)):l||h(t,e,O,L,s,r,o,a,!1),m)C||Zl(e,n,x,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const j=e.target=af(e.props,p);j&&Zl(e,j,null,c,0)}else C&&Zl(e,S,M,c,1)}},remove(t,e,n,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=t;if(h&&r(u),(o||!oa(d))&&(r(c),a&16))for(let f=0;f<l.length;f++){const p=l[f];s(p,e,n,!0,!!p.dynamicChildren)}},move:Zl,hydrate:NI};function Zl(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,h=r===2;if(h&&i(o,e,n),(!h||oa(u))&&l&16)for(let d=0;d<c.length;d++)s(c[d],e,n,2);h&&i(a,e,n)}function NI(t,e,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=af(e.props,l);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(oa(e.props))e.anchor=c(o(t),e,a(t),n,i,s,r),e.targetAnchor=h;else{e.anchor=o(t);let d=h;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(h,e,u,n,i,s,r)}}return e.anchor&&o(e.anchor)}const LI=RI,Ye=Symbol(void 0),Zr=Symbol(void 0),en=Symbol(void 0),Ks=Symbol(void 0),aa=[];let hn=null;function G(t=!1){aa.push(hn=t?null:[])}function N_(){aa.pop(),hn=aa[aa.length-1]||null}let tr=1;function lf(t){tr+=t}function L_(t){return t.dynamicChildren=tr>0?hn||Br:null,N_(),tr>0&&hn&&hn.push(t),t}function Z(t,e,n,i,s,r){return L_(E(t,e,n,i,s,r,!0))}function Dt(t,e,n,i,s){return L_(ye(t,e,n,i,s,!0))}function hs(t){return t?t.__v_isVNode===!0:!1}function Zn(t,e){return t.type===e.type&&t.key===e.key}function FI(t){}const Wu="__vInternal",F_=({key:t})=>t!=null?t:null,xc=({ref:t,ref_key:e,ref_for:n})=>t!=null?dt(t)||St(t)||be(t)?{i:Xt,r:t,k:e,f:!!n}:t:null;function E(t,e=null,n=null,i=0,s=null,r=t===Ye?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&F_(e),ref:e&&xc(e),scopeId:Uu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(Fp(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=dt(n)?8:16),tr>0&&!o&&hn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&hn.push(l),l}const ye=$I;function $I(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===x_)&&(t=en),hs(t)){const a=hi(t,e,!0);return n&&Fp(a,n),tr>0&&!r&&hn&&(a.shapeFlag&6?hn[hn.indexOf(t)]=a:hn.push(a)),a.patchFlag|=-2,a}if(KI(t)&&(t=t.__vccOpts),e){e=$_(e);let{class:a,style:l}=e;a&&!dt(a)&&(e.class=At(a)),gt(l)&&(bp(l)&&!se(l)&&(l=pt({},l)),e.style=nl(l))}const o=dt(t)?1:u_(t)?128:DI(t)?64:gt(t)?4:be(t)?2:0;return E(t,e,n,i,s,o,r,!0)}function $_(t){return t?bp(t)||Wu in t?pt({},t):t:null}function hi(t,e,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=t,a=e?B_(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&F_(a),ref:e&&e.ref?n&&s?se(s)?s.concat(xc(e)):[s,xc(e)]:xc(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ye?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hi(t.ssContent),ssFallback:t.ssFallback&&hi(t.ssFallback),el:t.el,anchor:t.anchor}}function he(t=" ",e=0){return ye(Zr,null,t,e)}function BI(t,e){const n=ye(Ks,null,t);return n.staticCount=e,n}function Pe(t="",e=!1){return e?(G(),Dt(en,null,t)):ye(en,null,t)}function yn(t){return t==null||typeof t=="boolean"?ye(en):se(t)?ye(Ye,null,t.slice()):typeof t=="object"?Yi(t):ye(Zr,null,String(t))}function Yi(t){return t.el===null||t.memo?t:hi(t)}function Fp(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(se(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Fp(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Wu in e)?e._ctx=Xt:s===3&&Xt&&(Xt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:Xt},n=32):(e=String(e),i&64?(n=16,e=[he(e)]):n=8);t.children=e,t.shapeFlag|=n}function B_(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=At([e.class,i.class]));else if(s==="style")e.style=nl([e.style,i.style]);else if(il(s)){const r=e[s],o=i[s];o&&r!==o&&!(se(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function ln(t,e,n,i=null){bn(t,e,7,[n,i])}const UI=M_();let VI=0;function U_(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||UI,r={uid:VI++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new gp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:C_(i,s),emitsOptions:c_(i,s),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:i.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=KC.bind(null,r),t.ce&&t.ce(r),r}let kt=null;const Ts=()=>kt||Xt,ds=t=>{kt=t,t.scope.on()},ss=()=>{kt&&kt.scope.off(),kt=null};function V_(t){return t.vnode.shapeFlag&4}let eo=!1;function z_(t,e=!1){eo=e;const{props:n,children:i}=t.vnode,s=V_(t);kI(t,n,s,e),CI(t,i);const r=s?zI(t,e):void 0;return eo=!1,r}function zI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=wp(new Proxy(t.ctx,nf));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?H_(t):null;ds(t),gr();const r=ri(i,t,0,[t.props,s]);if(mr(),ss(),fp(r)){if(r.then(ss,ss),e)return r.then(o=>{cf(t,o,e)}).catch(o=>{yr(o,t,0)});t.asyncDep=r}else cf(t,r,e)}else j_(t,e)}function cf(t,e,n){be(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:gt(e)&&(t.setupState=Tp(e)),j_(t,n)}let Vc,uf;function jI(t){Vc=t,uf=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,vI))}}const HI=()=>!Vc;function j_(t,e,n){const i=t.type;if(!t.render){if(!e&&Vc&&!i.render){const s=i.template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=pt(pt({isCustomElement:r,delimiters:a},o),l);i.render=Vc(s,c)}}t.render=i.render||Vn,uf&&uf(t)}ds(t),gr(),bI(t),mr(),ss()}function WI(t){return new Proxy(t.attrs,{get(e,n){return Tn(t,"get","$attrs"),e[n]}})}function H_(t){const e=i=>{t.exposed=i||{}};let n;return{get attrs(){return n||(n=WI(t))},slots:t.slots,emit:t.emit,expose:e}}function qu(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Tp(wp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in $c)return $c[n](t)}}))}const qI=/(?:^|[-_])(\w)/g,YI=t=>t.replace(qI,e=>e.toUpperCase()).replace(/[-_]/g,"");function zc(t,e=!0){return be(t)?t.displayName||t.name:t.name||e&&t.__name}function W_(t,e,n=!1){let i=zc(e);if(!i&&e.__file){const s=e.__file.match(/([^/\\]+)\.\w+$/);s&&(i=s[1])}if(!i&&t&&t.parent){const s=r=>{for(const o in r)if(r[o]===e)return o};i=s(t.components||t.parent.type.components)||s(t.appContext.components)}return i?YI(i):n?"App":"Anonymous"}function KI(t){return be(t)&&"__vccOpts"in t}const Ue=(t,e)=>BC(t,e,eo);function GI(){return null}function XI(){return null}function QI(t){}function JI(t,e){return null}function ZI(){return q_().slots}function eP(){return q_().attrs}function q_(){const t=Ts();return t.setupContext||(t.setupContext=H_(t))}function tP(t,e){const n=se(t)?t.reduce((i,s)=>(i[s]={},i),{}):t;for(const i in e){const s=n[i];s?se(s)||be(s)?n[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(n[i]={default:e[i]})}return n}function nP(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function iP(t){const e=Ts();let n=t();return ss(),fp(n)&&(n=n.catch(i=>{throw ds(e),i})),[n,()=>ds(e)]}function Yu(t,e,n){const i=arguments.length;return i===2?gt(e)&&!se(e)?hs(e)?ye(t,null,[e]):ye(t,e):ye(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&hs(n)&&(n=[n]),ye(t,e,n))}const Y_=Symbol(""),sP=()=>{{const t=wn(Y_);return t||n_("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function rP(){}function oP(t,e,n,i){const s=n[i];if(s&&K_(s,t))return s;const r=e();return r.memo=t.slice(),n[i]=r}function K_(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(Xr(n[i],e[i]))return!1;return tr>0&&hn&&hn.push(t),!0}const G_="3.2.37",aP={createComponentInstance:U_,setupComponent:z_,renderComponentRoot:_c,setCurrentRenderingInstance:Oa,isVNode:hs,normalizeVNode:yn},lP=aP,cP=null,uP=null,hP="http://www.w3.org/2000/svg",$s=typeof document<"u"?document:null,dy=$s&&$s.createElement("template"),dP={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?$s.createElementNS(hP,t):$s.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>$s.createTextNode(t),createComment:t=>$s.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$s.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{dy.innerHTML=i?`<svg>${t}</svg>`:t;const a=dy.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function fP(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function pP(t,e,n){const i=t.style,s=dt(n);if(n&&!s){for(const r in n)hf(i,r,n[r]);if(e&&!dt(e))for(const r in e)n[r]==null&&hf(i,r,"")}else{const r=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=r)}}const fy=/\s*!important$/;function hf(t,e,n){if(se(n))n.forEach(i=>hf(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=gP(t,e);fy.test(n)?t.setProperty(si(i),n.replace(fy,""),"important"):t[i]=n}}const py=["Webkit","Moz","ms"],jh={};function gP(t,e){const n=jh[e];if(n)return n;let i=xn(e);if(i!=="filter"&&i in t)return jh[e]=i;i=rl(i);for(let s=0;s<py.length;s++){const r=py[s]+i;if(r in t)return jh[e]=r}return e}const gy="http://www.w3.org/1999/xlink";function mP(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(gy,e.slice(6,e.length)):t.setAttributeNS(gy,e,n);else{const r=US(e);n==null||r&&!Nw(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function yP(t,e,n,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n==null?"":n;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Nw(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[X_,vP]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let df=0;const bP=Promise.resolve(),wP=()=>{df=0},_P=()=>df||(bP.then(wP),df=X_());function xi(t,e,n,i){t.addEventListener(e,n,i)}function xP(t,e,n,i){t.removeEventListener(e,n,i)}function TP(t,e,n,i,s=null){const r=t._vei||(t._vei={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=kP(e);if(i){const c=r[e]=EP(i,s);xi(t,a,c,l)}else o&&(xP(t,a,o,l),r[e]=void 0)}}const my=/(?:Once|Passive|Capture)$/;function kP(t){let e;if(my.test(t)){e={};let n;for(;n=t.match(my);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[si(t.slice(2)),e]}function EP(t,e){const n=i=>{const s=i.timeStamp||X_();(vP||s>=n.attached-1)&&bn(SP(i,n.value),e,5,[i])};return n.value=t,n.attached=_P(),n}function SP(t,e){if(se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const yy=/^on[a-z]/,CP=(t,e,n,i,s=!1,r,o,a,l)=>{e==="class"?fP(t,i,s):e==="style"?pP(t,n,i):il(e)?hp(e)||TP(t,e,n,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):IP(t,e,i,s))?yP(t,e,i,r,o,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),mP(t,e,i,s))};function IP(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&yy.test(e)&&be(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||yy.test(e)&&dt(n)?!1:e in t}function Q_(t,e){const n=at(t);class i extends Ku{constructor(r){super(n,r,e)}}return i.def=n,i}const PP=t=>Q_(t,hx),OP=typeof HTMLElement<"u"?HTMLElement:class{};class Ku extends OP{constructor(e,n={},i){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,al(()=>{this._connected||(pf(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const e=i=>{const{props:s,styles:r}=i,o=!se(s),a=s?o?Object.keys(s):s:[];let l;if(o)for(const c in this._props){const u=s[c];(u===Number||u&&u.type===Number)&&(this._props[c]=cs(this._props[c]),(l||(l=Object.create(null)))[c]=!0)}this._numberProps=l;for(const c of Object.keys(this))c[0]!=="_"&&this._setProp(c,this[c],!0,!1);for(const c of a.map(xn))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(u){this._setProp(c,u)}});this._applyStyles(r),this._update()},n=this._def.__asyncLoader;n?n().then(e):e(this._def)}_setAttr(e){let n=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(n=cs(n)),this._setProp(xn(e),n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,i=!0,s=!0){n!==this._props[e]&&(this._props[e]=n,s&&this._instance&&this._update(),i&&(n===!0?this.setAttribute(si(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(si(e),n+""):n||this.removeAttribute(si(e))))}_update(){pf(this._createVNode(),this.shadowRoot)}_createVNode(){const e=ye(this._def,pt({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(s,...r)=>{this.dispatchEvent(new CustomEvent(s,{detail:r}))};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Ku){n.parent=i._instance;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const i=document.createElement("style");i.textContent=n,this.shadowRoot.appendChild(i)})}}function MP(t="$style"){{const e=Ts();if(!e)return qe;const n=e.type.__cssModules;if(!n)return qe;const i=n[t];return i||qe}}function AP(t){const e=Ts();if(!e)return;const n=()=>ff(e.subTree,t(e.proxy));d_(n),Ri(()=>{const i=new MutationObserver(n);i.observe(e.subTree.el.parentNode,{childList:!0}),xs(()=>i.disconnect())})}function ff(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{ff(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)vy(t.el,e);else if(t.type===Ye)t.children.forEach(n=>ff(n,e));else if(t.type===Ks){let{el:n,anchor:i}=t;for(;n&&(vy(n,e),n!==i);)n=n.nextSibling}}function vy(t,e){if(t.nodeType===1){const n=t.style;for(const i in e)n.setProperty(`--${i}`,e[i])}}const $i="transition",Oo="animation",$p=(t,{slots:e})=>Yu(Op,Z_(t),e);$p.displayName="Transition";const J_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},DP=$p.props=pt({},Op.props,J_),Os=(t,e=[])=>{se(t)?t.forEach(n=>n(...e)):t&&t(...e)},by=t=>t?se(t)?t.some(e=>e.length>1):t.length>1:!1;function Z_(t){const e={};for(const F in t)F in J_||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=RP(s),y=p&&p[0],b=p&&p[1],{onBeforeEnter:m,onEnter:v,onEnterCancelled:_,onLeave:k,onLeaveCancelled:x,onBeforeAppear:S=m,onAppear:M=v,onAppearCancelled:C=_}=e,O=(F,U,P)=>{Wi(F,U?u:a),Wi(F,U?c:o),P&&P()},L=(F,U)=>{F._isLeaving=!1,Wi(F,h),Wi(F,f),Wi(F,d),U&&U()},j=F=>(U,P)=>{const A=F?M:v,$=()=>O(U,F,P);Os(A,[U,$]),wy(()=>{Wi(U,F?l:r),yi(U,F?u:a),by(A)||_y(U,i,y,$)})};return pt(e,{onBeforeEnter(F){Os(m,[F]),yi(F,r),yi(F,o)},onBeforeAppear(F){Os(S,[F]),yi(F,l),yi(F,c)},onEnter:j(!1),onAppear:j(!0),onLeave(F,U){F._isLeaving=!0;const P=()=>L(F,U);yi(F,h),tx(),yi(F,d),wy(()=>{!F._isLeaving||(Wi(F,h),yi(F,f),by(k)||_y(F,i,b,P))}),Os(k,[F,P])},onEnterCancelled(F){O(F,!1),Os(_,[F])},onAppearCancelled(F){O(F,!0),Os(C,[F])},onLeaveCancelled(F){L(F),Os(x,[F])}})}function RP(t){if(t==null)return null;if(gt(t))return[Hh(t.enter),Hh(t.leave)];{const e=Hh(t);return[e,e]}}function Hh(t){return cs(t)}function yi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Wi(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function wy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let NP=0;function _y(t,e,n,i){const s=t._endId=++NP,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=ex(t,e);if(!o)return i();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,d),r()},d=f=>{f.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,d)}function ex(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),s=i($i+"Delay"),r=i($i+"Duration"),o=xy(s,r),a=i(Oo+"Delay"),l=i(Oo+"Duration"),c=xy(a,l);let u=null,h=0,d=0;e===$i?o>0&&(u=$i,h=o,d=r.length):e===Oo?c>0&&(u=Oo,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?$i:Oo:null,d=u?u===$i?r.length:l.length:0);const f=u===$i&&/\b(transform|all)(,|$)/.test(n[$i+"Property"]);return{type:u,timeout:h,propCount:d,hasTransform:f}}function xy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>Ty(n)+Ty(t[i])))}function Ty(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function tx(){return document.body.offsetHeight}const nx=new WeakMap,ix=new WeakMap,LP={name:"TransitionGroup",props:pt({},DP,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Ts(),i=Pp();let s,r;return ju(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!VP(s[0].el,n.vnode.el,o))return;s.forEach($P),s.forEach(BP);const a=s.filter(UP);tx(),a.forEach(l=>{const c=l.el,u=c.style;yi(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",h),c._moveCb=null,Wi(c,o))};c.addEventListener("transitionend",h)})}),()=>{const o=Ne(t),a=Z_(o);let l=o.tag||Ye;s=r,r=e.default?Vu(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&er(u,Jr(u,a,i,n))}if(s)for(let c=0;c<s.length;c++){const u=s[c];er(u,Jr(u,a,i,n)),nx.set(u,u.el.getBoundingClientRect())}return ye(l,null,r)}}},FP=LP;function $P(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function BP(t){ix.set(t,t.el.getBoundingClientRect())}function UP(t){const e=nx.get(t),n=ix.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function VP(t,e,n){const i=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:r}=ex(i);return s.removeChild(i),r}const fs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return se(e)?n=>Vr(e,n):e};function zP(t){t.target.composing=!0}function ky(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const nr={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t._assign=fs(s);const r=i||s.props&&s.props.type==="number";xi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=cs(a)),t._assign(a)}),n&&xi(t,"change",()=>{t.value=t.value.trim()}),e||(xi(t,"compositionstart",zP),xi(t,"compositionend",ky),xi(t,"change",ky))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},r){if(t._assign=fs(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&cs(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},Bp={deep:!0,created(t,e,n){t._assign=fs(n),xi(t,"change",()=>{const i=t._modelValue,s=to(t),r=t.checked,o=t._assign;if(se(i)){const a=Mu(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(pr(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(sx(t,r))})},mounted:Ey,beforeUpdate(t,e,n){t._assign=fs(n),Ey(t,e,n)}};function Ey(t,{value:e,oldValue:n},i){t._modelValue=e,se(e)?t.checked=Mu(e,i.props.value)>-1:pr(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=ls(e,sx(t,!0)))}const Up={created(t,{value:e},n){t.checked=ls(e,n.props.value),t._assign=fs(n),xi(t,"change",()=>{t._assign(to(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t._assign=fs(i),e!==n&&(t.checked=ls(e,i.props.value))}},Vp={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=pr(e);xi(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?cs(to(o)):to(o));t._assign(t.multiple?s?new Set(r):r:r[0])}),t._assign=fs(i)},mounted(t,{value:e}){Sy(t,e)},beforeUpdate(t,e,n){t._assign=fs(n)},updated(t,{value:e}){Sy(t,e)}};function Sy(t,e){const n=t.multiple;if(!(n&&!se(e)&&!pr(e))){for(let i=0,s=t.options.length;i<s;i++){const r=t.options[i],o=to(r);if(n)se(e)?r.selected=Mu(e,o)>-1:r.selected=e.has(o);else if(ls(to(r),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function to(t){return"_value"in t?t._value:t.value}function sx(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const rx={created(t,e,n){ec(t,e,n,null,"created")},mounted(t,e,n){ec(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){ec(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){ec(t,e,n,i,"updated")}};function ox(t,e){switch(t){case"SELECT":return Vp;case"TEXTAREA":return nr;default:switch(e){case"checkbox":return Bp;case"radio":return Up;default:return nr}}}function ec(t,e,n,i,s){const o=ox(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,i)}function jP(){nr.getSSRProps=({value:t})=>({value:t}),Up.getSSRProps=({value:t},e)=>{if(e.props&&ls(e.props.value,t))return{checked:!0}},Bp.getSSRProps=({value:t},e)=>{if(se(t)){if(e.props&&Mu(t,e.props.value)>-1)return{checked:!0}}else if(pr(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},rx.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=ox(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const HP=["ctrl","shift","alt","meta"],WP={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>HP.some(n=>t[`${n}Key`]&&!e.includes(n))},Fn=(t,e)=>(n,...i)=>{for(let s=0;s<e.length;s++){const r=WP[e[s]];if(r&&r(n,e))return}return t(n,...i)},qP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},YP=(t,e)=>n=>{if(!("key"in n))return;const i=si(n.key);if(e.some(s=>s===i||qP[s]===i))return t(n)},ax={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Mo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Mo(t,!0),i.enter(t)):i.leave(t,()=>{Mo(t,!1)}):Mo(t,e))},beforeUnmount(t,{value:e}){Mo(t,e)}};function Mo(t,e){t.style.display=e?t._vod:"none"}function KP(){ax.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const lx=pt({patchProp:CP},dP);let la,Cy=!1;function cx(){return la||(la=A_(lx))}function ux(){return la=Cy?la:D_(lx),Cy=!0,la}const pf=(...t)=>{cx().render(...t)},hx=(...t)=>{ux().hydrate(...t)},dx=(...t)=>{const e=cx().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=fx(i);if(!s)return;const r=e._component;!be(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},GP=(...t)=>{const e=ux().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=fx(i);if(s)return n(s,!0,s instanceof SVGElement)},e};function fx(t){return dt(t)?document.querySelector(t):t}let Iy=!1;const XP=()=>{Iy||(Iy=!0,jP(),KP())},QP=()=>{},JP=Object.freeze(Object.defineProperty({__proto__:null,compile:QP,EffectScope:gp,ReactiveEffect:ol,customRef:NC,effect:sC,effectScope:ZS,getCurrentScope:eC,isProxy:bp,isReactive:qs,isReadonly:Qr,isRef:St,isShallow:Nc,markRaw:wp,onScopeDispose:tC,proxyRefs:Tp,reactive:bo,readonly:vp,ref:Ae,shallowReactive:Jw,shallowReadonly:OC,shallowRef:Zw,stop:rC,toRaw:Ne,toRef:t_,toRefs:LC,triggerRef:AC,unref:D,camelize:xn,capitalize:rl,normalizeClass:At,normalizeProps:HS,normalizeStyle:nl,toDisplayString:ae,toHandlerKey:ea,BaseTransition:Op,Comment:en,Fragment:Ye,KeepAlive:dI,Static:Ks,Suspense:tI,Teleport:LI,Text:Zr,callWithAsyncErrorHandling:bn,callWithErrorHandling:ri,cloneVNode:hi,compatUtils:uP,computed:Ue,createBlock:Dt,createCommentVNode:Pe,createElementBlock:Z,createElementVNode:E,createHydrationRenderer:D_,createPropsRestProxy:nP,createRenderer:A_,createSlots:mI,createStaticVNode:BI,createTextVNode:he,createVNode:ye,defineAsyncComponent:uI,defineComponent:at,defineEmits:XI,defineExpose:QI,defineProps:GI,get devtools(){return Rr},getCurrentInstance:Ts,getTransitionRawChildren:Vu,guardReactiveProps:$_,h:Yu,handleError:yr,initCustomFormatter:rP,inject:wn,isMemoSame:K_,isRuntimeOnly:HI,isVNode:hs,mergeDefaults:tP,mergeProps:B_,nextTick:al,onActivated:Mp,onBeforeMount:m_,onBeforeUnmount:Hu,onBeforeUpdate:y_,onDeactivated:Ap,onErrorCaptured:__,onMounted:Ri,onRenderTracked:w_,onRenderTriggered:b_,onServerPrefetch:v_,onUnmounted:xs,onUpdated:ju,openBlock:G,popScopeId:_s,provide:sa,pushScopeId:ws,queuePostFlushCb:Sp,registerRuntimeCompiler:jI,renderList:Aa,renderSlot:qi,resolveComponent:Zt,resolveDirective:gI,resolveDynamicComponent:Gn,resolveFilter:cP,resolveTransitionHooks:Jr,setBlockTracking:lf,setDevtoolsHook:l_,setTransitionHooks:er,ssrContextKey:Y_,ssrUtils:lP,toHandlers:yI,transformVNodeArgs:FI,useAttrs:eP,useSSRContext:sP,useSlots:ZI,useTransitionState:Pp,version:G_,warn:n_,watch:Jt,watchEffect:oI,watchPostEffect:d_,watchSyncEffect:aI,withAsyncContext:iP,withCtx:wt,withDefaults:JI,withDirectives:ra,withMemo:oP,withScopeId:GC,Transition:$p,TransitionGroup:FP,VueElement:Ku,createApp:dx,createSSRApp:GP,defineCustomElement:Q_,defineSSRCustomElement:PP,hydrate:hx,initDirectivesForSSR:XP,render:pf,useCssModule:MP,useCssVars:AP,vModelCheckbox:Bp,vModelDynamic:rx,vModelRadio:Up,vModelSelect:Vp,vModelText:nr,vShow:ax,withKeys:YP,withModifiers:Fn},Symbol.toStringTag,{value:"Module"}));var ZP=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};const eO={key:0},tO={key:1},nO={key:2},iO={key:3},sO={key:4},rO={key:5},oO={key:6},aO={key:7},lO=at({__name:"vue-awesome-paginate",props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:10,validator:t=>{if(t<=0){const e="itemsPerPage attribute must be greater than 0.";throw console.error(e),new TypeError(e)}return!0}},currentPage:{type:Number,default:1,validator:t=>{const e="currentPage attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},maxPagesShown:{type:Number,default:5,validator:t=>{const e="maxPagesShown attribute must be greater than 0.";if(t<=0)throw console.error(e),new TypeError(e);return!0}},dir:{type:String,default:"ltr",validator:t=>{const e='dir attribute must be either "ltr" or "rtl".';if(t!=="ltr"&&t!=="rtl")throw console.error(e),new TypeError(e);return!0}},type:{type:String,default:"button",validator:t=>{const e=["link","button"],n="type attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},onClick:{type:Function,default:()=>{}},locale:{type:String,default:"en",validator:t=>{const e=["en","ar","ir"],n="locale attribute must be one of the following: "+e.join(", ");if(e.indexOf(t)===-1)throw console.error(n),new TypeError(n);return!0}},prevButtonContent:{type:String,default:"<"},nextButtonContent:{type:String,default:">"},hidePrevNext:{type:Boolean,default:!1},hidePrevNextWhenEnds:{type:Boolean,default:!1},showBreakpointButtons:{type:Boolean,default:!0},disableBreakpointButtons:{type:Boolean,default:!1},startingBreakpointContent:{type:String,default:"..."},endingBreakpointButtonContent:{type:String,default:"..."},showJumpButtons:{type:Boolean,default:!1},linkUrl:{type:String,default:"#"},backwardJumpButtonContent:{type:String,default:"<<"},forwardJumpButtonContent:{type:String,default:">>"},disablePagination:{type:Boolean,default:!1},backButtonClass:{type:String,default:"back-button"},nextButtonClass:{type:String,default:"next-button"},firstButtonClass:{type:String,default:"first-button"},lastButtonClass:{type:String,default:"last-button"},numberButtonsClass:{type:String,default:"number-buttons"},startingBreakpointButtonClass:{type:String,default:"starting-breakpoint-button"},endingBreakPointButtonClass:{type:String,default:"ending-breakpoint-button"},paginateButtonsClass:{type:String,default:"paginate-buttons"},disabledPaginateButtonsClass:{type:String,default:"disabled-paginate-buttons"},activePageClass:{type:String,default:"active-page"},paginationContainerClass:{type:String,default:"pagination-container"},disabledBreakPointButtonClass:{type:String,default:"disabled-breakpoint-button"},backwardJumpButtonClass:{type:String,default:"backward-jump-button"},forwardJumpButtonClass:{type:String,default:"forward-jump-button"},disabledBackwardJumpButtonClass:{type:String,default:"disabled-backward-jump-button"},disabledBackButtonClass:{type:String,default:"disabled-back-button"},disabledFirstButtonClass:{type:String,default:"disabled-first-button"},disabledLastButtonClass:{type:String,default:"disabled-last-button"},disabledNextButtonClass:{type:String,default:"disabled-next-button"},disabledForwardJumpButtonClass:{type:String,default:"disabled-forward-jump-button"}},setup(t){const e=t,n=Ae(e.currentPage),i=y=>{y!==n.value&&(y>o.value||y<1||e.disablePagination||(n.value=y,e.onClick(y)))},s=y=>{switch(e.locale){case"en":return y;case"ar":return y.toLocaleString("ar-SA");case"ir":return y.toLocaleString("fa-IR");default:return y}},r=y=>e.type!=="link"?"":e.linkUrl.replace("[page]",y.toString()),o=Ue(()=>Math.ceil(e.totalItems/e.itemsPerPage)),a=Ue(()=>{let y,b;if(o.value<=e.maxPagesShown)y=1,b=o.value;else{let v=Math.floor(e.maxPagesShown/2),_=Math.ceil(e.maxPagesShown/2)-1;n.value<=v?(y=1,b=e.maxPagesShown):n.value+_>=o.value?(y=o.value-e.maxPagesShown+1,b=o.value):(y=n.value-v,b=n.value+_)}let m=Array.from(Array(b+1-y).keys()).map(v=>y+v);return e.dir==="rtl"&&(m=m.reverse()),{totalItems:e.totalItems,currentPage:n.value,itemsPerPage:e.itemsPerPage,totalPages:o,startPage:y,endPage:b,pages:m}}),l=Ue(()=>e.dir==="rtl"),c=Ue(()=>l.value?!e.hidePrevNextWhenEnds||n.value!==o.value:!e.hidePrevNextWhenEnds||n.value!==1),u=Ue(()=>l.value?!e.hidePrevNextWhenEnds||n.value!==1:!e.hidePrevNextWhenEnds||n.value!==o.value),h=Ue(()=>l.value?a.value.pages[0]<o.value-1:a.value.pages[0]>=3),d=Ue(()=>l.value?a.value.pages[a.value.pages.length-1]>=3:a.value.pages[a.value.pages.length-1]<o.value-1),f=Ue(()=>l.value?a.value.pages[0]<o.value-1:a.value.pages[0]>=3),p=Ue(()=>l.value?a.value.pages[a.value.pages.length-1]>=3:a.value.pages[a.value.pages.length-1]<o.value-1);if(e.type==="link"&&e.linkUrl==="#")throw console.error("linkUrl attribute is required if type attribute is 'link'"),new TypeError("linkUrl attribute is required if type attribute is 'link'");if(e.type==="link"&&!e.linkUrl.includes("[page]"))throw console.error("linkUrl attribute must contain '[page]' substring"),new TypeError("linkUrl attribute must contain '[page]' substring");return(y,b)=>(G(),Z("ul",{id:"componentContainer",class:At(t.paginationContainerClass)},[t.showJumpButtons&&D(h)?(G(),Z("li",eO,[(G(),Dt(Gn(t.type==="button"?"button":"a"),{href:r(D(l)?n.value+Math.ceil(t.maxPagesShown/2):n.value-Math.ceil(t.maxPagesShown/2)),onClick:b[0]||(b[0]=Fn(m=>i(D(l)?n.value+Math.ceil(t.maxPagesShown/2):n.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),class:At([t.backwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackwardJumpButtonClass:""]),disabled:t.disablePagination},{default:wt(()=>[qi(y.$slots,"backward-jump-button",{},()=>[he(ae(t.backwardJumpButtonContent),1)],!0)]),_:3},8,["href","class","disabled"]))])):Pe("",!0),!t.hidePrevNext&&D(c)?(G(),Z("li",tO,[(G(),Dt(Gn(t.type==="button"?"button":"a"),{href:r(D(l)?n.value+1:n.value-1),onClick:b[1]||(b[1]=Fn(m=>i(D(l)?n.value+1:n.value-1),["prevent"])),class:At([t.backButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledBackButtonClass:""]),disabled:t.disablePagination},{default:wt(()=>[qi(y.$slots,"prev-button",{},()=>[he(ae(t.prevButtonContent),1)],!0)]),_:3},8,["href","class","disabled"]))])):Pe("",!0),t.showBreakpointButtons&&D(f)?(G(),Z("li",nO,[(G(),Dt(Gn(t.type==="button"?"button":"a"),{href:r(D(l)?D(o):1),onClick:b[2]||(b[2]=Fn(m=>i(D(l)?D(o):1),["prevent"])),class:At([t.firstButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledFirstButtonClass:""]),disabled:t.disablePagination},{default:wt(()=>[he(ae(D(l)?s(D(o)):s(1)),1)]),_:1},8,["href","class","disabled"]))])):Pe("",!0),t.showBreakpointButtons&&D(h)?(G(),Z("li",iO,[(G(),Dt(Gn(t.type==="button"?"button":"a"),{href:r(t.disableBreakpointButtons?n.value:D(l)?n.value+Math.ceil(t.maxPagesShown/2):n.value-Math.ceil(t.maxPagesShown/2)),onClick:b[3]||(b[3]=Fn(m=>i(t.disableBreakpointButtons?n.value:D(l)?n.value+Math.ceil(t.maxPagesShown/2):n.value-Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:At([t.startingBreakpointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:wt(()=>[qi(y.$slots,"starting-breakpoint-button",{},()=>[he(ae(t.startingBreakpointContent),1)],!0)]),_:3},8,["href","disabled","class"]))])):Pe("",!0),(G(!0),Z(Ye,null,Aa(D(a).pages,(m,v)=>(G(),Z("li",{key:v},[(G(),Dt(Gn(t.type==="button"?"button":"a"),{href:r(m),onClick:Fn(()=>i(m),["prevent"]),class:At([t.paginateButtonsClass,t.numberButtonsClass,m===n.value?t.activePageClass:"",t.disablePagination?t.disabledPaginateButtonsClass:""]),disabled:t.disablePagination},{default:wt(()=>[he(ae(s(m)),1)]),_:2},1032,["href","onClick","class","disabled"]))]))),128)),t.showBreakpointButtons&&D(d)?(G(),Z("li",sO,[(G(),Dt(Gn(t.type==="button"?"button":"a"),{href:r(t.disableBreakpointButtons?n.value:D(l)?n.value-Math.ceil(t.maxPagesShown/2):n.value+Math.ceil(t.maxPagesShown/2)),onClick:b[4]||(b[4]=Fn(m=>i(t.disableBreakpointButtons?n.value:D(l)?n.value-Math.ceil(t.maxPagesShown/2):n.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),disabled:t.disableBreakpointButtons||t.disablePagination,class:At([t.endingBreakPointButtonClass,t.paginateButtonsClass,t.disableBreakpointButtons||t.disablePagination?`${t.disabledPaginateButtonsClass} ${t.disabledBreakPointButtonClass}`:""])},{default:wt(()=>[qi(y.$slots,"ending-breakpoint-button",{},()=>[he(ae(t.endingBreakpointButtonContent),1)],!0)]),_:3},8,["href","disabled","class"]))])):Pe("",!0),t.showBreakpointButtons&&D(p)?(G(),Z("li",rO,[(G(),Dt(Gn(t.type==="button"?"button":"a"),{href:r(D(l)?1:D(o)),onClick:b[5]||(b[5]=Fn(m=>i(D(l)?1:D(o)),["prevent"])),class:At([t.lastButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledLastButtonClass:""]),disabled:t.disablePagination},{default:wt(()=>[he(ae(D(l)?s(1):s(D(o))),1)]),_:1},8,["href","class","disabled"]))])):Pe("",!0),!t.hidePrevNext&&D(u)?(G(),Z("li",oO,[(G(),Dt(Gn(t.type==="button"?"button":"a"),{href:r(D(l)?n.value-1:n.value+1),onClick:b[6]||(b[6]=Fn(m=>i(D(l)?n.value-1:n.value+1),["prevent"])),class:At([t.paginateButtonsClass,t.nextButtonClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledNextButtonClass:""]),disabled:t.disablePagination},{default:wt(()=>[qi(y.$slots,"next-button",{},()=>[he(ae(t.nextButtonContent),1)],!0)]),_:3},8,["href","class","disabled"]))])):Pe("",!0),t.showJumpButtons&&D(d)?(G(),Z("li",aO,[(G(),Dt(Gn(t.type==="button"?"button":"a"),{href:r(D(l)?n.value-Math.ceil(t.maxPagesShown/2):n.value+Math.ceil(t.maxPagesShown/2)),onClick:b[7]||(b[7]=Fn(m=>i(D(l)?n.value-Math.ceil(t.maxPagesShown/2):n.value+Math.ceil(t.maxPagesShown/2)),["prevent"])),class:At([t.forwardJumpButtonClass,t.paginateButtonsClass,t.disablePagination?t.disabledPaginateButtonsClass:"",t.disablePagination?t.disabledForwardJumpButtonClass:""]),disabled:t.disablePagination},{default:wt(()=>[qi(y.$slots,"forward-jump-button",{},()=>[he(ae(t.forwardJumpButtonContent),1)],!0)]),_:3},8,["href","class","disabled"]))])):Pe("",!0)],2))}});var cO=ZP(lO,[["__scopeId","data-v-4d33210a"]]),uO={install:t=>{t.component("VueAwesomePaginate",cO)}};var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function px(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hO(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var gx={exports:{}};const dO=hO(JP);(function(t,e){(function(n,i){t.exports=i(dO)})(typeof self<"u"?self:zp,function(n){return(()=>{var i={646:a=>{a.exports=function(l){if(Array.isArray(l)){for(var c=0,u=new Array(l.length);c<l.length;c++)u[c]=l[c];return u}}},713:a=>{a.exports=function(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}},860:a=>{a.exports=function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}},206:a=>{a.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},319:(a,l,c)=>{var u=c(646),h=c(860),d=c(206);a.exports=function(f){return u(f)||h(f)||d()}},8:a=>{function l(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a.exports=l=function(u){return typeof u}:a.exports=l=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(c)}a.exports=l},744:(a,l)=>{l.Z=(c,u)=>{for(const[h,d]of u)c[h]=d;return c}},748:a=>{a.exports=n}},s={};function r(a){var l=s[a];if(l!==void 0)return l.exports;var c=s[a]={exports:{}};return i[a](c,c.exports,r),c.exports}r.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return r.d(l,{a:l}),l},r.d=(a,l)=>{for(var c in l)r.o(l,c)&&!r.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},r.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),r.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{VueSelect:()=>Ce,default:()=>me,mixins:()=>ve});var a=r(748),l=["dir"],c=["id","aria-expanded","aria-owns"],u={ref:"selectedOptions",class:"vs__selected-options"},h=["disabled","title","aria-label","onClick"],d={ref:"actions",class:"vs__actions"},f=["disabled"],p={class:"vs__spinner"},y=["id"],b=["id","aria-selected","onMouseover","onClick"],m={key:0,class:"vs__no-options"},v=(0,a.createTextVNode)(" Sorry, no matching options. "),_=["id"],k=r(319),x=r.n(k),S=r(8),M=r.n(S),C=r(713),O=r.n(C);const L={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(g){var w=this;this.autoscroll&&g&&this.$nextTick(function(){return w.maybeAdjustScroll()})}},methods:{maybeAdjustScroll:function(){var g,w=((g=this.$refs.dropdownMenu)===null||g===void 0?void 0:g.children[this.typeAheadPointer])||!1;if(w){var T=this.getDropdownViewport(),N=w.getBoundingClientRect(),B=N.top,R=N.bottom,J=N.height;if(B<T.top)return this.$refs.dropdownMenu.scrollTop=w.offsetTop;if(R>T.bottom)return this.$refs.dropdownMenu.scrollTop=w.offsetTop-(T.height-J)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},j={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var g=0;g<this.filteredOptions.length;g++)if(this.selectable(this.filteredOptions[g])){this.typeAheadPointer=g;break}},open:function(g){g&&this.typeAheadToLastSelected()},selectedValue:function(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp:function(){for(var g=this.typeAheadPointer-1;g>=0;g--)if(this.selectable(this.filteredOptions[g])){this.typeAheadPointer=g;break}},typeAheadDown:function(){for(var g=this.typeAheadPointer+1;g<this.filteredOptions.length;g++)if(this.selectable(this.filteredOptions[g])){this.typeAheadPointer=g;break}},typeAheadSelect:function(){var g=this.filteredOptions[this.typeAheadPointer];g&&this.selectable(g)&&this.select(g)},typeAheadToLastSelected:function(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},F={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(g){this.mutableLoading=g}},methods:{toggleLoading:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.mutableLoading=g==null?!this.mutableLoading:g}}};var U={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},P=[(0,a.createElementVNode)("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1)],A=r(744);const $={},V=(0,A.Z)($,[["render",function(g,w){return(0,a.openBlock)(),(0,a.createElementBlock)("svg",U,P)}]]);var Q={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},ne=[(0,a.createElementVNode)("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1)];const pe={},Te={Deselect:V,OpenIndicator:(0,A.Z)(pe,[["render",function(g,w){return(0,a.openBlock)(),(0,a.createElementBlock)("svg",Q,ne)}]])},we={mounted:function(g,w){var T=w.instance;if(T.appendToBody){var N=T.$refs.toggle.getBoundingClientRect(),B=N.height,R=N.top,J=N.left,z=N.width,X=window.scrollX||window.pageXOffset,H=window.scrollY||window.pageYOffset;g.unbindPosition=T.calculatePosition(g,T,{width:z+"px",left:X+J+"px",top:H+R+B+"px"}),document.body.appendChild(g)}},unmounted:function(g,w){w.instance.appendToBody&&(g.unbindPosition&&typeof g.unbindPosition=="function"&&g.unbindPosition(),g.parentNode&&g.parentNode.removeChild(g))}},Ie=function(g){var w={};return Object.keys(g).sort().forEach(function(T){w[T]=g[T]}),JSON.stringify(w)};var it=0;const I=function(){return++it};function K(g,w){var T=Object.keys(g);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(g);w&&(N=N.filter(function(B){return Object.getOwnPropertyDescriptor(g,B).enumerable})),T.push.apply(T,N)}return T}function W(g){for(var w=1;w<arguments.length;w++){var T=arguments[w]!=null?arguments[w]:{};w%2?K(Object(T),!0).forEach(function(N){O()(g,N,T[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(T)):K(Object(T)).forEach(function(N){Object.defineProperty(g,N,Object.getOwnPropertyDescriptor(T,N))})}return g}const ee={components:W({},Te),directives:{appendToBody:we},mixins:[L,j,F],emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(g){return g}},selectable:{type:Function,default:function(g){return!0}},getOptionLabel:{type:Function,default:function(g){return M()(g)==="object"?g.hasOwnProperty(this.label)?g[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(g),`.
`)+"https://vue-select.org/api/props.html#getoptionlabel"):g}},getOptionKey:{type:Function,default:function(g){if(M()(g)!=="object")return g;try{return g.hasOwnProperty("id")?g.id:Ie(g)}catch(w){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,g,w)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(g,w,T){return(w||"").toLocaleLowerCase().indexOf(T.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(g,w){var T=this;return g.filter(function(N){var B=T.getOptionLabel(N);return typeof B=="number"&&(B=B.toString()),T.filterBy(N,B,w)})}},createOption:{type:Function,default:function(g){return M()(this.optionList[0])==="object"?O()({},this.label,g):g}},resetOnOptionsChange:{default:!1,validator:function(g){return["function","boolean"].includes(M()(g))}},clearSearchOnBlur:{type:Function,default:function(g){var w=g.clearSearchOnSelect,T=g.multiple;return w&&!T}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(g,w){return g}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(g,w,T){var N=T.width,B=T.top,R=T.left;g.style.top=B,g.style.left=R,g.style.width=N}},dropdownShouldOpen:{type:Function,default:function(g){var w=g.noDrop,T=g.open,N=g.mutableLoading;return!w&&T&&!N}},uid:{type:[String,Number],default:function(){return I()}}},data:function(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}},computed:{isReducingValues:function(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues:function(){return this.modelValue===void 0||this.isReducingValues},selectedValue:function(){var g=this.modelValue;return this.isTrackingValues&&(g=this.$data._value),g!=null?[].concat(g):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var g=this,w={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:W({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return g.isComposing=!0},compositionend:function(){return g.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(T){return g.search=T.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:w,listFooter:w,header:W({},w,{deselect:this.deselect}),footer:W({},w,{deselect:this.deselect})}},childComponents:function(){return W({},Te,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var g=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return g;var w=this.search.length?this.filter(g,this.search,this):g;if(this.taggable&&this.search.length){var T=this.createOption(this.search);this.optionExists(T)||w.unshift(T)}return w},isValueEmpty:function(){return this.selectedValue.length===0},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(g,w){var T=this;!this.taggable&&(typeof T.resetOnOptionsChange=="function"?T.resetOnOptionsChange(g,w,T.selectedValue):T.resetOnOptionsChange)&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler:function(g){this.isTrackingValues&&this.setInternalValueFromOptions(g)}},multiple:function(){this.clearSelection()},open:function(g){this.$emit(g?"open":"close")}},created:function(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions:function(g){var w=this;Array.isArray(g)?this.$data._value=g.map(function(T){return w.findOptionFromReducedValue(T)}):this.$data._value=this.findOptionFromReducedValue(g)},select:function(g){this.$emit("option:selecting",g),this.isOptionSelected(g)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(g):(this.taggable&&!this.optionExists(g)&&(this.$emit("option:created",g),this.pushTag(g)),this.multiple&&(g=this.selectedValue.concat(g)),this.updateValue(g),this.$emit("option:selected",g)),this.onAfterSelect(g)},deselect:function(g){var w=this;this.$emit("option:deselecting",g),this.updateValue(this.selectedValue.filter(function(T){return!w.optionComparator(T,g)})),this.$emit("option:deselected",g)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(g){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue:function(g){var w=this;this.modelValue===void 0&&(this.$data._value=g),g!==null&&(g=Array.isArray(g)?g.map(function(T){return w.reduce(T)}):this.reduce(g)),this.$emit("update:modelValue",g)},toggleDropdown:function(g){var w=g.target!==this.searchEl;w&&g.preventDefault();var T=[].concat(x()(this.deselectButtons||[]),x()([this.$refs.clearButton]));this.searchEl===void 0||T.filter(Boolean).some(function(N){return N.contains(g.target)||N===g.target})?g.preventDefault():this.open&&w?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(g){var w=this;return this.selectedValue.some(function(T){return w.optionComparator(T,g)})},isOptionDeselectable:function(g){return this.isOptionSelected(g)&&this.deselectFromDropdown},optionComparator:function(g,w){return this.getOptionKey(g)===this.getOptionKey(w)},findOptionFromReducedValue:function(g){var w=this,T=[].concat(x()(this.options),x()(this.pushedTags)).filter(function(N){return JSON.stringify(w.reduce(N))===JSON.stringify(g)});return T.length===1?T[0]:T.find(function(N){return w.optionComparator(N,w.$data._value)})||g},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var g=null;this.multiple&&(g=x()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(g)}},optionExists:function(g){var w=this;return this.optionList.some(function(T){return w.optionComparator(T,g)})},normalizeOptionForSlot:function(g){return M()(g)==="object"?g:O()({},this.label,g)},pushTag:function(g){this.pushedTags.push(g)},onEscape:function(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var g=this.clearSearchOnSelect,w=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:g,multiple:w})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,this.search.length!==0||this.options.length!==0||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(g){var w=this,T=function(R){return R.preventDefault(),!w.isComposing&&w.typeAheadSelect()},N={8:function(R){return w.maybeDeleteValue()},9:function(R){return w.onTab()},27:function(R){return w.onEscape()},38:function(R){return R.preventDefault(),w.typeAheadUp()},40:function(R){return R.preventDefault(),w.typeAheadDown()}};this.selectOnKeyCodes.forEach(function(R){return N[R]=T});var B=this.mapKeydown(N,this);if(typeof B[g.keyCode]=="function")return B[g.keyCode](g)}}},ge=(0,A.Z)(ee,[["render",function(g,w,T,N,B,R){var J=(0,a.resolveDirective)("append-to-body");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{dir:T.dir,class:(0,a.normalizeClass)(["v-select",R.stateClasses])},[(0,a.renderSlot)(g.$slots,"header",(0,a.normalizeProps)((0,a.guardReactiveProps)(R.scope.header))),(0,a.createElementVNode)("div",{id:"vs".concat(T.uid,"__combobox"),ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":R.dropdownOpen.toString(),"aria-owns":"vs".concat(T.uid,"__listbox"),"aria-label":"Search for option",onMousedown:w[1]||(w[1]=function(z){return R.toggleDropdown(z)})},[(0,a.createElementVNode)("div",u,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(R.selectedValue,function(z,X){return(0,a.renderSlot)(g.$slots,"selected-option-container",{option:R.normalizeOptionForSlot(z),deselect:R.deselect,multiple:T.multiple,disabled:T.disabled},function(){return[((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:T.getOptionKey(z),class:"vs__selected"},[(0,a.renderSlot)(g.$slots,"selected-option",(0,a.normalizeProps)((0,a.guardReactiveProps)(R.normalizeOptionForSlot(z))),function(){return[(0,a.createTextVNode)((0,a.toDisplayString)(T.getOptionLabel(z)),1)]}),T.multiple?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,ref:function(H){return B.deselectButtons[X]=H},disabled:T.disabled,type:"button",class:"vs__deselect",title:"Deselect ".concat(T.getOptionLabel(z)),"aria-label":"Deselect ".concat(T.getOptionLabel(z)),onClick:function(H){return R.deselect(z)}},[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(R.childComponents.Deselect)))],8,h)):(0,a.createCommentVNode)("",!0)]))]})}),256)),(0,a.renderSlot)(g.$slots,"search",(0,a.normalizeProps)((0,a.guardReactiveProps)(R.scope.search)),function(){return[(0,a.createElementVNode)("input",(0,a.mergeProps)({class:"vs__search"},R.scope.search.attributes,(0,a.toHandlers)(R.scope.search.events)),null,16)]})],512),(0,a.createElementVNode)("div",d,[(0,a.withDirectives)((0,a.createElementVNode)("button",{ref:"clearButton",disabled:T.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:w[0]||(w[0]=function(){return R.clearSelection&&R.clearSelection.apply(R,arguments)})},[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(R.childComponents.Deselect)))],8,f),[[a.vShow,R.showClearButton]]),(0,a.renderSlot)(g.$slots,"open-indicator",(0,a.normalizeProps)((0,a.guardReactiveProps)(R.scope.openIndicator)),function(){return[T.noDrop?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(R.childComponents.OpenIndicator),(0,a.normalizeProps)((0,a.mergeProps)({key:0},R.scope.openIndicator.attributes)),null,16))]}),(0,a.renderSlot)(g.$slots,"spinner",(0,a.normalizeProps)((0,a.guardReactiveProps)(R.scope.spinner)),function(){return[(0,a.withDirectives)((0,a.createElementVNode)("div",p,"Loading...",512),[[a.vShow,g.mutableLoading]])]})],512)],40,c),(0,a.createVNode)(a.Transition,{name:T.transition},{default:(0,a.withCtx)(function(){return[R.dropdownOpen?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("ul",{id:"vs".concat(T.uid,"__listbox"),ref:"dropdownMenu",key:"vs".concat(T.uid,"__listbox"),class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:w[2]||(w[2]=(0,a.withModifiers)(function(){return R.onMousedown&&R.onMousedown.apply(R,arguments)},["prevent"])),onMouseup:w[3]||(w[3]=function(){return R.onMouseUp&&R.onMouseUp.apply(R,arguments)})},[(0,a.renderSlot)(g.$slots,"list-header",(0,a.normalizeProps)((0,a.guardReactiveProps)(R.scope.listHeader))),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(R.filteredOptions,function(z,X){return(0,a.openBlock)(),(0,a.createElementBlock)("li",{id:"vs".concat(T.uid,"__option-").concat(X),key:T.getOptionKey(z),role:"option",class:(0,a.normalizeClass)(["vs__dropdown-option",{"vs__dropdown-option--deselect":R.isOptionDeselectable(z)&&X===g.typeAheadPointer,"vs__dropdown-option--selected":R.isOptionSelected(z),"vs__dropdown-option--highlight":X===g.typeAheadPointer,"vs__dropdown-option--disabled":!T.selectable(z)}]),"aria-selected":X===g.typeAheadPointer||null,onMouseover:function(H){return T.selectable(z)?g.typeAheadPointer=X:null},onClick:(0,a.withModifiers)(function(H){return T.selectable(z)?R.select(z):null},["prevent","stop"])},[(0,a.renderSlot)(g.$slots,"option",(0,a.normalizeProps)((0,a.guardReactiveProps)(R.normalizeOptionForSlot(z))),function(){return[(0,a.createTextVNode)((0,a.toDisplayString)(T.getOptionLabel(z)),1)]})],42,b)}),128)),R.filteredOptions.length===0?((0,a.openBlock)(),(0,a.createElementBlock)("li",m,[(0,a.renderSlot)(g.$slots,"no-options",(0,a.normalizeProps)((0,a.guardReactiveProps)(R.scope.noOptions)),function(){return[v]})])):(0,a.createCommentVNode)("",!0),(0,a.renderSlot)(g.$slots,"list-footer",(0,a.normalizeProps)((0,a.guardReactiveProps)(R.scope.listFooter)))],40,y)),[[J]]):((0,a.openBlock)(),(0,a.createElementBlock)("ul",{key:1,id:"vs".concat(T.uid,"__listbox"),role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,_))]}),_:3},8,["name"]),(0,a.renderSlot)(g.$slots,"footer",(0,a.normalizeProps)((0,a.guardReactiveProps)(R.scope.footer)))],10,l)}]]),Ce=ge,ve={ajax:F,pointer:j,pointerScroll:L},me=ge})(),o})()})})(gx);const fO=px(gx.exports);/*!
  * vue-router v4.1.2
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Nr=typeof window<"u";function pO(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ze=Object.assign;function Wh(t,e){const n={};for(const i in e){const s=e[i];n[i]=jn(s)?s.map(t):t(s)}return n}const ca=()=>{},jn=Array.isArray,gO=/\/$/,mO=t=>t.replace(gO,"");function qh(t,e,n="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=wO(i!=null?i:e,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:o}}function yO(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Py(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function vO(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&no(e.matched[i],n.matched[s])&&mx(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function no(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function mx(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!bO(t[n],e[n]))return!1;return!0}function bO(t,e){return jn(t)?Oy(t,e):jn(e)?Oy(e,t):t===e}function Oy(t,e){return jn(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function wO(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/");let s=n.length-1,r,o;for(r=0;r<i.length;r++)if(o=i[r],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var Da;(function(t){t.pop="pop",t.push="push"})(Da||(Da={}));var ua;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ua||(ua={}));function _O(t){if(!t)if(Nr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),mO(t)}const xO=/^[^#]+#/;function TO(t,e){return t.replace(xO,"#")+e}function kO(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Gu=()=>({left:window.pageXOffset,top:window.pageYOffset});function EO(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=kO(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function My(t,e){return(history.state?history.state.position-e:-1)+t}const gf=new Map;function SO(t,e){gf.set(t,e)}function CO(t){const e=gf.get(t);return gf.delete(t),e}let IO=()=>location.protocol+"//"+location.host;function yx(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let a=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Py(l,"")}return Py(n,t)+i+s}function PO(t,e,n,i){let s=[],r=[],o=null;const a=({state:d})=>{const f=yx(t,location),p=n.value,y=e.value;let b=0;if(d){if(n.value=f,e.value=d,o&&o===p){o=null;return}b=y?d.position-y.position:0}else i(f);s.forEach(m=>{m(n.value,p,{delta:b,type:Da.pop,direction:b?b>0?ua.forward:ua.back:ua.unknown})})};function l(){o=n.value}function c(d){s.push(d);const f=()=>{const p=s.indexOf(d);p>-1&&s.splice(p,1)};return r.push(f),f}function u(){const{history:d}=window;!d.state||d.replaceState(Ze({},d.state,{scroll:Gu()}),"")}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:h}}function Ay(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Gu():null}}function OO(t){const{history:e,location:n}=window,i={value:yx(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:IO()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(l,c){const u=Ze({},e.state,Ay(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=Ze({},s.value,e.state,{forward:l,scroll:Gu()});r(u.current,u,!0);const h=Ze({},Ay(i.value,l,null),{position:u.position+1},c);r(l,h,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function MO(t){t=_O(t);const e=OO(t),n=PO(t,e.state,e.location,e.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=Ze({location:"",base:t,go:i,createHref:TO.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function AO(t){return typeof t=="string"||t&&typeof t=="object"}function vx(t){return typeof t=="string"||typeof t=="symbol"}const Bi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bx=Symbol("");var Dy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Dy||(Dy={}));function io(t,e){return Ze(new Error,{type:t,[bx]:!0},e)}function Ui(t,e){return t instanceof Error&&bx in t&&(e==null||!!(t.type&e))}const Ry="[^/]+?",DO={sensitive:!1,strict:!1,start:!0,end:!0},RO=/[.+*?^${}()[\]/\\]/g;function NO(t,e){const n=Ze({},DO,e),i=[];let s=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(RO,"\\$&"),f+=40;else if(d.type===1){const{value:p,repeatable:y,optional:b,regexp:m}=d;r.push({name:p,repeatable:y,optional:b});const v=m||Ry;if(v!==Ry){f+=10;try{new RegExp(`(${v})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+k.message)}}let _=y?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;h||(_=b&&c.length<2?`(?:/${_})`:"/"+_),b&&(_+="?"),s+=_,f+=20,b&&(f+=-8),y&&(f+=-20),v===".*"&&(f+=-50)}u.push(f)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",p=r[d-1];h[p.name]=f&&p.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:p,repeatable:y,optional:b}=f,m=p in c?c[p]:"";if(jn(m)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=jn(m)?m.join("/"):m;if(!v)if(b)d.length<2&&t.length>1&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=v}}return u}return{re:o,score:i,keys:r,parse:a,stringify:l}}function LO(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function FO(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=LO(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(Ny(i))return 1;if(Ny(s))return-1}return s.length-i.length}function Ny(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $O={type:0,value:""},BO=/[a-zA-Z0-9_]/;function UO(t){if(!t)return[[]];if(t==="/")return[[$O]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function h(){!c||(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:l==="("?n=2:BO.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function VO(t,e,n){const i=NO(UO(t.path),n),s=Ze(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function zO(t,e){const n=[],i=new Map;e=Fy({strict:!1,end:!0,sensitive:!1},e);function s(u){return i.get(u)}function r(u,h,d){const f=!d,p=HO(u);p.aliasOf=d&&d.record;const y=Fy(e,u),b=[p];if("alias"in u){const _=typeof u.alias=="string"?[u.alias]:u.alias;for(const k of _)b.push(Ze({},p,{components:d?d.record.components:p.components,path:k,aliasOf:d?d.record:p}))}let m,v;for(const _ of b){const{path:k}=_;if(h&&k[0]!=="/"){const x=h.record.path,S=x[x.length-1]==="/"?"":"/";_.path=h.record.path+(k&&S+k)}if(m=VO(_,h,y),d?d.alias.push(m):(v=v||m,v!==m&&v.alias.push(m),f&&u.name&&!Ly(m)&&o(u.name)),p.children){const x=p.children;for(let S=0;S<x.length;S++)r(x[S],m,d&&d.children[S])}d=d||m,l(m)}return v?()=>{o(v)}:ca}function o(u){if(vx(u)){const h=i.get(u);h&&(i.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&FO(u,n[h])>=0&&(u.record.path!==n[h].record.path||!wx(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Ly(u)&&i.set(u.record.name,u)}function c(u,h){let d,f={},p,y;if("name"in u&&u.name){if(d=i.get(u.name),!d)throw io(1,{location:u});y=d.record.name,f=Ze(jO(h.params,d.keys.filter(v=>!v.optional).map(v=>v.name)),u.params),p=d.stringify(f)}else if("path"in u)p=u.path,d=n.find(v=>v.re.test(p)),d&&(f=d.parse(p),y=d.record.name);else{if(d=h.name?i.get(h.name):n.find(v=>v.re.test(h.path)),!d)throw io(1,{location:u,currentLocation:h});y=d.record.name,f=Ze({},h.params,u.params),p=d.stringify(f)}const b=[];let m=d;for(;m;)b.unshift(m.record),m=m.parent;return{name:y,path:p,params:f,matched:b,meta:qO(b)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function jO(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function HO(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:WO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function WO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="boolean"?n:n[i];return e}function Ly(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function qO(t){return t.reduce((e,n)=>Ze(e,n.meta),{})}function Fy(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function wx(t,e){return e.children.some(n=>n===t||wx(t,n))}const _x=/#/g,YO=/&/g,KO=/\//g,GO=/=/g,XO=/\?/g,xx=/\+/g,QO=/%5B/g,JO=/%5D/g,Tx=/%5E/g,ZO=/%60/g,kx=/%7B/g,eM=/%7C/g,Ex=/%7D/g,tM=/%20/g;function jp(t){return encodeURI(""+t).replace(eM,"|").replace(QO,"[").replace(JO,"]")}function nM(t){return jp(t).replace(kx,"{").replace(Ex,"}").replace(Tx,"^")}function mf(t){return jp(t).replace(xx,"%2B").replace(tM,"+").replace(_x,"%23").replace(YO,"%26").replace(ZO,"`").replace(kx,"{").replace(Ex,"}").replace(Tx,"^")}function iM(t){return mf(t).replace(GO,"%3D")}function sM(t){return jp(t).replace(_x,"%23").replace(XO,"%3F")}function rM(t){return t==null?"":sM(t).replace(KO,"%2F")}function jc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function oM(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(xx," "),o=r.indexOf("="),a=jc(o<0?r:r.slice(0,o)),l=o<0?null:jc(r.slice(o+1));if(a in e){let c=e[a];jn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function $y(t){let e="";for(let n in t){const i=t[n];if(n=iM(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(jn(i)?i.map(r=>r&&mf(r)):[i&&mf(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function aM(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=jn(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const Sx=Symbol(""),By=Symbol(""),Xu=Symbol(""),Hp=Symbol(""),yf=Symbol("");function Ao(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function lM(t,e,n){const i=()=>{t[e].delete(n)};xs(i),Ap(i),Mp(()=>{t[e].add(n)}),t[e].add(n)}function cM(t){const e=wn(Sx,{}).value;!e||lM(e,"leaveGuards",t)}function Ki(t,e,n,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(io(4,{from:n,to:e})):h instanceof Error?a(h):AO(h)?a(io(2,{from:e,to:h})):(r&&i.enterCallbacks[s]===r&&typeof h=="function"&&r.push(h),o())},c=t.call(i&&i.instances[s],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Yh(t,e,n,i){const s=[];for(const r of t)for(const o in r.components){let a=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(uM(a)){const c=(a.__vccOpts||a)[e];c&&s.push(Ki(c,n,i,r,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=pO(c)?c.default:c;r.components[o]=u;const d=(u.__vccOpts||u)[e];return d&&Ki(d,n,i,r,o)()}))}}return s}function uM(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Uy(t){const e=wn(Xu),n=wn(Hp),i=Ue(()=>e.resolve(D(t.to))),s=Ue(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(no.bind(null,u));if(d>-1)return d;const f=Vy(l[c-2]);return c>1&&Vy(u)===f&&h[h.length-1].path!==f?h.findIndex(no.bind(null,l[c-2])):d}),r=Ue(()=>s.value>-1&&pM(n.params,i.value.params)),o=Ue(()=>s.value>-1&&s.value===n.matched.length-1&&mx(n.params,i.value.params));function a(l={}){return fM(l)?e[D(t.replace)?"replace":"push"](D(t.to)).catch(ca):Promise.resolve()}return{route:i,href:Ue(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const hM=at({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Uy,setup(t,{slots:e}){const n=bo(Uy(t)),{options:i}=wn(Xu),s=Ue(()=>({[zy(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[zy(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:Yu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),dM=hM;function fM(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function pM(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!jn(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function Vy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const zy=(t,e,n)=>t!=null?t:e!=null?e:n,gM=at({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=wn(yf),s=Ue(()=>t.route||i.value),r=wn(By,0),o=Ue(()=>{let c=D(r);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Ue(()=>s.value.matched[o.value]);sa(By,Ue(()=>o.value+1)),sa(Sx,a),sa(yf,s);const l=Ae();return Jt(()=>[l.value,a.value,t.name],([c,u,h],[d,f,p])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!no(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=s.value,u=a.value,h=u&&u.components[t.name],d=t.name;if(!h)return jy(n.default,{Component:h,route:c});const f=u.props[t.name],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,b=Yu(h,Ze({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(u.instances[d]=null)},ref:l}));return jy(n.default,{Component:b,route:c})||b}}});function jy(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const mM=gM;function yM(t){const e=zO(t.routes,t),n=t.parseQuery||oM,i=t.stringifyQuery||$y,s=t.history,r=Ao(),o=Ao(),a=Ao(),l=Zw(Bi);let c=Bi;Nr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Wh.bind(null,I=>""+I),h=Wh.bind(null,rM),d=Wh.bind(null,jc);function f(I,K){let W,ee;return vx(I)?(W=e.getRecordMatcher(I),ee=K):ee=I,e.addRoute(ee,W)}function p(I){const K=e.getRecordMatcher(I);K&&e.removeRoute(K)}function y(){return e.getRoutes().map(I=>I.record)}function b(I){return!!e.getRecordMatcher(I)}function m(I,K){if(K=Ze({},K||l.value),typeof I=="string"){const me=qh(n,I,K.path),g=e.resolve({path:me.path},K),w=s.createHref(me.fullPath);return Ze(me,g,{params:d(g.params),hash:jc(me.hash),redirectedFrom:void 0,href:w})}let W;if("path"in I)W=Ze({},I,{path:qh(n,I.path,K.path).path});else{const me=Ze({},I.params);for(const g in me)me[g]==null&&delete me[g];W=Ze({},I,{params:h(I.params)}),K.params=h(K.params)}const ee=e.resolve(W,K),ge=I.hash||"";ee.params=u(d(ee.params));const Ce=yO(i,Ze({},I,{hash:nM(ge),path:ee.path})),ve=s.createHref(Ce);return Ze({fullPath:Ce,hash:ge,query:i===$y?aM(I.query):I.query||{}},ee,{redirectedFrom:void 0,href:ve})}function v(I){return typeof I=="string"?qh(n,I,l.value.path):Ze({},I)}function _(I,K){if(c!==I)return io(8,{from:K,to:I})}function k(I){return M(I)}function x(I){return k(Ze(v(I),{replace:!0}))}function S(I){const K=I.matched[I.matched.length-1];if(K&&K.redirect){const{redirect:W}=K;let ee=typeof W=="function"?W(I):W;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=v(ee):{path:ee},ee.params={}),Ze({query:I.query,hash:I.hash,params:"path"in ee?{}:I.params},ee)}}function M(I,K){const W=c=m(I),ee=l.value,ge=I.state,Ce=I.force,ve=I.replace===!0,me=S(W);if(me)return M(Ze(v(me),{state:ge,force:Ce,replace:ve}),K||W);const g=W;g.redirectedFrom=K;let w;return!Ce&&vO(i,ee,W)&&(w=io(16,{to:g,from:ee}),pe(ee,ee,!0,!1)),(w?Promise.resolve(w):O(g,ee)).catch(T=>Ui(T)?Ui(T,2)?T:ne(T):V(T,g,ee)).then(T=>{if(T){if(Ui(T,2))return M(Ze(v(T.to),{state:ge,force:Ce,replace:ve}),K||g)}else T=j(g,ee,!0,ve,ge);return L(g,ee,T),T})}function C(I,K){const W=_(I,K);return W?Promise.reject(W):Promise.resolve()}function O(I,K){let W;const[ee,ge,Ce]=vM(I,K);W=Yh(ee.reverse(),"beforeRouteLeave",I,K);for(const me of ee)me.leaveGuards.forEach(g=>{W.push(Ki(g,I,K))});const ve=C.bind(null,I,K);return W.push(ve),Er(W).then(()=>{W=[];for(const me of r.list())W.push(Ki(me,I,K));return W.push(ve),Er(W)}).then(()=>{W=Yh(ge,"beforeRouteUpdate",I,K);for(const me of ge)me.updateGuards.forEach(g=>{W.push(Ki(g,I,K))});return W.push(ve),Er(W)}).then(()=>{W=[];for(const me of I.matched)if(me.beforeEnter&&!K.matched.includes(me))if(jn(me.beforeEnter))for(const g of me.beforeEnter)W.push(Ki(g,I,K));else W.push(Ki(me.beforeEnter,I,K));return W.push(ve),Er(W)}).then(()=>(I.matched.forEach(me=>me.enterCallbacks={}),W=Yh(Ce,"beforeRouteEnter",I,K),W.push(ve),Er(W))).then(()=>{W=[];for(const me of o.list())W.push(Ki(me,I,K));return W.push(ve),Er(W)}).catch(me=>Ui(me,8)?me:Promise.reject(me))}function L(I,K,W){for(const ee of a.list())ee(I,K,W)}function j(I,K,W,ee,ge){const Ce=_(I,K);if(Ce)return Ce;const ve=K===Bi,me=Nr?history.state:{};W&&(ee||ve?s.replace(I.fullPath,Ze({scroll:ve&&me&&me.scroll},ge)):s.push(I.fullPath,ge)),l.value=I,pe(I,K,W,ve),ne()}let F;function U(){F||(F=s.listen((I,K,W)=>{if(!it.listening)return;const ee=m(I),ge=S(ee);if(ge){M(Ze(ge,{replace:!0}),ee).catch(ca);return}c=ee;const Ce=l.value;Nr&&SO(My(Ce.fullPath,W.delta),Gu()),O(ee,Ce).catch(ve=>Ui(ve,12)?ve:Ui(ve,2)?(M(ve.to,ee).then(me=>{Ui(me,20)&&!W.delta&&W.type===Da.pop&&s.go(-1,!1)}).catch(ca),Promise.reject()):(W.delta&&s.go(-W.delta,!1),V(ve,ee,Ce))).then(ve=>{ve=ve||j(ee,Ce,!1),ve&&(W.delta?s.go(-W.delta,!1):W.type===Da.pop&&Ui(ve,20)&&s.go(-1,!1)),L(ee,Ce,ve)}).catch(ca)}))}let P=Ao(),A=Ao(),$;function V(I,K,W){ne(I);const ee=A.list();return ee.length?ee.forEach(ge=>ge(I,K,W)):console.error(I),Promise.reject(I)}function Q(){return $&&l.value!==Bi?Promise.resolve():new Promise((I,K)=>{P.add([I,K])})}function ne(I){return $||($=!I,U(),P.list().forEach(([K,W])=>I?W(I):K()),P.reset()),I}function pe(I,K,W,ee){const{scrollBehavior:ge}=t;if(!Nr||!ge)return Promise.resolve();const Ce=!W&&CO(My(I.fullPath,0))||(ee||!W)&&history.state&&history.state.scroll||null;return al().then(()=>ge(I,K,Ce)).then(ve=>ve&&EO(ve)).catch(ve=>V(ve,I,K))}const Te=I=>s.go(I);let we;const Ie=new Set,it={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:b,getRoutes:y,resolve:m,options:t,push:k,replace:x,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:A.add,isReady:Q,install(I){const K=this;I.component("RouterLink",dM),I.component("RouterView",mM),I.config.globalProperties.$router=K,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>D(l)}),Nr&&!we&&l.value===Bi&&(we=!0,k(s.location).catch(ge=>{}));const W={};for(const ge in Bi)W[ge]=Ue(()=>l.value[ge]);I.provide(Xu,K),I.provide(Hp,bo(W)),I.provide(yf,l);const ee=I.unmount;Ie.add(I),I.unmount=function(){Ie.delete(I),Ie.size<1&&(c=Bi,F&&F(),F=null,l.value=Bi,we=!1,$=!1),ee()}}};return it}function Er(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function vM(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>no(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>no(c,l))||s.push(l))}return[n,i,s]}function ul(){return wn(Xu)}function bM(){return wn(Hp)}const wM=Ae("normal"),Hy=Ae(""),vf=Ae(new Date().toISOString());function bf(t){return{sleep:!1,id:void 0,name:void 0,ticketType:t}}const Ve=Ae([]),He=Ue(()=>{var t;return(t=Ve.value[0])!=null?t:{}});Ae(0);function ha(t){Ve.value.push({...bf(),...t})}function _M(t){Ve.value=Ve.value.map(e=>({...e,...t}))}function Cx(t,e){if(Ve.value[t])return Ve.value[t]={...Ve.value[t],...e},Ve.value[t]}function da(){Ve.value=[]}function xM(){return Ve.value.pop()}function TM(){return JSON.parse(JSON.stringify(Ve.value[Ve.value.length-1]))}Jt(Ve,()=>{console.log(JSON.stringify(Ve.value,null,2))},{deep:!0});const Hc=Ae(!1),Kt=Ae([]),Qn=Ae({program:[],vendors:[],volunteers:[],media:[],guests:[],others:[],vip:[],workers:[]});const Ni=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},kM={},EM=t=>(ws("data-v-1fcb0524"),t=t(),_s(),t),SM={class:"flex flex-wrap justify-center wrap"},CM=["src"],IM=EM(()=>E("div",{class:"px-4 py-2 text-md"},"Uczestnik",-1)),PM=he(" Szukaj ");function OM(t,e){const n=Zt("router-link");return G(),Z("div",SM,[ye(n,{class:"person block m-3 shadow hover:shadow-xl transition-all",to:"/akredytacja/szukaj/2"},{default:wt(()=>[E("img",{class:"person__img",src:"/skiercon-akredytacja/img/uczestnik-front.jpg",alt:"",width:"300",height:"173"},null,8,CM),IM]),_:1}),ye(n,{class:"person block m-3 shadow hover:shadow-xl transition-all p-4 text-center text-xl",to:"/akredytacja/szukaj/1"},{default:wt(()=>[PM]),_:1})])}const MM=Ni(kM,[["render",OM],["__scopeId","data-v-1fcb0524"]]);var Wp={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(zp,function(){var n=1e3,i=6e4,s=36e5,r="millisecond",o="second",a="minute",l="hour",c="day",u="week",h="month",d="quarter",f="year",p="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},_=function(U,P,A){var $=String(U);return!$||$.length>=P?U:""+Array(P+1-$.length).join(A)+U},k={s:_,z:function(U){var P=-U.utcOffset(),A=Math.abs(P),$=Math.floor(A/60),V=A%60;return(P<=0?"+":"-")+_($,2,"0")+":"+_(V,2,"0")},m:function U(P,A){if(P.date()<A.date())return-U(A,P);var $=12*(A.year()-P.year())+(A.month()-P.month()),V=P.clone().add($,h),Q=A-V<0,ne=P.clone().add($+(Q?-1:1),h);return+(-($+(A-V)/(Q?V-ne:ne-V))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:h,y:f,w:u,d:c,D:p,h:l,m:a,s:o,ms:r,Q:d}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},x="en",S={};S[x]=v;var M=function(U){return U instanceof j},C=function U(P,A,$){var V;if(!P)return x;if(typeof P=="string"){var Q=P.toLowerCase();S[Q]&&(V=Q),A&&(S[Q]=A,V=Q);var ne=P.split("-");if(!V&&ne.length>1)return U(ne[0])}else{var pe=P.name;S[pe]=P,V=pe}return!$&&V&&(x=V),V||!$&&x},O=function(U,P){if(M(U))return U.clone();var A=typeof P=="object"?P:{};return A.date=U,A.args=arguments,new j(A)},L=k;L.l=C,L.i=M,L.w=function(U,P){return O(U,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var j=function(){function U(A){this.$L=C(A.locale,null,!0),this.parse(A)}var P=U.prototype;return P.parse=function(A){this.$d=function($){var V=$.date,Q=$.utc;if(V===null)return new Date(NaN);if(L.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var ne=V.match(b);if(ne){var pe=ne[2]-1||0,Te=(ne[7]||"0").substring(0,3);return Q?new Date(Date.UTC(ne[1],pe,ne[3]||1,ne[4]||0,ne[5]||0,ne[6]||0,Te)):new Date(ne[1],pe,ne[3]||1,ne[4]||0,ne[5]||0,ne[6]||0,Te)}}return new Date(V)}(A),this.$x=A.x||{},this.init()},P.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},P.$utils=function(){return L},P.isValid=function(){return this.$d.toString()!==y},P.isSame=function(A,$){var V=O(A);return this.startOf($)<=V&&V<=this.endOf($)},P.isAfter=function(A,$){return O(A)<this.startOf($)},P.isBefore=function(A,$){return this.endOf($)<O(A)},P.$g=function(A,$,V){return L.u(A)?this[$]:this.set(V,A)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(A,$){var V=this,Q=!!L.u($)||$,ne=L.p(A),pe=function(ee,ge){var Ce=L.w(V.$u?Date.UTC(V.$y,ge,ee):new Date(V.$y,ge,ee),V);return Q?Ce:Ce.endOf(c)},Te=function(ee,ge){return L.w(V.toDate()[ee].apply(V.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(ge)),V)},we=this.$W,Ie=this.$M,it=this.$D,I="set"+(this.$u?"UTC":"");switch(ne){case f:return Q?pe(1,0):pe(31,11);case h:return Q?pe(1,Ie):pe(0,Ie+1);case u:var K=this.$locale().weekStart||0,W=(we<K?we+7:we)-K;return pe(Q?it-W:it+(6-W),Ie);case c:case p:return Te(I+"Hours",0);case l:return Te(I+"Minutes",1);case a:return Te(I+"Seconds",2);case o:return Te(I+"Milliseconds",3);default:return this.clone()}},P.endOf=function(A){return this.startOf(A,!1)},P.$set=function(A,$){var V,Q=L.p(A),ne="set"+(this.$u?"UTC":""),pe=(V={},V[c]=ne+"Date",V[p]=ne+"Date",V[h]=ne+"Month",V[f]=ne+"FullYear",V[l]=ne+"Hours",V[a]=ne+"Minutes",V[o]=ne+"Seconds",V[r]=ne+"Milliseconds",V)[Q],Te=Q===c?this.$D+($-this.$W):$;if(Q===h||Q===f){var we=this.clone().set(p,1);we.$d[pe](Te),we.init(),this.$d=we.set(p,Math.min(this.$D,we.daysInMonth())).$d}else pe&&this.$d[pe](Te);return this.init(),this},P.set=function(A,$){return this.clone().$set(A,$)},P.get=function(A){return this[L.p(A)]()},P.add=function(A,$){var V,Q=this;A=Number(A);var ne=L.p($),pe=function(Ie){var it=O(Q);return L.w(it.date(it.date()+Math.round(Ie*A)),Q)};if(ne===h)return this.set(h,this.$M+A);if(ne===f)return this.set(f,this.$y+A);if(ne===c)return pe(1);if(ne===u)return pe(7);var Te=(V={},V[a]=i,V[l]=s,V[o]=n,V)[ne]||1,we=this.$d.getTime()+A*Te;return L.w(we,this)},P.subtract=function(A,$){return this.add(-1*A,$)},P.format=function(A){var $=this,V=this.$locale();if(!this.isValid())return V.invalidDate||y;var Q=A||"YYYY-MM-DDTHH:mm:ssZ",ne=L.z(this),pe=this.$H,Te=this.$m,we=this.$M,Ie=V.weekdays,it=V.months,I=function(ge,Ce,ve,me){return ge&&(ge[Ce]||ge($,Q))||ve[Ce].slice(0,me)},K=function(ge){return L.s(pe%12||12,ge,"0")},W=V.meridiem||function(ge,Ce,ve){var me=ge<12?"AM":"PM";return ve?me.toLowerCase():me},ee={YY:String(this.$y).slice(-2),YYYY:this.$y,M:we+1,MM:L.s(we+1,2,"0"),MMM:I(V.monthsShort,we,it,3),MMMM:I(it,we),D:this.$D,DD:L.s(this.$D,2,"0"),d:String(this.$W),dd:I(V.weekdaysMin,this.$W,Ie,2),ddd:I(V.weekdaysShort,this.$W,Ie,3),dddd:Ie[this.$W],H:String(pe),HH:L.s(pe,2,"0"),h:K(1),hh:K(2),a:W(pe,Te,!0),A:W(pe,Te,!1),m:String(Te),mm:L.s(Te,2,"0"),s:String(this.$s),ss:L.s(this.$s,2,"0"),SSS:L.s(this.$ms,3,"0"),Z:ne};return Q.replace(m,function(ge,Ce){return Ce||ee[ge]||ne.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(A,$,V){var Q,ne=L.p($),pe=O(A),Te=(pe.utcOffset()-this.utcOffset())*i,we=this-pe,Ie=L.m(this,pe);return Ie=(Q={},Q[f]=Ie/12,Q[h]=Ie,Q[d]=Ie/3,Q[u]=(we-Te)/6048e5,Q[c]=(we-Te)/864e5,Q[l]=we/s,Q[a]=we/i,Q[o]=we/n,Q)[ne]||we,V?Ie:L.a(Ie)},P.daysInMonth=function(){return this.endOf(h).$D},P.$locale=function(){return S[this.$L]},P.locale=function(A,$){if(!A)return this.$L;var V=this.clone(),Q=C(A,$,!0);return Q&&(V.$L=Q),V},P.clone=function(){return L.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},U}(),F=j.prototype;return O.prototype=F,[["$ms",r],["$s",o],["$m",a],["$H",l],["$W",c],["$M",h],["$y",f],["$D",p]].forEach(function(U){F[U[1]]=function(P){return this.$g(P,U[0],U[1])}}),O.extend=function(U,P){return U.$i||(U(P,j,O),U.$i=!0),O},O.locale=C,O.isDayjs=M,O.unix=function(U){return O(1e3*U)},O.en=S[x],O.Ls=S,O.p={},O})})(Wp);const qp=Wp.exports,AM={class:"p-10"},DM={class:"shadow rounded-xl overflow-hidden m-auto"},RM=E("tr",null,[E("th",{width:"350"},"Imi\u0119 i Nazwisko"),E("th",{width:"200"},"Nick"),E("th",{width:"100"},"Typ"),E("th",{width:"150"},"Akredytacja")],-1),NM=at({__name:"Lesniczowka",setup(t){const e=Ue(()=>Kt.value.filter(n=>n.ticketType==="volunteer"));return(n,i)=>(G(),Z("div",AM,[E("table",DM,[RM,(G(!0),Z(Ye,null,Aa(D(e),s=>{var r;return G(),Z("tr",{key:s.id},[s.ticketType==="volunteer"?(G(),Z(Ye,{key:0},[E("td",null,ae(s.name)+" "+ae(s.lastName),1),E("td",null,ae((r=s.nick)!=null?r:"-"),1),E("td",null,ae(s.volunteerType),1),E("td",null,ae(D(qp)(s.ticketEndTime).format("dd, HH:mm")),1)],64)):Pe("",!0)])}),128))])]))}});var LM=typeof global=="object"&&global&&global.Object===Object&&global;const FM=LM;var $M=typeof self=="object"&&self&&self.Object===Object&&self,BM=FM||$M||Function("return this")();const UM=BM;var VM=UM.Symbol;const Wc=VM;var Ix=Object.prototype,zM=Ix.hasOwnProperty,jM=Ix.toString,Do=Wc?Wc.toStringTag:void 0;function HM(t){var e=zM.call(t,Do),n=t[Do];try{t[Do]=void 0;var i=!0}catch{}var s=jM.call(t);return i&&(e?t[Do]=n:delete t[Do]),s}var WM=Object.prototype,qM=WM.toString;function YM(t){return qM.call(t)}var KM="[object Null]",GM="[object Undefined]",Wy=Wc?Wc.toStringTag:void 0;function Px(t){return t==null?t===void 0?GM:KM:Wy&&Wy in Object(t)?HM(t):YM(t)}function XM(t){return t!=null&&typeof t=="object"}var QM="[object Symbol]";function JM(t){return typeof t=="symbol"||XM(t)&&Px(t)==QM}var ZM=/\s/;function eA(t){for(var e=t.length;e--&&ZM.test(t.charAt(e)););return e}var tA=/^\s+/;function nA(t){return t&&t.slice(0,eA(t)+1).replace(tA,"")}function qc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qy=0/0,iA=/^[-+]0x[0-9a-f]+$/i,sA=/^0b[01]+$/i,rA=/^0o[0-7]+$/i,oA=parseInt;function aA(t){if(typeof t=="number")return t;if(JM(t))return qy;if(qc(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qc(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=nA(t);var n=sA.test(t);return n||rA.test(t)?oA(t.slice(2),n?2:8):iA.test(t)?qy:+t}var Yy=1/0,lA=17976931348623157e292;function cA(t){if(!t)return t===0?t:0;if(t=aA(t),t===Yy||t===-Yy){var e=t<0?-1:1;return e*lA}return t===t?t:0}function uA(t){var e=cA(t),n=e%1;return e===e?n?e-n:e:0}var hA="[object AsyncFunction]",dA="[object Function]",fA="[object GeneratorFunction]",pA="[object Proxy]";function gA(t){if(!qc(t))return!1;var e=Px(t);return e==dA||e==fA||e==hA||e==pA}var mA=9007199254740991,yA=/^(?:0|[1-9]\d*)$/;function vA(t,e){var n=typeof t;return e=e==null?mA:e,!!e&&(n=="number"||n!="symbol"&&yA.test(t))&&t>-1&&t%1==0&&t<e}function bA(t,e){return t===e||t!==t&&e!==e}var wA=9007199254740991;function _A(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wA}function xA(t){return t!=null&&_A(t.length)&&!gA(t)}function TA(t,e,n){if(!qc(n))return!1;var i=typeof e;return(i=="number"?xA(n)&&vA(e,n.length):i=="string"&&e in n)?bA(n[e],t):!1}function kA(t,e,n){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(s);++i<s;)r[i]=t[i+e];return r}var EA=Math.ceil,SA=Math.max;function CA(t,e,n){(n?TA(t,e,n):e===void 0)?e=1:e=SA(uA(e),0);var i=t==null?0:t.length;if(!i||e<1)return[];for(var s=0,r=0,o=Array(EA(i/e));s<i;)o[r++]=kA(t,s,s+=e);return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},IA=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Mx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ox(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw Error();const d=r<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},PA=function(t){const e=Ox(t);return Mx.encodeByteArray(e,!0)},Ax=function(t){return PA(t).replace(/\./g,"")},OA=function(t){try{return Mx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Yp(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Rx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AA(){return Nt().indexOf("Electron/")>=0}function Nx(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DA(){return Nt().indexOf("MSAppHost/")>=0}function Lx(){return typeof indexedDB=="object"}function Fx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}function RA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="FirebaseError";class pi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=NA,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vr.prototype.create)}}class vr{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?LA(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new pi(s,a,i)}}function LA(t,e){return t.replace(FA,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const FA=/\{\$([^}]+)}/g;function $A(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(Ky(r)&&Ky(o)){if(!Yc(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Ky(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function qo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BA(t,e){const n=new UA(t,e);return n.subscribe.bind(n)}class UA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");VA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Kh),s.error===void 0&&(s.error=Kh),s.complete===void 0&&(s.complete=Kh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=1e3,jA=2,HA=4*60*60*1e3,WA=.5;function Gy(t,e=zA,n=jA){const i=e*Math.pow(n,t),s=Math.round(WA*i*(Math.random()-.5)*2);return Math.min(HA,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){return t&&t._delegate?t._delegate:t}class Hn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new MA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YA(t){return t===Rs?void 0:t}function KA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const XA={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},QA=ze.INFO,JA={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},ZA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=JA[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qu{constructor(e){this.name=e,this._logLevel=QA,this._logHandler=ZA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const eD=(t,e)=>e.some(n=>t instanceof n);let Xy,Qy;function tD(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nD(){return Qy||(Qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $x=new WeakMap,wf=new WeakMap,Bx=new WeakMap,Gh=new WeakMap,Kp=new WeakMap;function iD(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(rs(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$x.set(n,t)}).catch(()=>{}),Kp.set(e,t),e}function sD(t){if(wf.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});wf.set(t,e)}let _f={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rD(t){_f=t(_f)}function oD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Xh(this),e,...n);return Bx.set(i,e.sort?e.sort():[e]),rs(i)}:nD().includes(t)?function(...e){return t.apply(Xh(this),e),rs($x.get(this))}:function(...e){return rs(t.apply(Xh(this),e))}}function aD(t){return typeof t=="function"?oD(t):(t instanceof IDBTransaction&&sD(t),eD(t,tD())?new Proxy(t,_f):t)}function rs(t){if(t instanceof IDBRequest)return iD(t);if(Gh.has(t))return Gh.get(t);const e=aD(t);return e!==t&&(Gh.set(t,e),Kp.set(e,t)),e}const Xh=t=>Kp.get(t);function Ux(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=rs(o);return i&&o.addEventListener("upgradeneeded",l=>{i(rs(o.result),l.oldVersion,l.newVersion,rs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const lD=["get","getKey","getAll","getAllKeys","count"],cD=["put","add","delete","clear"],Qh=new Map;function Jy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=cD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||lD.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Qh.set(e,r),r}rD(t=>({...t,get:(e,n,i)=>Jy(e,n)||t.get(e,n,i),has:(e,n)=>!!Jy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function hD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xf="@firebase/app",Zy="0.7.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Qu("@firebase/app"),dD="@firebase/app-compat",fD="@firebase/analytics-compat",pD="@firebase/analytics",gD="@firebase/app-check-compat",mD="@firebase/app-check",yD="@firebase/auth",vD="@firebase/auth-compat",bD="@firebase/database",wD="@firebase/database-compat",_D="@firebase/functions",xD="@firebase/functions-compat",TD="@firebase/installations",kD="@firebase/installations-compat",ED="@firebase/messaging",SD="@firebase/messaging-compat",CD="@firebase/performance",ID="@firebase/performance-compat",PD="@firebase/remote-config",OD="@firebase/remote-config-compat",MD="@firebase/storage",AD="@firebase/storage-compat",DD="@firebase/firestore",RD="@firebase/firestore-compat",ND="firebase",LD="9.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="[DEFAULT]",FD={[xf]:"fire-core",[dD]:"fire-core-compat",[pD]:"fire-analytics",[fD]:"fire-analytics-compat",[mD]:"fire-app-check",[gD]:"fire-app-check-compat",[yD]:"fire-auth",[vD]:"fire-auth-compat",[bD]:"fire-rtdb",[wD]:"fire-rtdb-compat",[_D]:"fire-fn",[xD]:"fire-fn-compat",[TD]:"fire-iid",[kD]:"fire-iid-compat",[ED]:"fire-fcm",[SD]:"fire-fcm-compat",[CD]:"fire-perf",[ID]:"fire-perf-compat",[PD]:"fire-rc",[OD]:"fire-rc-compat",[MD]:"fire-gcs",[AD]:"fire-gcs-compat",[DD]:"fire-fst",[RD]:"fire-fst-compat","fire-js":"fire-js",[ND]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,Tf=new Map;function $D(t,e){try{t.container.addComponent(e)}catch(n){Gp.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function di(t){const e=t.name;if(Tf.has(e))return Gp.debug(`There were multiple attempts to register component ${e}.`),!1;Tf.set(e,t);for(const n of Kc.values())$D(n,t);return!0}function dl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ir=new vr("app","Firebase",BD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=LD;function VD(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Vx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ir.create("bad-app-name",{appName:String(i)});const s=Kc.get(i);if(s){if(Yc(t,s.options)&&Yc(n,s.config))return s;throw ir.create("duplicate-app",{appName:i})}const r=new GA(i);for(const a of Tf.values())r.addComponent(a);const o=new UD(t,n,r);return Kc.set(i,o),o}function zx(t=Vx){const e=Kc.get(t);if(!e)throw ir.create("no-app",{appName:t});return e}function Mn(t,e,n){var i;let s=(i=FD[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gp.warn(a.join(" "));return}di(new Hn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="firebase-heartbeat-database",jD=1,Ra="firebase-heartbeat-store";let Jh=null;function jx(){return Jh||(Jh=Ux(zD,jD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ra)}}}).catch(t=>{throw ir.create("storage-open",{originalErrorMessage:t.message})})),Jh}async function HD(t){var e;try{return(await jx()).transaction(Ra).objectStore(Ra).get(Hx(t))}catch(n){throw ir.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}}async function ev(t,e){var n;try{const s=(await jx()).transaction(Ra,"readwrite");return await s.objectStore(Ra).put(e,Hx(t)),s.done}catch(i){throw ir.create("storage-set",{originalErrorMessage:(n=i)===null||n===void 0?void 0:n.message})}}function Hx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=1024,qD=30*24*60*60*1e3;class YD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=qD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tv(),{heartbeatsToSend:n,unsentEntries:i}=KD(this._heartbeatsCache.heartbeats),s=Ax(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function tv(){return new Date().toISOString().substring(0,10)}function KD(t,e=WD){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),nv(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),nv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class GD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lx()?Fx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await HD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function nv(t){return Ax(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){di(new Hn("platform-logger",e=>new uD(e),"PRIVATE")),di(new Hn("heartbeat",e=>new YD(e),"PRIVATE")),Mn(xf,Zy,t),Mn(xf,Zy,"esm2017"),Mn("fire-js","")}XD("");var QD="firebase",JD="9.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn(QD,JD,"app");const Wx="@firebase/installations",Xp="0.5.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=1e4,Yx=`w:${Xp}`,Kx="FIS_v2",ZD="https://firebaseinstallations.googleapis.com/v1",eR=60*60*1e3,tR="installations",nR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},sr=new vr(tR,nR,iR);function Gx(t){return t instanceof pi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx({projectId:t}){return`${ZD}/projects/${t}/installations`}function Qx(t){return{token:t.token,requestStatus:2,expiresIn:rR(t.expiresIn),creationTime:Date.now()}}async function Jx(t,e){const i=(await e.json()).error;return sr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Zx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sR(t,{refreshToken:e}){const n=Zx(t);return n.append("Authorization",oR(e)),n}async function eT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function rR(t){return Number(t.replace("s","000"))}function oR(t){return`${Kx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Xx(t),s=Zx(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Kx,appId:t.appId,sdkVersion:Yx},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await eT(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Qx(c.authToken)}}else throw await Jx("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=/^[cdef][\w-]{21}$/,kf="";function uR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=hR(t);return cR.test(n)?n:kf}catch{return kf}}function hR(t){return lR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new Map;function iT(t,e){const n=Ju(t);sT(n,e),dR(n,e)}function sT(t,e){const n=nT.get(t);if(!!n)for(const i of n)i(e)}function dR(t,e){const n=fR();n&&n.postMessage({key:t,fid:e}),pR()}let Us=null;function fR(){return!Us&&"BroadcastChannel"in self&&(Us=new BroadcastChannel("[Firebase] FID Change"),Us.onmessage=t=>{sT(t.data.key,t.data.fid)}),Us}function pR(){nT.size===0&&Us&&(Us.close(),Us=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebase-installations-database",mR=1,rr="firebase-installations-store";let Zh=null;function Qp(){return Zh||(Zh=Ux(gR,mR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rr)}}})),Zh}async function Gc(t,e){const n=Ju(t),s=(await Qp()).transaction(rr,"readwrite"),r=s.objectStore(rr),o=await r.get(n);return await r.put(e,n),await s.done,(!o||o.fid!==e.fid)&&iT(t,e.fid),e}async function rT(t){const e=Ju(t),i=(await Qp()).transaction(rr,"readwrite");await i.objectStore(rr).delete(e),await i.done}async function Zu(t,e){const n=Ju(t),s=(await Qp()).transaction(rr,"readwrite"),r=s.objectStore(rr),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&iT(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jp(t){let e;const n=await Zu(t.appConfig,i=>{const s=yR(i),r=vR(t,s);return e=r.registrationPromise,r.installationEntry});return n.fid===kf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yR(t){const e=t||{fid:uR(),registrationStatus:0};return oT(e)}function vR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(sr.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=bR(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:wR(t)}:{installationEntry:e}}async function bR(t,e){try{const n=await aR(t,e);return Gc(t.appConfig,n)}catch(n){throw Gx(n)&&n.customData.serverCode===409?await rT(t.appConfig):await Gc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function wR(t){let e=await iv(t.appConfig);for(;e.registrationStatus===1;)await tT(100),e=await iv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Jp(t);return i||n}return e}function iv(t){return Zu(t,e=>{if(!e)throw sr.create("installation-not-found");return oT(e)})}function oT(t){return _R(t)?{fid:t.fid,registrationStatus:0}:t}function _R(t){return t.registrationStatus===1&&t.registrationTime+qx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR({appConfig:t,heartbeatServiceProvider:e},n){const i=TR(t,n),s=sR(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:Yx,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await eT(()=>fetch(i,a));if(l.ok){const c=await l.json();return Qx(c)}else throw await Jx("Generate Auth Token",l)}function TR(t,{fid:e}){return`${Xx(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(t,e=!1){let n;const i=await Zu(t.appConfig,r=>{if(!aT(r))throw sr.create("not-registered");const o=r.authToken;if(!e&&SR(o))return r;if(o.requestStatus===1)return n=kR(t,e),r;{if(!navigator.onLine)throw sr.create("app-offline");const a=IR(r);return n=ER(t,a),a}});return n?await n:i.authToken}async function kR(t,e){let n=await sv(t.appConfig);for(;n.authToken.requestStatus===1;)await tT(100),n=await sv(t.appConfig);const i=n.authToken;return i.requestStatus===0?Zp(t,e):i}function sv(t){return Zu(t,e=>{if(!aT(e))throw sr.create("not-registered");const n=e.authToken;return PR(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ER(t,e){try{const n=await xR(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Gc(t.appConfig,i),n}catch(n){if(Gx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await rT(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gc(t.appConfig,i)}throw n}}function aT(t){return t!==void 0&&t.registrationStatus===2}function SR(t){return t.requestStatus===2&&!CR(t)}function CR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+eR}function IR(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function PR(t){return t.requestStatus===1&&t.requestTime+qx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(t){const e=t,{installationEntry:n,registrationPromise:i}=await Jp(e);return i?i.catch(console.error):Zp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(t,e=!1){const n=t;return await AR(n),(await Zp(n,e)).token}async function AR(t){const{registrationPromise:e}=await Jp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){if(!t||!t.options)throw ed("App Configuration");if(!t.name)throw ed("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ed(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ed(t){return sr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="installations",RR="installations-internal",NR=t=>{const e=t.getProvider("app").getImmediate(),n=DR(e),i=dl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},LR=t=>{const e=t.getProvider("app").getImmediate(),n=dl(e,lT).getImmediate();return{getId:()=>OR(n),getToken:s=>MR(n,s)}};function FR(){di(new Hn(lT,NR,"PUBLIC")),di(new Hn(RR,LR,"PRIVATE"))}FR();Mn(Wx,Xp);Mn(Wx,Xp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="analytics",$R="firebase_id",BR="origin",UR=60*1e3,VR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Qu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function zR(t,e){const n=document.createElement("script");n.src=`${cT}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function jR(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function HR(t,e,n,i,s,r){const o=i[s];try{if(o)await e[o];else{const l=(await uT(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){_n.error(a)}t("config",s,r)}async function WR(t,e,n,i,s){try{let r=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await uT(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)r.push(u);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),t("event",i,s||{})}catch(r){_n.error(r)}}function qR(t,e,n,i){async function s(r,o,a){try{r==="event"?await WR(t,e,n,o,a):r==="config"?await HR(t,e,n,i,o,a):r==="consent"?t("consent","update",a):t("set",o)}catch(l){_n.error(l)}}return s}function YR(t,e,n,i,s){let r=function(...o){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=qR(r,t,e,n),{gtagCore:r,wrappedGtag:window[s]}}function KR(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(cT))return e;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},zn=new vr("analytics","Analytics",GR);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=30,QR=1e3;class JR{constructor(e={},n=QR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hT=new JR;function ZR(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function eN(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:ZR(i)},r=VR.replace("{app-id}",n),o=await fetch(r,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function tN(t,e=hT,n){const{appId:i,apiKey:s,measurementId:r}=t.options;if(!i)throw zn.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw zn.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new sN;return setTimeout(async()=>{a.abort()},n!==void 0?n:UR),dT({appId:i,apiKey:s,measurementId:r},o,a,e)}async function dT(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=hT){var r,o;const{appId:a,measurementId:l}=t;try{await nN(i,e)}catch(c){if(l)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${(r=c)===null||r===void 0?void 0:r.message}]`),{appId:a,measurementId:l};throw c}try{const c=await eN(t);return s.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!iN(u)){if(s.deleteThrottleMetadata(a),l)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:l};throw c}const h=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?Gy(n,s.intervalMillis,XR):Gy(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(a,d),_n.debug(`Calling attemptFetch again in ${h} millis`),dT(t,d,i,s)}}function nN(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),r=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(r),i(zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function iN(t){if(!(t instanceof pi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class sN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rN(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const r=await e,o=Object.assign(Object.assign({},i),{send_to:r});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(){var t;if(Lx())try{await Fx()}catch(e){return _n.warn(zn.create("indexeddb-unavailable",{errorInfo:(t=e)===null||t===void 0?void 0:t.toString()}).message),!1}else return _n.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aN(t,e,n,i,s,r,o){var a;const l=tN(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>_n.error(f)),e.push(l);const c=oN().then(f=>{if(f)return i.getId()}),[u,h]=await Promise.all([l,c]);KR()||zR(r,u.measurementId),s("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[BR]="firebase",d.update=!0,h!=null&&(d[$R]=h),s("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.app=e}_delete(){return delete fa[this.app.options.appId],Promise.resolve()}}let fa={},ov=[];const av={};let td="dataLayer",cN="gtag",lv,fT,cv=!1;function uN(){const t=[];if(Yp()&&t.push("This is a browser extension environment."),RA()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=zn.create("invalid-analytics-context",{errorInfo:e});_n.warn(n.message)}}function hN(t,e,n){uN();const i=t.options.appId;if(!i)throw zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(fa[i]!=null)throw zn.create("already-exists",{id:i});if(!cv){jR(td);const{wrappedGtag:r,gtagCore:o}=YR(fa,ov,av,td,cN);fT=r,lv=o,cv=!0}return fa[i]=aN(t,ov,av,e,lv,td,n),new lN(t)}function dN(t,e,n,i){t=Dn(t),rN(fT,fa[t.app.options.appId],e,n,i).catch(s=>_n.error(s))}const uv="@firebase/analytics",hv="0.8.0";function fN(){di(new Hn(rv,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return hN(i,s,n)},"PUBLIC")),di(new Hn("analytics-internal",t,"PRIVATE")),Mn(uv,hv),Mn(uv,hv,"esm2017");function t(e){try{const n=e.getProvider(rv).getImmediate();return{logEvent:(i,s,r)=>dN(n,i,s,r)}}catch(n){throw zn.create("interop-component-reg-failed",{reason:n})}}}fN();var pN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te,eg=eg||{},xe=pN||self;function Xc(){}function Ef(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function pl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function gN(t){return Object.prototype.hasOwnProperty.call(t,nd)&&t[nd]||(t[nd]=++mN)}var nd="closure_uid_"+(1e9*Math.random()>>>0),mN=0;function yN(t,e,n){return t.call.apply(t.bind,arguments)}function vN(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vt=yN:Vt=vN,Vt.apply(null,arguments)}function tc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Wt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(i,o)}}function ks(){this.s=this.s,this.o=this.o}var bN=0;ks.prototype.s=!1;ks.prototype.na=function(){!this.s&&(this.s=!0,this.M(),bN!=0)&&gN(this)};ks.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},gT=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const i=t.length,s=typeof t=="string"?t.split(""):t;for(let r=0;r<i;r++)r in s&&e.call(n,s[r],r,t)};function wN(t){e:{var e=hL;const n=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<n;s++)if(s in i&&e.call(void 0,i[s],s,t)){e=s;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function dv(t){return Array.prototype.concat.apply([],arguments)}function tg(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Qc(t){return/^[\s\xa0]*$/.test(t)}var fv=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function rn(t,e){return t.indexOf(e)!=-1}function id(t,e){return t<e?-1:t>e?1:0}var on;e:{var pv=xe.navigator;if(pv){var gv=pv.userAgent;if(gv){on=gv;break e}}on=""}function ng(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function mT(t){const e={};for(const n in t)e[n]=t[n];return e}var mv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yT(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let r=0;r<mv.length;r++)n=mv[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function ig(t){return ig[" "](t),t}ig[" "]=Xc;function _N(t){var e=kN;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var xN=rn(on,"Opera"),so=rn(on,"Trident")||rn(on,"MSIE"),vT=rn(on,"Edge"),Sf=vT||so,bT=rn(on,"Gecko")&&!(rn(on.toLowerCase(),"webkit")&&!rn(on,"Edge"))&&!(rn(on,"Trident")||rn(on,"MSIE"))&&!rn(on,"Edge"),TN=rn(on.toLowerCase(),"webkit")&&!rn(on,"Edge");function wT(){var t=xe.document;return t?t.documentMode:void 0}var Jc;e:{var sd="",rd=function(){var t=on;if(bT)return/rv:([^\);]+)(\)|;)/.exec(t);if(vT)return/Edge\/([\d\.]+)/.exec(t);if(so)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(TN)return/WebKit\/(\S+)/.exec(t);if(xN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(rd&&(sd=rd?rd[1]:""),so){var od=wT();if(od!=null&&od>parseFloat(sd)){Jc=String(od);break e}}Jc=sd}var kN={};function EN(){return _N(function(){let t=0;const e=fv(String(Jc)).split("."),n=fv("9").split("."),i=Math.max(e.length,n.length);for(let o=0;t==0&&o<i;o++){var s=e[o]||"",r=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s[0].length==0&&r[0].length==0)break;t=id(s[1].length==0?0:parseInt(s[1],10),r[1].length==0?0:parseInt(r[1],10))||id(s[2].length==0,r[2].length==0)||id(s[2],r[2]),s=s[3],r=r[3]}while(t==0)}return 0<=t})}var Cf;if(xe.document&&so){var yv=wT();Cf=yv||parseInt(Jc,10)||void 0}else Cf=void 0;var SN=Cf,CN=function(){if(!xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{xe.addEventListener("test",Xc,e),xe.removeEventListener("test",Xc,e)}catch{}return t}();function tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};function Na(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bT){e:{try{ig(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:IN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Na.Z.h.call(this)}}Wt(Na,tn);var IN={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gl="closure_listenable_"+(1e6*Math.random()|0),PN=0;function ON(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=s,this.key=++PN,this.ca=this.fa=!1}function eh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function th(t){this.src=t,this.g={},this.h=0}th.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=Pf(t,e,i,s);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new ON(e,this.src,r,!!i,s),e.fa=n,t.push(e)),e};function If(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=pT(i,e),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(eh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Pf(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.ca&&r.listener==e&&r.capture==!!n&&r.ia==i)return s}return-1}var sg="closure_lm_"+(1e6*Math.random()|0),ad={};function _T(t,e,n,i,s){if(i&&i.once)return TT(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)_T(t,e[r],n,i,s);return null}return n=ag(n),t&&t[gl]?t.N(e,n,pl(i)?!!i.capture:!!i,s):xT(t,e,n,!1,i,s)}function xT(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=pl(s)?!!s.capture:!!s,a=og(t);if(a||(t[sg]=a=new th(t)),n=a.add(e,n,i,o,r),n.proxy)return n;if(i=MN(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)CN||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(ET(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function MN(){function t(n){return e.call(t.src,t.listener,n)}var e=AN;return t}function TT(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)TT(t,e[r],n,i,s);return null}return n=ag(n),t&&t[gl]?t.O(e,n,pl(i)?!!i.capture:!!i,s):xT(t,e,n,!0,i,s)}function kT(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)kT(t,e[r],n,i,s);else i=pl(i)?!!i.capture:!!i,n=ag(n),t&&t[gl]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=Pf(r,n,i,s),-1<n&&(eh(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=og(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Pf(e,n,i,s)),(n=-1<t?e[t]:null)&&rg(n))}function rg(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[gl])If(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(ET(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=og(e))?(If(n,t),n.h==0&&(n.src=null,e[sg]=null)):eh(t)}}}function ET(t){return t in ad?ad[t]:ad[t]="on"+t}function AN(t,e){if(t.ca)t=!0;else{e=new Na(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&rg(t),t=n.call(i,e)}return t}function og(t){return t=t[sg],t instanceof th?t:null}var ld="__closure_events_fn_"+(1e9*Math.random()>>>0);function ag(t){return typeof t=="function"?t:(t[ld]||(t[ld]=function(e){return t.handleEvent(e)}),t[ld])}function Lt(){ks.call(this),this.i=new th(this),this.P=this,this.I=null}Wt(Lt,ks);Lt.prototype[gl]=!0;Lt.prototype.removeEventListener=function(t,e,n,i){kT(this,t,e,n,i)};function zt(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new tn(e,t);else if(e instanceof tn)e.target=e.target||t;else{var s=e;e=new tn(i,t),yT(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=nc(o,i,!0,e)&&s}if(o=e.g=t,s=nc(o,i,!0,e)&&s,s=nc(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)o=e.g=n[r],s=nc(o,i,!1,e)&&s}Lt.prototype.M=function(){if(Lt.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)eh(n[i]);delete t.g[e],t.h--}}this.I=null};Lt.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Lt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function nc(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&If(t.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var lg=xe.JSON.stringify;function DN(){var t=CT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class RN{constructor(){this.h=this.g=null}add(e,n){const i=ST.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var ST=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new NN,t=>t.reset());class NN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LN(t){xe.setTimeout(()=>{throw t},0)}function cg(t,e){Of||FN(),Mf||(Of(),Mf=!0),CT.add(t,e)}var Of;function FN(){var t=xe.Promise.resolve(void 0);Of=function(){t.then($N)}}var Mf=!1,CT=new RN;function $N(){for(var t;t=DN();){try{t.h.call(t.g)}catch(n){LN(n)}var e=ST;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mf=!1}function nh(t,e){Lt.call(this),this.h=t||1,this.g=e||xe,this.j=Vt(this.kb,this),this.l=Date.now()}Wt(nh,Lt);te=nh.prototype;te.da=!1;te.S=null;te.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zt(this,"tick"),this.da&&(ug(this),this.start()))}};te.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ug(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}te.M=function(){nh.Z.M.call(this),ug(this),delete this.g};function hg(t,e,n){if(typeof t=="function")n&&(t=Vt(t,n));else if(t&&typeof t.handleEvent=="function")t=Vt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:xe.setTimeout(t,e||0)}function IT(t){t.g=hg(()=>{t.g=null,t.i&&(t.i=!1,IT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class BN extends ks{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IT(this)}M(){super.M(),this.g&&(xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(t){ks.call(this),this.h=t,this.g={}}Wt(La,ks);var vv=[];function PT(t,e,n,i){Array.isArray(n)||(n&&(vv[0]=n.toString()),n=vv);for(var s=0;s<n.length;s++){var r=_T(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function OT(t){ng(t.g,function(e,n){this.g.hasOwnProperty(n)&&rg(e)},t),t.g={}}La.prototype.M=function(){La.Z.M.call(this),OT(this)};La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ih(){this.g=!0}ih.prototype.Aa=function(){this.g=!1};function UN(t,e,n,i,s,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function VN(t,e,n,i,s,r,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+r+" "+o})}function Lr(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+jN(t,n)+(i?" "+i:"")})}function zN(t,e){t.info(function(){return"TIMEOUT: "+e})}ih.prototype.info=function(){};function jN(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return lg(n)}catch{return e}}var br={},bv=null;function sh(){return bv=bv||new Lt}br.Ma="serverreachability";function MT(t){tn.call(this,br.Ma,t)}Wt(MT,tn);function Fa(t){const e=sh();zt(e,new MT(e))}br.STAT_EVENT="statevent";function AT(t,e){tn.call(this,br.STAT_EVENT,t),this.stat=e}Wt(AT,tn);function an(t){const e=sh();zt(e,new AT(e,t))}br.Na="timingevent";function DT(t,e){tn.call(this,br.Na,t),this.size=e}Wt(DT,tn);function ml(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return xe.setTimeout(function(){t()},e)}var rh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},RT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dg(){}dg.prototype.h=null;function wv(t){return t.h||(t.h=t.i())}function NT(){}var yl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fg(){tn.call(this,"d")}Wt(fg,tn);function pg(){tn.call(this,"c")}Wt(pg,tn);var Af;function oh(){}Wt(oh,dg);oh.prototype.g=function(){return new XMLHttpRequest};oh.prototype.i=function(){return{}};Af=new oh;function vl(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new La(this),this.P=HN,t=Sf?125:void 0,this.W=new nh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new LT}function LT(){this.i=null,this.g="",this.h=!1}var HN=45e3,Df={},Zc={};te=vl.prototype;te.setTimeout=function(t){this.P=t};function Rf(t,e,n){t.K=1,t.v=lh(Pi(e)),t.s=n,t.U=!0,FT(t,null)}function FT(t,e){t.F=Date.now(),bl(t),t.A=Pi(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),HT(n.h,"t",i),t.C=0,n=t.l.H,t.h=new LT,t.g=u1(t.l,n?e:null,!t.s),0<t.O&&(t.L=new BN(Vt(t.Ia,t,t.g),t.O)),PT(t.V,t.g,"readystatechange",t.gb),e=t.H?mT(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Fa(),UN(t.j,t.u,t.A,t.m,t.X,t.s)}te.gb=function(t){t=t.target;const e=this.L;e&&Ti(t)==3?e.l():this.Ia(t)};te.Ia=function(t){try{if(t==this.g)e:{const u=Ti(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(u!=3||Sf||this.g&&(this.h.h||this.g.ga()||kv(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?Fa(3):Fa(2)),ah(this);var n=this.g.ba();this.N=n;t:if($T(this)){var i=kv(this.g);t="";var s=i.length,r=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),pa(this);var o="";break t}this.h.i=new xe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,VN(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qc(a)){var c=a;break t}}c=null}if(n=c)Lr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nf(this,n);else{this.i=!1,this.o=3,an(12),Vs(this),pa(this);break e}}this.U?(BT(this,u,o),Sf&&this.i&&u==3&&(PT(this.V,this.W,"tick",this.fb),this.W.start())):(Lr(this.j,this.m,o,null),Nf(this,o)),u==4&&Vs(this),this.i&&!this.I&&(u==4?o1(this.l,this):(this.i=!1,bl(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,an(12)):(this.o=0,an(13)),Vs(this),pa(this)}}}catch{}finally{}};function $T(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function BT(t,e,n){let i=!0,s;for(;!t.I&&t.C<n.length;)if(s=WN(t,n),s==Zc){e==4&&(t.o=4,an(14),i=!1),Lr(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Df){t.o=4,an(15),Lr(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Lr(t.j,t.m,s,null),Nf(t,s);$T(t)&&s!=Zc&&s!=Df&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,an(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Tg(e),e.L=!0,an(11))):(Lr(t.j,t.m,n,"[Invalid Chunked Response]"),Vs(t),pa(t))}te.fb=function(){if(this.g){var t=Ti(this.g),e=this.g.ga();this.C<e.length&&(ah(this),BT(this,t,e),this.i&&t!=4&&bl(this))}};function WN(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Zc:(n=Number(e.substring(n,i)),isNaN(n)?Df:(i+=1,i+n>e.length?Zc:(e=e.substr(i,n),t.C=i+n,e)))}te.cancel=function(){this.I=!0,Vs(this)};function bl(t){t.Y=Date.now()+t.P,UT(t,t.P)}function UT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ml(Vt(t.eb,t),e)}function ah(t){t.B&&(xe.clearTimeout(t.B),t.B=null)}te.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(zN(this.j,this.A),this.K!=2&&(Fa(),an(17)),Vs(this),this.o=2,pa(this)):UT(this,this.Y-t)};function pa(t){t.l.G==0||t.I||o1(t.l,t)}function Vs(t){ah(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,ug(t.W),OT(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Nf(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Lf(n.i,t))){if(n.I=t.N,!t.J&&Lf(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)iu(n),hh(n);else break e;xg(n),an(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&n.A==0&&!n.v&&(n.v=ml(Vt(n.ab,n),6e3));if(1>=YT(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else zs(n,11)}else if((t.J||n.g==t)&&iu(n),!Qc(e))for(s=n.Ca.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.U=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.J=c[1],n.la=c[2];const u=c[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const h=c[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=i.i;!r.g&&(rn(p,"spdy")||rn(p,"quic")||rn(p,"h2"))&&(r.j=r.l,r.g=new Set,r.h&&(yg(r,r.h),r.h=null))}if(i.D){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,lt(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var o=t;if(i.oa=c1(i,i.H?i.la:null,i.W),o.J){KT(i.i,o);var a=o,l=i.K;l&&a.setTimeout(l),a.B&&(ah(a),bl(a)),i.g=o}else s1(i);0<n.l.length&&dh(n)}else c[0]!="stop"&&c[0]!="close"||zs(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?zs(n,7):_g(n):c[0]!="noop"&&n.j&&n.j.wa(c),n.A=0)}}Fa(4)}catch{}}function qN(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Ef(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function gg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ef(t)||typeof t=="string")gT(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Ef(t)||typeof t=="string"){n=[];for(var i=t.length,s=0;s<i;s++)n.push(s)}else for(s in n=[],i=0,t)n[i++]=s;i=qN(t),s=i.length;for(var r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}}function wo(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof wo)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}te=wo.prototype;te.R=function(){mg(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};te.T=function(){return mg(this),this.g.concat()};function mg(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];or(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var s={};for(n=e=0;e<t.g.length;)i=t.g[e],or(s,i)||(t.g[n++]=i,s[i]=1),e++;t.g.length=n}}te.get=function(t,e){return or(this.h,t)?this.h[t]:e};te.set=function(t,e){or(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};te.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var s=n[i],r=this.get(s);t.call(e,r,s,this)}};function or(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var VT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function YN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ar(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ar){this.g=e!==void 0?e:t.g,eu(this,t.j),this.s=t.s,tu(this,t.i),nu(this,t.m),this.l=t.l,e=t.h;var n=new $a;n.i=e.i,e.g&&(n.g=new wo(e.g),n.h=e.h),_v(this,n),this.o=t.o}else t&&(n=String(t).match(VT))?(this.g=!!e,eu(this,n[1]||"",!0),this.s=ga(n[2]||""),tu(this,n[3]||"",!0),nu(this,n[4]),this.l=ga(n[5]||"",!0),_v(this,n[6]||"",!0),this.o=ga(n[7]||"")):(this.g=!!e,this.h=new $a(null,this.g))}ar.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Yo(e,xv,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Yo(e,xv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Yo(n,n.charAt(0)=="/"?JN:QN,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Yo(n,eL)),t.join("")};function Pi(t){return new ar(t)}function eu(t,e,n){t.j=n?ga(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tu(t,e,n){t.i=n?ga(e,!0):e}function nu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _v(t,e,n){e instanceof $a?(t.h=e,tL(t.h,t.g)):(n||(e=Yo(e,ZN)),t.h=new $a(e,t.g))}function lt(t,e,n){t.h.set(e,n)}function lh(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function KN(t){return t instanceof ar?Pi(t):new ar(t,void 0)}function GN(t,e,n,i){var s=new ar(null,void 0);return t&&eu(s,t),e&&tu(s,e),n&&nu(s,n),i&&(s.l=i),s}function ga(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,XN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function XN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xv=/[#\/\?@]/g,QN=/[#\?:]/g,JN=/[#\?]/g,ZN=/[#\?@]/g,eL=/#/g;function $a(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Es(t){t.g||(t.g=new wo,t.h=0,t.i&&YN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}te=$a.prototype;te.add=function(t,e){Es(this),this.i=null,t=_o(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function zT(t,e){Es(t),e=_o(t,e),or(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,or(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&mg(t)))}function jT(t,e){return Es(t),e=_o(t,e),or(t.g.h,e)}te.forEach=function(t,e){Es(this),this.g.forEach(function(n,i){gT(n,function(s){t.call(e,s,i,this)},this)},this)};te.T=function(){Es(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var s=t[i],r=0;r<s.length;r++)n.push(e[i]);return n};te.R=function(t){Es(this);var e=[];if(typeof t=="string")jT(this,t)&&(e=dv(e,this.g.get(_o(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=dv(e,t[n])}return e};te.set=function(t,e){return Es(this),this.i=null,t=_o(this,t),jT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};te.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function HT(t,e,n){zT(t,e),0<n.length&&(t.i=null,t.g.set(_o(t,e),tg(n)),t.h+=n.length)}te.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],s=encodeURIComponent(String(i));i=this.R(i);for(var r=0;r<i.length;r++){var o=s;i[r]!==""&&(o+="="+encodeURIComponent(String(i[r]))),t.push(o)}}return this.i=t.join("&")};function _o(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function tL(t,e){e&&!t.j&&(Es(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(zT(this,i),HT(this,s,n))},t)),t.j=e}var nL=class{constructor(t,e){this.h=t,this.g=e}};function WT(t){this.l=t||iL,xe.PerformanceNavigationTiming?(t=xe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(xe.g&&xe.g.Ea&&xe.g.Ea()&&xe.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iL=10;function qT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function YT(t){return t.h?1:t.g?t.g.size:0}function Lf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function yg(t,e){t.g?t.g.add(e):t.h=e}function KT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}WT.prototype.cancel=function(){if(this.i=GT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function GT(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return tg(t.i)}function vg(){}vg.prototype.stringify=function(t){return xe.JSON.stringify(t,void 0)};vg.prototype.parse=function(t){return xe.JSON.parse(t,void 0)};function sL(){this.g=new vg}function rL(t,e,n){const i=n||"";try{gg(t,function(s,r){let o=s;pl(s)&&(o=lg(s)),e.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function oL(t,e){const n=new ih;if(xe.Image){const i=new Image;i.onload=tc(ic,n,i,"TestLoadImage: loaded",!0,e),i.onerror=tc(ic,n,i,"TestLoadImage: error",!1,e),i.onabort=tc(ic,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=tc(ic,n,i,"TestLoadImage: timeout",!1,e),xe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function ic(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function wl(t){this.l=t.$b||null,this.j=t.ib||!1}Wt(wl,dg);wl.prototype.g=function(){return new ch(this.l,this.j)};wl.prototype.i=function(t){return function(){return t}}({});function ch(t,e){Lt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=bg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wt(ch,Lt);var bg=0;te=ch.prototype;te.open=function(t,e){if(this.readyState!=bg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ba(this)};te.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||xe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_l(this)),this.readyState=bg};te.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof xe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function XT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}te.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_l(this):Ba(this),this.readyState==3&&XT(this)}};te.Ua=function(t){this.g&&(this.response=this.responseText=t,_l(this))};te.Ta=function(t){this.g&&(this.response=t,_l(this))};te.ha=function(){this.g&&_l(this)};function _l(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ba(t)}te.setRequestHeader=function(t,e){this.v.append(t,e)};te.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};te.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ba(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var aL=xe.JSON.parse;function xt(t){Lt.call(this),this.headers=new wo,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=QT,this.K=this.L=!1}Wt(xt,Lt);var QT="",lL=/^https?$/i,cL=["POST","PUT"];te=xt.prototype;te.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Af.g(),this.C=this.u?wv(this.u):wv(Af),this.g.onreadystatechange=Vt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(r){Tv(this,r);return}t=n||"";const s=new wo(this.headers);i&&gg(i,function(r,o){s.set(o,r)}),i=wN(s.T()),n=xe.FormData&&t instanceof xe.FormData,!(0<=pT(cL,e))||i||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(r,o){this.g.setRequestHeader(o,r)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{e1(this),0<this.B&&((this.K=uL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.pa,this)):this.A=hg(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){Tv(this,r)}};function uL(t){return so&&EN()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function hL(t){return t.toLowerCase()=="content-type"}te.pa=function(){typeof eg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))};function Tv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,JT(t),uh(t)}function JT(t){t.D||(t.D=!0,zt(t,"complete"),zt(t,"error"))}te.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zt(this,"complete"),zt(this,"abort"),uh(this))};te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uh(this,!0)),xt.Z.M.call(this)};te.Fa=function(){this.s||(this.F||this.v||this.l?ZT(this):this.cb())};te.cb=function(){ZT(this)};function ZT(t){if(t.h&&typeof eg<"u"&&(!t.C[1]||Ti(t)!=4||t.ba()!=2)){if(t.v&&Ti(t)==4)hg(t.Fa,0,t);else if(zt(t,"readystatechange"),Ti(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var s=String(t.H).match(VT)[1]||null;if(!s&&xe.self&&xe.self.location){var r=xe.self.location.protocol;s=r.substr(0,r.length-1)}i=!lL.test(s?s.toLowerCase():"")}n=i}if(n)zt(t,"complete"),zt(t,"success");else{t.m=6;try{var o=2<Ti(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",JT(t)}}finally{uh(t)}}}}function uh(t,e){if(t.g){e1(t);const n=t.g,i=t.C[0]?Xc:null;t.g=null,t.C=null,e||zt(t,"ready");try{n.onreadystatechange=i}catch{}}}function e1(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(xe.clearTimeout(t.A),t.A=null)}function Ti(t){return t.g?t.g.readyState:0}te.ba=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}};te.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};te.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),aL(e)}};function kv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case QT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}te.Da=function(){return this.m};te.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function dL(t){let e="";return ng(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function wg(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=dL(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):lt(t,e,n))}function Ro(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function t1(t){this.za=0,this.l=[],this.h=new ih,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ro("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ro("baseRetryDelayMs",5e3,t),this.$a=Ro("retryDelaySeedMs",1e4,t),this.Ya=Ro("forwardChannelMaxRetries",2,t),this.ra=Ro("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new WT(t&&t.concurrentRequestLimit),this.Ca=new sL,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}te=t1.prototype;te.ma=8;te.G=1;function _g(t){if(n1(t),t.G==3){var e=t.V++,n=Pi(t.F);lt(n,"SID",t.J),lt(n,"RID",e),lt(n,"TYPE","terminate"),xl(t,n),e=new vl(t,t.h,e,void 0),e.K=2,e.v=lh(Pi(n)),n=!1,xe.navigator&&xe.navigator.sendBeacon&&(n=xe.navigator.sendBeacon(e.v.toString(),"")),!n&&xe.Image&&(new Image().src=e.v,n=!0),n||(e.g=u1(e.l,null),e.g.ea(e.v)),e.F=Date.now(),bl(e)}l1(t)}te.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function hh(t){t.g&&(Tg(t),t.g.cancel(),t.g=null)}function n1(t){hh(t),t.u&&(xe.clearTimeout(t.u),t.u=null),iu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&xe.clearTimeout(t.m),t.m=null)}function cd(t,e){t.l.push(new nL(t.Za++,e)),t.G==3&&dh(t)}function dh(t){qT(t.i)||t.m||(t.m=!0,cg(t.Ha,t),t.C=0)}function fL(t,e){return YT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=ml(Vt(t.Ha,t,e),a1(t,t.C)),t.C++,!0)}te.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const s=new vl(this,this.h,t,void 0);let r=this.s;if(this.P&&(r?(r=mT(r),yT(r,this.P)):r=this.P),this.o===null&&(s.H=r),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var i=this.l[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=i1(this,s,e),n=Pi(this.F),lt(n,"RID",t),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),xl(this,n),this.o&&r&&wg(n,this.o,r),yg(this.i,s),this.Ra&&lt(n,"TYPE","init"),this.ja?(lt(n,"$req",e),lt(n,"SID","null"),s.$=!0,Rf(s,n,null)):Rf(s,n,e),this.G=2}}else this.G==3&&(t?Ev(this,t):this.l.length==0||qT(this.i)||Ev(this))};function Ev(t,e){var n;e?n=e.m:n=t.V++;const i=Pi(t.F);lt(i,"SID",t.J),lt(i,"RID",n),lt(i,"AID",t.U),xl(t,i),t.o&&t.s&&wg(i,t.o,t.s),n=new vl(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=i1(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),yg(t.i,n),Rf(n,i,e)}function xl(t,e){t.j&&gg({},function(n,i){lt(e,i,n)})}function i1(t,e,n){n=Math.min(t.l.length,n);var i=t.j?Vt(t.j.Oa,t.j,t):null;e:{var s=t.l;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].h;const u=s[l].g;if(c-=r,0>c)r=Math.max(0,s[l].h-100),a=!1;else try{rL(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,i}function s1(t){t.g||t.u||(t.Y=1,cg(t.Ga,t),t.A=0)}function xg(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=ml(Vt(t.Ga,t),a1(t,t.A)),t.A++,!0)}te.Ga=function(){if(this.u=null,r1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ml(Vt(this.bb,this),t)}};te.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,an(10),hh(this),r1(this))};function Tg(t){t.B!=null&&(xe.clearTimeout(t.B),t.B=null)}function r1(t){t.g=new vl(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Pi(t.oa);lt(e,"RID","rpc"),lt(e,"SID",t.J),lt(e,"CI",t.N?"0":"1"),lt(e,"AID",t.U),xl(t,e),lt(e,"TYPE","xmlhttp"),t.o&&t.s&&wg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=lh(Pi(e)),n.s=null,n.U=!0,FT(n,t)}te.ab=function(){this.v!=null&&(this.v=null,hh(this),xg(this),an(19))};function iu(t){t.v!=null&&(xe.clearTimeout(t.v),t.v=null)}function o1(t,e){var n=null;if(t.g==e){iu(t),Tg(t),t.g=null;var i=2}else if(Lf(t.i,e))n=e.D,KT(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;i=sh(),zt(i,new DT(i,n)),dh(t)}else s1(t);else if(s=e.o,s==3||s==0&&0<t.I||!(i==1&&fL(t,e)||i==2&&xg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:zs(t,5);break;case 4:zs(t,10);break;case 3:zs(t,6);break;default:zs(t,2)}}}function a1(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function zs(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=Vt(t.jb,t);n||(n=new ar("//www.google.com/images/cleardot.gif"),xe.location&&xe.location.protocol=="http"||eu(n,"https"),lh(n)),oL(n.toString(),i)}else an(2);t.G=0,t.j&&t.j.va(e),l1(t),n1(t)}te.jb=function(t){t?(this.h.info("Successfully pinged google.com"),an(2)):(this.h.info("Failed to ping google.com"),an(1))};function l1(t){t.G=0,t.I=-1,t.j&&((GT(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,tg(t.l),t.l.length=0),t.j.ua())}function c1(t,e,n){let i=KN(n);if(i.i!="")e&&tu(i,e+"."+i.i),nu(i,i.m);else{const s=xe.location;i=GN(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,n)}return t.aa&&ng(t.aa,function(s,r){lt(i,r,s)}),e=t.D,n=t.sa,e&&n&&lt(i,e,n),lt(i,"VER",t.ma),xl(t,i),i}function u1(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new xt(new wl({ib:!0})):new xt(t.qa),e.L=t.H,e}function h1(){}te=h1.prototype;te.xa=function(){};te.wa=function(){};te.va=function(){};te.ua=function(){};te.Oa=function(){};function su(){if(so&&!(10<=Number(SN)))throw Error("Environmental error: no available transport.")}su.prototype.g=function(t,e){return new kn(t,e)};function kn(t,e){Lt.call(this),this.g=new t1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Qc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qc(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xo(this)}Wt(kn,Lt);kn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),cg(Vt(t.hb,t,e))),an(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=c1(t,null,t.W),dh(t)};kn.prototype.close=function(){_g(this.g)};kn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,cd(this.g,e)}else this.v?(e={},e.__data__=lg(t),cd(this.g,e)):cd(this.g,t)};kn.prototype.M=function(){this.g.j=null,delete this.j,_g(this.g),delete this.g,kn.Z.M.call(this)};function d1(t){fg.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Wt(d1,fg);function f1(){pg.call(this),this.status=1}Wt(f1,pg);function xo(t){this.g=t}Wt(xo,h1);xo.prototype.xa=function(){zt(this.g,"a")};xo.prototype.wa=function(t){zt(this.g,new d1(t))};xo.prototype.va=function(t){zt(this.g,new f1)};xo.prototype.ua=function(){zt(this.g,"b")};su.prototype.createWebChannel=su.prototype.g;kn.prototype.send=kn.prototype.u;kn.prototype.open=kn.prototype.m;kn.prototype.close=kn.prototype.close;rh.NO_ERROR=0;rh.TIMEOUT=8;rh.HTTP_ERROR=6;RT.COMPLETE="complete";NT.EventType=yl;yl.OPEN="a";yl.CLOSE="b";yl.ERROR="c";yl.MESSAGE="d";Lt.prototype.listen=Lt.prototype.N;xt.prototype.listenOnce=xt.prototype.O;xt.prototype.getLastError=xt.prototype.La;xt.prototype.getLastErrorCode=xt.prototype.Da;xt.prototype.getStatus=xt.prototype.ba;xt.prototype.getResponseJson=xt.prototype.Qa;xt.prototype.getResponseText=xt.prototype.ga;xt.prototype.send=xt.prototype.ea;var pL=function(){return new su},gL=function(){return sh()},ud=rh,mL=RT,yL=br,Sv={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vL=wl,sc=NT,bL=xt;const Cv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="9.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Qu("@firebase/firestore");function Iv(){return lr.logLevel}function oe(t,...e){if(lr.logLevel<=ze.DEBUG){const n=e.map(kg);lr.debug(`Firestore (${To}): ${t}`,...n)}}function ps(t,...e){if(lr.logLevel<=ze.ERROR){const n=e.map(kg);lr.error(`Firestore (${To}): ${t}`,...n)}}function Pv(t,...e){if(lr.logLevel<=ze.WARN){const n=e.map(kg);lr.warn(`Firestore (${To}): ${t}`,...n)}}function kg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+t;throw ps(e),new Error(e)}function nt(t,e){t||Ee()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _L{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class xL{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Gs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Gs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt(typeof i.accessToken=="string"),new wL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new cn(e)}}class TL{constructor(e,n,i){this.type="FirstParty",this.user=cn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class kL{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new TL(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SL{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const i=r=>{r.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.p;return this.p=r.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?s(r):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.p=n.token,new EL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=CL(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function We(t,e){return t<e?-1:t>e?1:0}function ro(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new It(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new It(0,0))}static max(){return new Me(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(),i===void 0?i=e.length-n:i>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends Ua{construct(e,n,i){return new ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const IL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Ua{construct(e,n,i){return new Gt(e,n,i)}static isValidIdentifier(e){return IL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new de(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new de(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new de(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(ct.fromString(e))}static fromName(e){return new ue(ct.fromString(e).popFirst(5))}static empty(){return new ue(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new ct(e.slice()))}}function PL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(i===1e9?new It(n+1,0):new It(n,i));return new gs(s,ue.empty(),e)}function OL(t){return new gs(t.readTime,t.key,-1)}class gs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new gs(Me.min(),ue.empty(),-1)}static max(){return new gs(Me.max(),ue.empty(),-1)}}function ML(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==AL)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,i)=>{n(e)})}static reject(e){return new Y((n,i)=>{i(e)})}static waitFor(e){return new Y((n,i)=>{let s=0,r=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(e){let n=Y.resolve(!1);for(const i of e)n=n.next(s=>s?Y.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new Y((i,s)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(e,n){return new Y((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.it(i),this.rt=i=>n.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function g1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eg.ot=-1;class Ot{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i!=null?i:Bt.RED,this.left=s!=null?s:Bt.EMPTY,this.right=r!=null?r:Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Bt(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,s!=null?s:this.left,r!=null?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(t,e,n,i,s){return this}insert(t,e,n){return new Bt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new oi([])}unionWith(e){let n=new Pt(Gt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let r=0;r<i.length;++r)s+=String.fromCharCode(i[r]);return s}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const RL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(t){if(nt(!!t),typeof t=="string"){let e=0;const n=RL.exec(t);if(nt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oo(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function y1(t){const e=t.mapValue.fields.__previous_value__;return m1(e)?y1(e):e}function Va(t){const e=ms(t.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,i,s,r,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ao{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return t==null}function ru(t){return t===0&&1/t==-1/0}function LL(t){return typeof t=="number"&&Number.isInteger(t)&&!ru(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m1(t)?4:FL(t)?9007199254740991:10:Ee()}function fi(t,e){if(t===e)return!0;const n=cr(t);if(n!==cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Va(t).isEqual(Va(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const r=ms(i.timestampValue),o=ms(s.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return oo(i.bytesValue).isEqual(oo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _t(i.geoPointValue.latitude)===_t(s.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _t(i.integerValue)===_t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const r=_t(i.doubleValue),o=_t(s.doubleValue);return r===o?ru(r)===ru(o):isNaN(r)&&isNaN(o)}return!1}(t,e);case 9:return ro(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:return function(i,s){const r=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Ov(r)!==Ov(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!fi(r[a],o[a])))return!1;return!0}(t,e);default:return Ee()}}function za(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function lo(t,e){if(t===e)return 0;const n=cr(t),i=cr(e);if(n!==i)return We(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(s,r){const o=_t(s.integerValue||s.doubleValue),a=_t(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Av(t.timestampValue,e.timestampValue);case 4:return Av(Va(t),Va(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(s,r){const o=oo(s),a=oo(r);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,r){const o=s.split("/"),a=r.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=We(o[l],a[l]);if(c!==0)return c}return We(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,r){const o=We(_t(s.latitude),_t(r.latitude));return o!==0?o:We(_t(s.longitude),_t(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,r){const o=s.values||[],a=r.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=lo(o[l],a[l]);if(c)return c}return We(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,r){if(s===oc.mapValue&&r===oc.mapValue)return 0;if(s===oc.mapValue)return 1;if(r===oc.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=r.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=We(a[u],c[u]);if(h!==0)return h;const d=lo(o[a[u]],l[c[u]]);if(d!==0)return d}return We(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function Av(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ms(t),i=ms(e),s=We(n.seconds,i.seconds);return s!==0?s:We(n.nanos,i.nanos)}function jr(t){return Ff(t)}function Ff(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const s=ms(i);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?oo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ue.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let s="[",r=!0;for(const o of i.values||[])r?r=!1:s+=",",s+=Ff(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(i){const s=Object.keys(i.fields||{}).sort();let r="{",o=!0;for(const a of s)o?o=!1:r+=",",r+=`${a}:${Ff(i.fields[a])}`;return r+"}"}(t.mapValue):Ee();var e,n}function $f(t){return!!t&&"integerValue"in t}function Sg(t){return!!t&&"arrayValue"in t}function Dv(t){return!!t&&"nullValue"in t}function Rv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tc(t){return!!t&&"mapValue"in t}function ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ma(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Tc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ma(n)}setAll(e){let n=Gt.emptyPath(),i={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=ma(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Tc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){ko(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new In(ma(this.value))}}function v1(t){const e=[];return ko(t.fields,(n,i)=>{const s=new Gt([n]);if(Tc(i)){const r=v1(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,i,s,r,o){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.data=r,this.documentState=o}static newInvalidDocument(e){return new Ut(e,0,Me.min(),Me.min(),In.empty(),0)}static newFoundDocument(e,n,i){return new Ut(e,1,n,Me.min(),i,0)}static newNoDocument(e,n){return new Ut(e,2,n,Me.min(),In.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,Me.min(),In.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n=null,i=[],s=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.ut=null}}function Nv(t,e=null,n=[],i=[],s=null,r=null,o=null){return new $L(t,e,n,i,s,r,o)}function Cg(t){const e=Se(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>{return(s=i).field.canonicalString()+s.op.toString()+jr(s.value);var s}).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>jr(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>jr(i)).join(",")),e.ut=n}return e.ut}function BL(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(i=n).field.canonicalString()} ${i.op} ${jr(i.value)}`;var i}).join(", ")}]`),fh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>jr(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>jr(n)).join(",")),`Target(${e})`}function Ig(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!YL(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(n=t.filters[s],i=e.filters[s],n.op!==i.op||!n.field.isEqual(i.field)||!fi(n.value,i.value))return!1;var n,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fv(t.startAt,e.startAt)&&Fv(t.endAt,e.endAt)}function Bf(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class dn extends class{}{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,i):new UL(e,n,i):n==="array-contains"?new jL(e,i):n==="in"?new HL(e,i):n==="not-in"?new WL(e,i):n==="array-contains-any"?new qL(e,i):new dn(e,n,i)}static ct(e,n,i){return n==="in"?new VL(e,i):new zL(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(lo(n,this.value)):n!==null&&cr(this.value)===cr(n)&&this.at(lo(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class UL extends dn{constructor(e,n,i){super(e,n,i),this.key=ue.fromName(i.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.at(n)}}class VL extends dn{constructor(e,n){super(e,"in",n),this.keys=b1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zL extends dn{constructor(e,n){super(e,"not-in",n),this.keys=b1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ue.fromName(i.referenceValue))}class jL extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sg(n)&&za(n.arrayValue,this.value)}}class HL extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&za(this.value.arrayValue,n)}}class WL extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!za(this.value.arrayValue,n)}}class qL extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>za(this.value.arrayValue,i))}}class ou{constructor(e,n){this.position=e,this.inclusive=n}}class Hr{constructor(e,n="asc"){this.field=e,this.dir=n}}function YL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Lv(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(r.field.isKeyField()?i=ue.comparator(ue.fromName(o.referenceValue),n.key):i=lo(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.lt=null,this.ft=null,this.startAt,this.endAt}}function KL(t,e,n,i,s,r,o,a){return new El(t,e,n,i,s,r,o,a)}function Pg(t){return new El(t)}function GL(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w1(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function _1(t){for(const e of t.filters)if(e.ht())return e.field;return null}function XL(t){return t.collectionGroup!==null}function ja(t){const e=Se(t);if(e.lt===null){e.lt=[];const n=_1(e),i=w1(e);if(n!==null&&i===null)n.isKeyField()||e.lt.push(new Hr(n)),e.lt.push(new Hr(Gt.keyField(),"asc"));else{let s=!1;for(const r of e.explicitOrderBy)e.lt.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Hr(Gt.keyField(),r))}}}return e.lt}function ur(t){const e=Se(t);if(!e.ft)if(e.limitType==="F")e.ft=Nv(e.path,e.collectionGroup,ja(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const r of ja(e)){const o=r.dir==="desc"?"asc":"desc";n.push(new Hr(r.field,o))}const i=e.endAt?new ou(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ou(e.startAt.position,e.startAt.inclusive):null;e.ft=Nv(e.path,e.collectionGroup,n,e.filters,e.limit,i,s)}return e.ft}function QL(t,e,n){return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return Ig(ur(t),ur(e))&&t.limitType===e.limitType}function x1(t){return`${Cg(ur(t))}|lt:${t.limitType}`}function Uf(t){return`Query(target=${BL(ur(t))}; limitType=${t.limitType})`}function Og(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ue.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of n.explicitOrderBy)if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,r,o){const a=Lv(s,r,o);return s.inclusive?a<=0:a<0}(n.startAt,ja(n),i)||n.endAt&&!function(s,r,o){const a=Lv(s,r,o);return s.inclusive?a>=0:a>0}(n.endAt,ja(n),i))}(t,e)}function JL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T1(t){return(e,n)=>{let i=!1;for(const s of ja(t)){const r=ZL(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function ZL(t,e,n){const i=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,r,o){const a=r.data.field(s),l=o.data.field(s);return a!==null&&l!==null?lo(a,l):Ee()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ru(e)?"-0":e}}function E1(t){return{integerValue:""+t}}function eF(t,e){return LL(e)?E1(e):k1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function tF(t,e,n){return t instanceof au?function(i,s){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(r.fields.__previous_value__=s),{mapValue:r}}(n,e):t instanceof Ha?C1(t,e):t instanceof Wa?I1(t,e):function(i,s){const r=S1(i,s),o=$v(r)+$v(i._t);return $f(r)&&$f(i._t)?E1(o):k1(i.wt,o)}(t,e)}function nF(t,e,n){return t instanceof Ha?C1(t,e):t instanceof Wa?I1(t,e):n}function S1(t,e){return t instanceof lu?$f(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class au extends gh{}class Ha extends gh{constructor(e){super(),this.elements=e}}function C1(t,e){const n=P1(e);for(const i of t.elements)n.some(s=>fi(s,i))||n.push(i);return{arrayValue:{values:n}}}class Wa extends gh{constructor(e){super(),this.elements=e}}function I1(t,e){let n=P1(e);for(const i of t.elements)n=n.filter(s=>!fi(s,i));return{arrayValue:{values:n}}}class lu extends gh{constructor(e,n){super(),this.wt=e,this._t=n}}function $v(t){return _t(t.integerValue||t.doubleValue)}function P1(t){return Sg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iF(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Ha&&i instanceof Ha||n instanceof Wa&&i instanceof Wa?ro(n.elements,i.elements,fi):n instanceof lu&&i instanceof lu?fi(n._t,i._t):n instanceof au&&i instanceof au}(t.transform,e.transform)}class sF{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mh{}function O1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mg(t.key,ai.none()):new Sl(t.key,t.data,ai.none());{const n=t.data,i=In.empty();let s=new Pt(Gt.comparator);for(let r of e.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new wr(t.key,i,new oi(s.toArray()),ai.none())}}function rF(t,e,n){t instanceof Sl?function(i,s,r){const o=i.value.clone(),a=Uv(i.fieldTransforms,s,r.transformResults);o.setAll(a),s.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(t,e,n):t instanceof wr?function(i,s,r){if(!kc(i.precondition,s))return void s.convertToUnknownDocument(r.version);const o=Uv(i.fieldTransforms,s,r.transformResults),a=s.data;a.setAll(M1(i)),a.setAll(o),s.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,r){s.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function ya(t,e,n,i){return t instanceof Sl?function(s,r,o,a){if(!kc(s.precondition,r))return o;const l=s.value.clone(),c=Vv(s.fieldTransforms,a,r);return l.setAll(c),r.convertToFoundDocument(r.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof wr?function(s,r,o,a){if(!kc(s.precondition,r))return o;const l=Vv(s.fieldTransforms,a,r),c=r.data;return c.setAll(M1(s)),c.setAll(l),r.convertToFoundDocument(r.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(t,e,n,i):function(s,r,o){return kc(s.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(t,e,n)}function oF(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=S1(i.transform,s||null);r!=null&&(n===null&&(n=In.empty()),n.set(i.field,r))}return n||null}function Bv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ro(n,i,(s,r)=>iF(s,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sl extends mh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wr extends mh{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function M1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Uv(t,e,n){const i=new Map;nt(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,nF(o,a,n[s]))}return i}function Vv(t,e,n){const i=new Map;for(const s of t){const r=s.transform,o=n.data.field(s.field);i.set(s.field,tF(r,o,e))}return i}class Mg extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aF extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Le;function cF(t){switch(t){default:return Ee();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function A1(t){if(t===void 0)return ps("GRPC error has no .code"),q.UNKNOWN;switch(t){case bt.OK:return q.OK;case bt.CANCELLED:return q.CANCELLED;case bt.UNKNOWN:return q.UNKNOWN;case bt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case bt.INTERNAL:return q.INTERNAL;case bt.UNAVAILABLE:return q.UNAVAILABLE;case bt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case bt.NOT_FOUND:return q.NOT_FOUND;case bt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case bt.ABORTED:return q.ABORTED;case bt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case bt.DATA_LOSS:return q.DATA_LOSS;default:return Ee()}}(Le=bt||(bt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return g1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=new Ot(ue.comparator);function Oi(){return uF}const D1=new Ot(ue.comparator);function Ko(...t){let e=D1;for(const n of t)e=e.insert(n.key,n);return e}function R1(t){let e=D1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function js(){return va()}function N1(){return va()}function va(){return new Eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const hF=new Ot(ue.comparator),dF=new Pt(ue.comparator);function De(...t){let e=dF;for(const n of t)e=e.add(n);return e}const fF=new Pt(We);function L1(){return fF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n){const i=new Map;return i.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,n)),new yh(Me.min(),i,L1(),Oi(),De())}}class Cl{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Cl(Ht.EMPTY_BYTE_STRING,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,i,s){this.gt=e,this.removedTargetIds=n,this.key=i,this.yt=s}}class F1{constructor(e,n){this.targetId=e,this.It=n}}class $1{constructor(e,n,i=Ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class zv{constructor(){this.Tt=0,this.Et=Hv(),this.At=Ht.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=De(),n=De(),i=De();return this.Et.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ee()}}),new Cl(this.At,this.Rt,e,n,i)}Dt(){this.bt=!1,this.Et=Hv()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class pF{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Oi(),this.Bt=jv(),this.Lt=new Pt(We)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const i=this.Qt(n);switch(e.state){case 0:this.jt(n)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(i.Ot(),i.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),i.Vt(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((i,s)=>{this.jt(s)&&n(s)})}zt(e){const n=e.targetId,i=e.It.count,s=this.Ht(n);if(s){const r=s.target;if(Bf(r))if(i===0){const o=new ue(r.path);this.Kt(n,o,Ut.newNoDocument(o,Me.min()))}else nt(i===1);else this.Jt(n)!==i&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((r,o)=>{const a=this.Ht(o);if(a){if(r.current&&Bf(a.target)){const l=new ue(a.target.path);this.$t.get(l)!==null||this.Xt(o,l)||this.Kt(o,l,Ut.newNoDocument(l,e))}r.vt&&(n.set(o,r.St()),r.Dt())}});let i=De();this.Bt.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ht(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(r))}),this.$t.forEach((r,o)=>o.setReadTime(e));const s=new yh(e,n,this.Lt,this.$t,i);return this.$t=Oi(),this.Bt=jv(),this.Lt=new Pt(We),s}qt(e,n){if(!this.jt(e))return;const i=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,i),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,i){if(!this.jt(e))return;const s=this.Qt(e);this.Xt(e,n)?s.Ct(n,1):s.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),i&&(this.$t=this.$t.insert(n,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new zv,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new Pt(We),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new zv),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function jv(){return new Ot(ue.comparator)}function Hv(){return new Ot(ue.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),mF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class yF{constructor(e,n){this.databaseId=e,this.dt=n}}function cu(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B1(t,e){return t.dt?e.toBase64():e.toUint8Array()}function vF(t,e){return cu(t,e.toTimestamp())}function Ci(t){return nt(!!t),Me.fromTimestamp(function(e){const n=ms(e);return new It(n.seconds,n.nanos)}(t))}function Ag(t,e){return function(n){return new ct(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function U1(t){const e=ct.fromString(t);return nt(j1(e)),e}function Vf(t,e){return Ag(t.databaseId,e.path)}function hd(t,e){const n=U1(e);if(n.get(1)!==t.databaseId.projectId)throw new de(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(V1(n))}function zf(t,e){return Ag(t.databaseId,e)}function bF(t){const e=U1(t);return e.length===4?ct.emptyPath():V1(e)}function jf(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V1(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wv(t,e,n){return{name:Vf(t,e),fields:n.value.mapValue.fields}}function wF(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(l,c){return l.dt?(nt(c===void 0||typeof c=="string"),Ht.fromBase64String(c||"")):(nt(c===void 0||c instanceof Uint8Array),Ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?q.UNKNOWN:A1(l.code);return new de(c,l.message||"")}(o);n=new $1(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=hd(t,i.document.name),r=Ci(i.document.updateTime),o=new In({mapValue:{fields:i.document.fields}}),a=Ut.newFoundDocument(s,r,o),l=i.targetIds||[],c=i.removedTargetIds||[];n=new Ec(l,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=hd(t,i.document),r=i.readTime?Ci(i.readTime):Me.min(),o=Ut.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Ec([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=hd(t,i.document),r=i.removedTargetIds||[];n=new Ec([],r,s,null)}else{if(!("filter"in e))return Ee();{e.filter;const i=e.filter;i.targetId;const s=i.count||0,r=new lF(s),o=i.targetId;n=new F1(o,r)}}return n}function _F(t,e){let n;if(e instanceof Sl)n={update:Wv(t,e.key,e.value)};else if(e instanceof Mg)n={delete:Vf(t,e.key)};else if(e instanceof wr)n={update:Wv(t,e.key,e.data),updateMask:MF(e.fieldMask)};else{if(!(e instanceof aF))return Ee();n={verify:Vf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,r){const o=r.transform;if(o instanceof au)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ha)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wa)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof lu)return{fieldPath:r.field.canonicalString(),increment:o._t};throw Ee()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(t,e.precondition)),n}function xF(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(i,s){let r=i.updateTime?Ci(i.updateTime):Ci(s);return r.isEqual(Me.min())&&(r=Ci(s)),new sF(r,i.transformResults||[])}(n,e))):[]}function TF(t,e){return{documents:[zf(t,e.path)]}}function kF(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=zf(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zf(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length===0)return;const c=l.map(u=>function(h){if(h.op==="=="){if(Rv(h.value))return{unaryFilter:{field:Sr(h.field),op:"IS_NAN"}};if(Dv(h.value))return{unaryFilter:{field:Sr(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Rv(h.value))return{unaryFilter:{field:Sr(h.field),op:"IS_NOT_NAN"}};if(Dv(h.value))return{unaryFilter:{field:Sr(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(h.field),op:IF(h.op),value:h.value}}}(u));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Sr(u.field),direction:CF(u.dir)}}(c))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=function(l,c){return l.dt||fh(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function EF(t){let e=bF(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){nt(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let r=[];n.where&&(r=z1(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Hr(Fr(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,fh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,d=u.values||[];return new ou(d,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,d=u.values||[];return new ou(d,h)}(n.endAt)),KL(e,s,o,r,a,"F",l,c)}function SF(t,e){const n=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ee()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function z1(t){return t?t.unaryFilter!==void 0?[OF(t)]:t.fieldFilter!==void 0?[PF(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>z1(e)).reduce((e,n)=>e.concat(n)):Ee():[]}function CF(t){return gF[t]}function IF(t){return mF[t]}function Sr(t){return{fieldPath:t.canonicalString()}}function Fr(t){return Gt.fromServerFormat(t.fieldPath)}function PF(t){return dn.create(Fr(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}function OF(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Fr(t.unaryFilter.field);return dn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Fr(t.unaryFilter.field);return dn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fr(t.unaryFilter.field);return dn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fr(t.unaryFilter.field);return dn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}function MF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&rF(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ya(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ya(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=N1();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=O1(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(n,i)=>Bv(n,i))&&ro(this.baseMutations,e.baseMutations,(n,i)=>Bv(n,i))}}class Dg{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){nt(e.mutations.length===i.length);let s=hF;const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Dg(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,i,s,r=Me.min(),o=Me.min(),a=Ht.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.ne=e}}function NF(t){const e=EF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?QL(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.ze=new FF}addToCollectionParentIndex(e,n){return this.ze.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(gs.min())}updateCollectionGroup(e,n,i){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class FF{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Pt(ct.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Pt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new co(0)}static Rn(){return new co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.changes=new Eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Y.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.getBaseDocument(e,n,i))).next(s=>(i!==null&&ya(i.mutation,s,oi.empty(),It.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,De()).next(()=>i))}getLocalViewOfDocuments(e,n,i=De()){const s=js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let o=Ko();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,De()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,s){let r=Oi();const o=va(),a=va();return n.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof wr)?r=r.insert(c.key,c):u!==void 0&&(o.set(c.key,u.mutation.getFieldMask()),ya(u.mutation,c,u.mutation.getFieldMask(),It.now()))}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new BF(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=va();let s=new Ot((o,a)=>o-a),r=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||oi.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(s.get(a.batchId)||De()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=N1();u.forEach(d=>{if(!r.has(d)){const f=O1(n.get(d),i.get(d));f!==null&&h.set(d,f),r=r.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Y.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):Y.resolve(js());let a=-1,l=r;return o.next(c=>Y.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?Y.resolve():this.getBaseDocument(e,u,h).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,l,c,De())).next(u=>({batchId:a,changes:R1(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(i=>{let s=Ko();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const s=n.collectionGroup;let r=Ko();return this.indexManager.getCollectionParents(e,s).next(o=>Y.forEach(o,a=>{const l=function(c,u){return new El(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,h)=>{r=r.insert(u,h)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,i){let s;return this.remoteDocumentCache.getAllFromCollection(e,n.path,i).next(r=>(s=r,this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId))).next(r=>{r.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Ut.newInvalidDocument(c)))});let o=Ko();return s.forEach((a,l)=>{const c=r.get(a);c!==void 0&&ya(c.mutation,l,oi.empty(),It.now()),Og(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,i){return i===null||i.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):Y.resolve(Ut.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return Y.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var i;return this.Jn.set(n.id,{id:(i=n).id,version:i.version,createTime:Ci(i.createTime)}),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(i){return{name:i.name,query:NF(i.bundledQuery),readTime:Ci(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.overlays=new Ot(ue.comparator),this.Xn=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const i=js();return Y.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.ie(e,n,r)}),Y.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Xn.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Xn.delete(i)),Y.resolve()}getOverlaysForCollection(e,n,i){const s=js(),r=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Ot((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=js(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=js(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Y.resolve(a)}ie(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.Xn.get(s.largestBatchId).delete(i.key);this.Xn.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new DF(n,i));let r=this.Xn.get(n);r===void 0&&(r=De(),this.Xn.set(n,r)),this.Xn.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Zn=new Pt(Rt.ts),this.es=new Pt(Rt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const i=new Rt(e,n);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.rs(new Rt(e,n))}os(e,n){e.forEach(i=>this.removeReference(i,n))}us(e){const n=new ue(new ct([])),i=new Rt(n,e),s=new Rt(n,e+1),r=[];return this.es.forEachInRange([i,s],o=>{this.rs(o),r.push(o.key)}),r}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new ue(new ct([])),i=new Rt(n,e),s=new Rt(n,e+1);let r=De();return this.es.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new Rt(e,0),i=this.Zn.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return ue.comparator(e.key,n.key)||We(e.ls,n.ls)}static ns(e,n){return We(e.ls,n.ls)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Pt(Rt.ts)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AF(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.ds=this.ds.add(new Rt(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,n){return Y.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ws(i),r=s<0?0:s;return Y.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),r=[];return this.ds.forEachInRange([i,s],o=>{const a=this._s(o.ls);r.push(a)}),Y.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Pt(We);return n.forEach(s=>{const r=new Rt(s,0),o=new Rt(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([r,o],a=>{i=i.add(a.ls)})}),Y.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;ue.isDocumentKey(r)||(r=r.child(""));const o=new Rt(new ue(r),0);let a=new Pt(We);return this.ds.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.ls)),!0)},o),Y.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(i=>{const s=this._s(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){nt(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.ds;return Y.forEach(n.mutations,s=>{const r=new Rt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,n){const i=new Rt(n,0),s=this.ds.firstAfterOrEqual(i);return Y.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.ps=e,this.docs=new Ot(ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.ps(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Y.resolve(i?i.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let i=Oi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ut.newInvalidDocument(s))}),Y.resolve(i)}getAllFromCollection(e,n,i){let s=Oi();const r=new ue(n.child("")),o=this.docs.getIteratorFrom(r);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||ML(OL(l),i)<=0||(s=s.insert(l.key,l.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,n,i,s){Ee()}Is(e,n){return Y.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new WF(this)}getSize(e){return Y.resolve(this.size)}}class WF extends $F{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.zn.addEntry(e,s)):this.zn.removeEntry(i)}),Y.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.persistence=e,this.Ts=new Eo(n=>Cg(n),Ig),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Es=0,this.As=new Rg,this.targetCount=0,this.Rs=co.An()}forEachTarget(e,n){return this.Ts.forEach((i,s)=>n(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Es&&(this.Es=n),Y.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new co(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.vn(n),Y.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Ts.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Y.waitFor(r).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const i=this.Ts.get(n)||null;return Y.resolve(i)}addMatchingKeys(e,n,i){return this.As.ss(n,i),Y.resolve()}removeMatchingKeys(e,n,i){this.As.os(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),Y.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const i=this.As.hs(n);return Y.resolve(i)}containsKey(e,n){return Y.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n){this.bs={},this.overlays={},this.Ps=new Eg(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new qF(this),this.indexManager=new LF,this.remoteDocumentCache=function(i){return new HF(i)}(i=>this.referenceDelegate.Ss(i)),this.wt=new RF(n),this.Ds=new VF(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.bs[e.toKey()];return i||(i=new jF(n,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,i){oe("MemoryPersistence","Starting transaction:",e);const s=new KF(this.Ps.next());return this.referenceDelegate.Cs(),i(s).next(r=>this.referenceDelegate.xs(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ns(e,n){return Y.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,n)))}}class KF extends DL{constructor(e){super(),this.currentSequenceNumber=e}}class Ng{constructor(e){this.persistence=e,this.ks=new Rg,this.Os=null}static Ms(e){return new Ng(e)}get Fs(){if(this.Os)return this.Os;throw Ee()}addReference(e,n,i){return this.ks.addReference(i,n),this.Fs.delete(i.toString()),Y.resolve()}removeReference(e,n,i){return this.ks.removeReference(i,n),this.Fs.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),Y.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(s=>this.Fs.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Fs.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Fs,i=>{const s=ue.fromPath(i);return this.$s(e,s).next(r=>{r||n.removeEntry(s,Me.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(i=>{i?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return Y.or([()=>Y.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Pi=i,this.vi=s}static Vi(e,n){let i=De(),s=De();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Lg(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,i,s){return this.Ci(e,n).next(r=>r||this.xi(e,n,s,i)).next(r=>r||this.Ni(e,n))}Ci(e,n){return Y.resolve(null)}xi(e,n,i,s){return GL(n)||s.isEqual(Me.min())?this.Ni(e,n):this.Di.getDocuments(e,i).next(r=>{const o=this.ki(n,r);return this.Oi(n,o,i,s)?this.Ni(e,n):(Iv()<=ze.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Uf(n)),this.Mi(e,o,n,PL(s,-1)))})}ki(e,n){let i=new Pt(T1(e));return n.forEach((s,r)=>{Og(e,r)&&(i=i.add(r))}),i}Oi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ni(e,n){return Iv()<=ze.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Uf(n)),this.Di.getDocumentsMatchingQuery(e,n,gs.min())}Mi(e,n,i,s){return this.Di.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n,i,s){this.persistence=e,this.Fi=n,this.wt=s,this.$i=new Ot(We),this.Bi=new Eo(r=>Cg(r),Ig),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UF(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function QF(t,e,n,i){return new XF(t,e,n,i)}async function H1(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.qi(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=De();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({Ki:c,removedBatchIds:o,addedBatchIds:a}))})})}function JF(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let d=Y.resolve();return h.forEach(f=>{d=d.next(()=>c.getEntry(a,f)).next(p=>{const y=l.docVersions.get(f);nt(y!==null),p.version.compareTo(y)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=De();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function W1(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function ZF(t,e){const n=Se(t),i=e.snapshotVersion;let s=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});s=n.$i;const a=[];e.targetChanges.forEach((u,h)=>{const d=s.get(h);if(!d)return;a.push(n.Vs.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(r,u.addedDocuments,h)));let f=d.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(Ht.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),s=s.insert(h,f),function(p,y,b){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,f,u)&&a.push(n.Vs.updateTargetData(r,f))});let l=Oi(),c=De();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(e$(r,o,e.documentUpdates).next(u=>{l=u.Gi,c=u.Qi})),!i.isEqual(Me.min())){const u=n.Vs.getLastRemoteSnapshotVersion(r).next(h=>n.Vs.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return Y.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.$i=s,r))}function e$(t,e,n){let i=De(),s=De();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let o=Oi();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Gi:o,Qi:s}})}function t$(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function n$(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Vs.getTargetData(i,e).next(r=>r?(s=r,Y.resolve(s)):n.Vs.allocateTargetId(i).next(o=>(s=new Xs(e,o,0,i.currentSequenceNumber),n.Vs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.$i.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.$i=n.$i.insert(i.targetId,i),n.Bi.set(e,i.targetId)),i})}async function Hf(t,e,n){const i=Se(t),s=i.$i.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!kl(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.$i=i.$i.remove(e),i.Bi.delete(s.target)}function qv(t,e,n){const i=Se(t);let s=Me.min(),r=De();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Se(a),h=u.Bi.get(c);return h!==void 0?Y.resolve(u.$i.get(h)):u.Vs.getTargetData(l,c)}(i,o,ur(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Fi.getDocumentsMatchingQuery(o,e,n?s:Me.min(),n?r:De())).next(a=>(i$(i,JL(e),a),{documents:a,ji:r})))}function i$(t,e,n){let i=Me.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Li.set(e,i)}class Yv{constructor(){this.activeTargetIds=L1()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s${constructor(){this.Fr=new Yv,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,i){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Yv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,i,s,r){const o=this.oo(e,n);oe("RestConnection","Sending: ",o,i);const a={};return this.uo(a,s,r),this.co(e,o,a,i).then(l=>(oe("RestConnection","Received: ",l),l),l=>{throw Pv("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",i),l})}ao(e,n,i,s,r,o){return this.ro(e,n,i,s,r)}uo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+To,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}oo(e,n){const i=o$[e];return`${this.so}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,i,s){return new Promise((r,o)=>{const a=new bL;a.listenOnce(mL.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case ud.NO_ERROR:const c=a.getResponseJson();oe("Connection","XHR received:",JSON.stringify(c)),r(c);break;case ud.TIMEOUT:oe("Connection",'RPC "'+e+'" timed out'),o(new de(q.DEADLINE_EXCEEDED,"Request time out"));break;case ud.HTTP_ERROR:const u=a.getStatus();if(oe("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(p)>=0?p:q.UNKNOWN}(h.status);o(new de(d,h.message))}else o(new de(q.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new de(q.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{oe("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(s);a.send(n,"POST",l,i,15)})}ho(e,n,i){const s=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=pL(),o=gL(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new vL({})),this.uo(a.initMessageHeaders,n,i),Dx()||Rx()||AA()||Nx()||DA()||Yp()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=s.join("");oe("Connection","Creating WebChannel: "+l,a);const c=r.createWebChannel(l,a);let u=!1,h=!1;const d=new a$({jr:p=>{h?oe("Connection","Not sending because WebChannel is closed:",p):(u||(oe("Connection","Opening WebChannel transport."),c.open(),u=!0),oe("Connection","WebChannel sending:",p),c.send(p))},Wr:()=>c.close()}),f=(p,y,b)=>{p.listen(y,m=>{try{b(m)}catch(v){setTimeout(()=>{throw v},0)}})};return f(c,sc.EventType.OPEN,()=>{h||oe("Connection","WebChannel transport opened.")}),f(c,sc.EventType.CLOSE,()=>{h||(h=!0,oe("Connection","WebChannel transport closed"),d.eo())}),f(c,sc.EventType.ERROR,p=>{h||(h=!0,Pv("Connection","WebChannel transport errored:",p),d.eo(new de(q.UNAVAILABLE,"The operation could not be completed")))}),f(c,sc.EventType.MESSAGE,p=>{var y;if(!h){const b=p.data[0];nt(!!b);const m=b,v=m.error||((y=m[0])===null||y===void 0?void 0:y.error);if(v){oe("Connection","WebChannel received error:",v);const _=v.status;let k=function(S){const M=bt[S];if(M!==void 0)return A1(M)}(_),x=v.message;k===void 0&&(k=q.INTERNAL,x="Unknown error status: "+_+" with message "+v.message),h=!0,d.eo(new de(k,x)),c.close()}else oe("Connection","WebChannel received:",b),d.no(b)}}),f(o,yL.STAT_EVENT,p=>{p.stat===Sv.PROXY?oe("Connection","Detected buffering proxy"):p.stat===Sv.NOPROXY&&oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.Zr()},0),d}}function dd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){return new yF(t,!0)}class q1{constructor(e,n,i=1e3,s=1.5,r=6e4){this.js=e,this.timerId=n,this.lo=i,this.fo=s,this._o=r,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),s=Math.max(0,n-i);s>0&&oe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,i,s,r,o,a,l){this.js=e,this.Ao=i,this.Ro=s,this.bo=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new q1(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Po===n&&this.Uo(i,s)},i=>{e(()=>{const s=new de(q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(s)})})}Uo(e,n){const i=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{i(()=>this.qo(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c$ extends Y1{constructor(e,n,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.wt=r}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=wF(this.wt,e),i=function(s){if(!("targetChange"in s))return Me.min();const r=s.targetChange;return r.targetIds&&r.targetIds.length?Me.min():r.readTime?Ci(r.readTime):Me.min()}(e);return this.listener.Go(n,i)}Qo(e){const n={};n.database=jf(this.wt),n.addTarget=function(s,r){let o;const a=r.target;return o=Bf(a)?{documents:TF(s,a)}:{query:kF(s,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0?o.resumeToken=B1(s,r.resumeToken):r.snapshotVersion.compareTo(Me.min())>0&&(o.readTime=cu(s,r.snapshotVersion.toTimestamp())),o}(this.wt,e);const i=SF(this.wt,e);i&&(n.labels=i),this.Mo(n)}jo(e){const n={};n.database=jf(this.wt),n.removeTarget=e,this.Mo(n)}}class u$ extends Y1{constructor(e,n,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.wt=r,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=xF(e.writeResults,e.commitTime),i=Ci(e.commitTime);return this.listener.Jo(i,n)}return nt(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=jf(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>_F(this.wt,i))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h$ extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=i,this.wt=s,this.Zo=!1}tu(){if(this.Zo)throw new de(q.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.bo.ro(e,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(q.UNKNOWN,s.toString())})}ao(e,n,i,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ao(e,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new de(q.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class d${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ps(n),this.su=!1):oe("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=r,this.du.Br(o=>{i.enqueueAndForget(async()=>{_r(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Se(a);l.lu.add(4),await Il(l),l._u.set("Unknown"),l.lu.delete(4),await bh(l)}(this))})}),this._u=new d$(i,s)}}async function bh(t){if(_r(t))for(const e of t.fu)await e(!0)}async function Il(t){for(const e of t.fu)await e(!1)}function K1(t,e){const n=Se(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),Bg(n)?$g(n):So(n).Co()&&Fg(n,e))}function G1(t,e){const n=Se(t),i=So(n);n.hu.delete(e),i.Co()&&X1(n,e),n.hu.size===0&&(i.Co()?i.ko():_r(n)&&n._u.set("Unknown"))}function Fg(t,e){t.wu.Nt(e.targetId),So(t).Qo(e)}function X1(t,e){t.wu.Nt(e),So(t).jo(e)}function $g(t){t.wu=new pF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),So(t).start(),t._u.iu()}function Bg(t){return _r(t)&&!So(t).Do()&&t.hu.size>0}function _r(t){return Se(t).lu.size===0}function Q1(t){t.wu=void 0}async function p$(t){t.hu.forEach((e,n)=>{Fg(t,e)})}async function g$(t,e){Q1(t),Bg(t)?(t._u.uu(e),$g(t)):t._u.set("Unknown")}async function m$(t,e,n){if(t._u.set("Online"),e instanceof $1&&e.state===2&&e.cause)try{await async function(i,s){const r=s.cause;for(const o of s.targetIds)i.hu.has(o)&&(await i.remoteSyncer.rejectListen(o,r),i.hu.delete(o),i.wu.removeTarget(o))}(t,e)}catch(i){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await uu(t,i)}else if(e instanceof Ec?t.wu.Ut(e):e instanceof F1?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(Me.min()))try{const i=await W1(t.localStore);n.compareTo(i)>=0&&await function(s,r){const o=s.wu.Yt(r);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.hu.get(l);c&&s.hu.set(l,c.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach(a=>{const l=s.hu.get(a);if(!l)return;s.hu.set(a,l.withResumeToken(Ht.EMPTY_BYTE_STRING,l.snapshotVersion)),X1(s,a);const c=new Xs(l.target,a,1,l.sequenceNumber);Fg(s,c)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){oe("RemoteStore","Failed to raise snapshot:",i),await uu(t,i)}}async function uu(t,e,n){if(!kl(e))throw e;t.lu.add(1),await Il(t),t._u.set("Offline"),n||(n=()=>W1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await bh(t)})}function J1(t,e){return e().catch(n=>uu(t,n,e))}async function wh(t){const e=Se(t),n=ys(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;y$(e);)try{const s=await t$(e.localStore,i);if(s===null){e.au.length===0&&n.ko();break}i=s.batchId,v$(e,s)}catch(s){await uu(e,s)}Z1(e)&&ek(e)}function y$(t){return _r(t)&&t.au.length<10}function v$(t,e){t.au.push(e);const n=ys(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function Z1(t){return _r(t)&&!ys(t).Do()&&t.au.length>0}function ek(t){ys(t).start()}async function b$(t){ys(t).Xo()}async function w$(t){const e=ys(t);for(const n of t.au)e.Ho(n.mutations)}async function _$(t,e,n){const i=t.au.shift(),s=Dg.from(i,e,n);await J1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await wh(t)}async function x$(t,e){e&&ys(t).zo&&await async function(n,i){if(s=i.code,cF(s)&&s!==q.ABORTED){const r=n.au.shift();ys(n).No(),await J1(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,i)),await wh(n)}var s}(t,e),Z1(t)&&ek(t)}async function Gv(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const i=_r(n);n.lu.add(3),await Il(n),i&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await bh(n)}async function T$(t,e){const n=Se(t);e?(n.lu.delete(2),await bh(n)):e||(n.lu.add(2),await Il(n),n._u.set("Unknown"))}function So(t){return t.mu||(t.mu=function(e,n,i){const s=Se(e);return s.tu(),new c$(n,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,i)}(t.datastore,t.asyncQueue,{zr:p$.bind(null,t),Jr:g$.bind(null,t),Go:m$.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),Bg(t)?$g(t):t._u.set("Unknown")):(await t.mu.stop(),Q1(t))})),t.mu}function ys(t){return t.gu||(t.gu=function(e,n,i){const s=Se(e);return s.tu(),new u$(n,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,i)}(t.datastore,t.asyncQueue,{zr:b$.bind(null,t),Jr:x$.bind(null,t),Yo:w$.bind(null,t),Jo:_$.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await wh(t)):(await t.gu.stop(),t.au.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,s,r){const o=Date.now()+i,a=new Ug(e,n,o,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(t,e){if(ps("AsyncQueue",`${e}: ${t}`),kl(t))return new de(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ue.comparator(n.key,i.key):(n,i)=>ue.comparator(n.key,i.key),this.keyedMap=Ko(),this.sortedSet=new Ot(this.comparator)}static emptySet(e){return new Wr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Wr;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.yu=new Ot(ue.comparator)}track(e){const n=e.doc.key,i=this.yu.get(n);i?e.type!==0&&i.type===3?this.yu=this.yu.insert(n,e):e.type===3&&i.type!==1?this.yu=this.yu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.yu=this.yu.remove(n):e.type===1&&i.type===2?this.yu=this.yu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):Ee():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,i)=>{e.push(i)}),e}}class uo{constructor(e,n,i,s,r,o,a,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,i,s){const r=[];return n.forEach(o=>{r.push({type:0,doc:o})}),new uo(e,n,Wr.emptySet(n),r,i,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.Iu=void 0,this.listeners=[]}}class E${constructor(){this.queries=new Eo(e=>x1(e),ph),this.onlineState="Unknown",this.Tu=new Set}}async function S$(t,e){const n=Se(t),i=e.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new k$),s)try{r.Iu=await n.onListen(i)}catch(o){const a=Vg(o,`Initialization of query '${Uf(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,r),r.listeners.push(e),e.Eu(n.onlineState),r.Iu&&e.Au(r.Iu)&&zg(n)}async function C$(t,e){const n=Se(t),i=e.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function I$(t,e){const n=Se(t);let i=!1;for(const s of e){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.Au(s)&&(i=!0);o.Iu=s}}i&&zg(n)}function P$(t,e,n){const i=Se(t),s=i.queries.get(e);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(e)}function zg(t){t.Tu.forEach(e=>{e.next()})}class O${constructor(e,n,i){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new uo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Du||!i)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.key=e}}class nk{constructor(e){this.key=e}}class M${constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=De(),this.mutatedKeys=De(),this.Lu=T1(e),this.Uu=new Wr(this.Lu)}get qu(){return this.Fu}Ku(e,n){const i=n?n.Gu:new Xv,s=n?n.Uu:this.Uu;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const d=s.get(u),f=Og(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;d&&f?d.data.isEqual(f.data)?p!==y&&(i.track({type:3,doc:f}),b=!0):this.Qu(d,f)||(i.track({type:2,doc:f}),b=!0,(l&&this.Lu(f,l)>0||c&&this.Lu(f,c)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),b=!0):d&&!f&&(i.track({type:1,doc:d}),b=!0,(l||c)&&(a=!0)),b&&(f?(o=o.add(f),r=y?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{Uu:o,Gu:i,Oi:a,mutatedKeys:r}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const r=e.Gu.pu();r.sort((c,u)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return f(h)-f(d)}(c.type,u.type)||this.Lu(c.doc,u.doc)),this.ju(i);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,l=a!==this.$u;return this.$u=a,r.length!==0||l?{snapshot:new uo(this.query,e.Uu,s,r,e.mutatedKeys,a===0,l,!1),zu:o}:{zu:o}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Xv,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=De(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const n=[];return e.forEach(i=>{this.Bu.has(i)||n.push(new nk(i))}),this.Bu.forEach(i=>{e.has(i)||n.push(new tk(i))}),n}Ju(e){this.Fu=e.ji,this.Bu=De();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return uo.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class A${constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class D${constructor(e){this.key=e,this.Xu=!1}}class R${constructor(e,n,i,s,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Eo(a=>x1(a),ph),this.ec=new Map,this.nc=new Set,this.sc=new Ot(ue.comparator),this.ic=new Map,this.rc=new Rg,this.oc={},this.uc=new Map,this.cc=co.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function N$(t,e){const n=W$(t);let i,s;const r=n.tc.get(e);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.Yu();else{const o=await n$(n.localStore,ur(e));n.isPrimaryClient&&K1(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await L$(n,e,i,a==="current")}return s}async function L$(t,e,n,i){t.hc=(u,h,d)=>async function(f,p,y,b){let m=p.view.Ku(y);m.Oi&&(m=await qv(f.localStore,p.query,!1).then(({documents:k})=>p.view.Ku(k,m)));const v=b&&b.targetChanges.get(p.targetId),_=p.view.applyChanges(m,f.isPrimaryClient,v);return Jv(f,p.targetId,_.zu),_.snapshot}(t,u,h,d);const s=await qv(t.localStore,e,!0),r=new M$(e,s.ji),o=r.Ku(s.documents),a=Cl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),l=r.applyChanges(o,t.isPrimaryClient,a);Jv(t,n,l.zu);const c=new A$(e,n,r);return t.tc.set(e,c),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),l.snapshot}async function F$(t,e){const n=Se(t),i=n.tc.get(e),s=n.ec.get(i.targetId);if(s.length>1)return n.ec.set(i.targetId,s.filter(r=>!ph(r,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Hf(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),G1(n.remoteStore,i.targetId),Wf(n,i.targetId)}).catch(Tl)):(Wf(n,i.targetId),await Hf(n.localStore,i.targetId,!0))}async function $$(t,e,n){const i=q$(t);try{const s=await function(r,o){const a=Se(r),l=It.now(),c=o.reduce((d,f)=>d.add(f.key),De());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=Oi(),p=De();return a.Ui.getEntries(d,c).next(y=>{f=y,f.forEach((b,m)=>{m.isValidDocument()||(p=p.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(y=>{u=y;const b=[];for(const m of o){const v=oF(m,u.get(m.key).overlayedDocument);v!=null&&b.push(new wr(m.key,v,v1(v.value.mapValue),ai.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,b,o)}).next(y=>{h=y;const b=y.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(d,y.batchId,b)})}).then(()=>({batchId:h.batchId,changes:R1(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(r,o,a){let l=r.oc[r.currentUser.toKey()];l||(l=new Ot(We)),l=l.insert(o,a),r.oc[r.currentUser.toKey()]=l}(i,s.batchId,n),await Pl(i,s.changes),await wh(i.remoteStore)}catch(s){const r=Vg(s,"Failed to persist write");n.reject(r)}}async function ik(t,e){const n=Se(t);try{const i=await ZF(n.localStore,e);e.targetChanges.forEach((s,r)=>{const o=n.ic.get(r);o&&(nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Xu=!0:s.modifiedDocuments.size>0?nt(o.Xu):s.removedDocuments.size>0&&(nt(o.Xu),o.Xu=!1))}),await Pl(n,i,e)}catch(i){await Tl(i)}}function Qv(t,e,n){const i=Se(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.tc.forEach((r,o)=>{const a=o.view.Eu(e);a.snapshot&&s.push(a.snapshot)}),function(r,o){const a=Se(r);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Eu(o)&&(l=!0)}),l&&zg(a)}(i.eventManager,e),s.length&&i.Zu.Go(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function B$(t,e,n){const i=Se(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ic.get(e),r=s&&s.key;if(r){let o=new Ot(ue.comparator);o=o.insert(r,Ut.newNoDocument(r,Me.min()));const a=De().add(r),l=new yh(Me.min(),new Map,new Pt(We),o,a);await ik(i,l),i.sc=i.sc.remove(r),i.ic.delete(e),jg(i)}else await Hf(i.localStore,e,!1).then(()=>Wf(i,e,n)).catch(Tl)}async function U$(t,e){const n=Se(t),i=e.batch.batchId;try{const s=await JF(n.localStore,e);rk(n,i,null),sk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pl(n,s)}catch(s){await Tl(s)}}async function V$(t,e,n){const i=Se(t);try{const s=await function(r,o){const a=Se(r);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(nt(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);rk(i,e,n),sk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pl(i,s)}catch(s){await Tl(s)}}function sk(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function rk(t,e,n){const i=Se(t);let s=i.oc[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.oc[i.currentUser.toKey()]=s}}function Wf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.ec.get(e))t.tc.delete(i),n&&t.Zu.lc(i,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(i=>{t.rc.containsKey(i)||ok(t,i)})}function ok(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(G1(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),jg(t))}function Jv(t,e,n){for(const i of n)i instanceof tk?(t.rc.addReference(i.key,e),z$(t,i)):i instanceof nk?(oe("SyncEngine","Document no longer in limbo: "+i.key),t.rc.removeReference(i.key,e),t.rc.containsKey(i.key)||ok(t,i.key)):Ee()}function z$(t,e){const n=e.key,i=n.path.canonicalString();t.sc.get(n)||t.nc.has(i)||(oe("SyncEngine","New document in limbo: "+n),t.nc.add(i),jg(t))}function jg(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new ue(ct.fromString(e)),i=t.cc.next();t.ic.set(i,new D$(n)),t.sc=t.sc.insert(n,i),K1(t.remoteStore,new Xs(ur(Pg(n.path)),i,2,Eg.ot))}}async function Pl(t,e,n){const i=Se(t),s=[],r=[],o=[];i.tc.isEmpty()||(i.tc.forEach((a,l)=>{o.push(i.hc(l,e,n).then(c=>{if(c){i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),s.push(c);const u=Lg.Vi(l.targetId,c);r.push(u)}}))}),await Promise.all(o),i.Zu.Go(s),await async function(a,l){const c=Se(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>Y.forEach(l,h=>Y.forEach(h.Pi,d=>c.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>Y.forEach(h.vi,d=>c.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!kl(u))throw u;oe("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const d=c.$i.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);c.$i=c.$i.insert(h,p)}}}(i.localStore,r))}async function j$(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const i=await H1(n.localStore,e);n.currentUser=e,function(s,r){s.uc.forEach(o=>{o.forEach(a=>{a.reject(new de(q.CANCELLED,r))})}),s.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pl(n,i.Ki)}}function H$(t,e){const n=Se(t),i=n.ic.get(e);if(i&&i.Xu)return De().add(i.key);{let s=De();const r=n.ec.get(e);if(!r)return s;for(const o of r){const a=n.tc.get(o);s=s.unionWith(a.view.qu)}return s}}function W$(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B$.bind(null,e),e.Zu.Go=I$.bind(null,e.eventManager),e.Zu.lc=P$.bind(null,e.eventManager),e}function q$(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V$.bind(null,e),e}class Y${constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=vh(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return QF(this.persistence,new GF,e.initialUser,this.wt)}_c(e){return new YF(Ng.Ms,this.wt)}dc(e){return new s$}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class K${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Qv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=j$.bind(null,this.syncEngine),await T$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new E$}createDatastore(e){const n=vh(e.databaseInfo.databaseId),i=(s=e.databaseInfo,new l$(s));var s;return function(r,o,a,l){return new h$(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,s=e.asyncQueue,r=a=>Qv(this.syncEngine,a,0),o=Kv.V()?new Kv:new r$,new f$(n,i,s,r,o);var n,i,s,r,o}createSyncEngine(e,n){return function(i,s,r,o,a,l,c){const u=new R$(i,s,r,o,a,l);return c&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Se(e);oe("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await Il(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=cn.UNAUTHENTICATED,this.clientId=p1.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{oe("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(oe("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Vg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Q$(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await H1(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function J$(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z$(t);oe("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>Gv(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Gv(e.remoteStore,r)),t.onlineComponents=e}async function Z$(t){return t.offlineComponents||(oe("FirestoreClient","Using default OfflineComponentProvider"),await Q$(t,new Y$)),t.offlineComponents}async function ak(t){return t.onlineComponents||(oe("FirestoreClient","Using default OnlineComponentProvider"),await J$(t,new K$)),t.onlineComponents}function eB(t){return ak(t).then(e=>e.syncEngine)}async function Zv(t){const e=await ak(t),n=e.eventManager;return n.onListen=N$.bind(null,e.syncEngine),n.onUnlisten=F$.bind(null,e.syncEngine),n}const eb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e,n){if(!n)throw new de(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tB(t,e,n,i){if(e===!0&&i===!0)throw new de(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tb(t){if(!ue.isDocumentKey(t))throw new de(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nb(t){if(ue.isDocumentKey(t))throw new de(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function ba(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(t);throw new de(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new de(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,tB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,i){this._authCredentials=n,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ib({}),this._settingsFrozen=!1,e instanceof ao?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(s.options.projectId)}(e))}get app(){if(!this._app)throw new de(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ib(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _L;switch(n.type){case"gapi":const i=n.client;return nt(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new kL(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new de(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=eb.get(e);n&&(oe("ComponentProvider","Removing Datastore"),eb.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class Ol{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ol(this.firestore,e,this._query)}}class os extends Ol{constructor(e,n,i){super(e,n,Pg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new ue(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function fd(t,e,...n){if(t=Dn(t),lk("collection","path",e),t instanceof Wg){const i=ct.fromString(e,...n);return nb(i),new os(t,null,i)}{if(!(t instanceof An||t instanceof os))throw new de(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ct.fromString(e,...n));return nb(i),new os(t.firestore,null,i)}}function ck(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=p1.I()),lk("doc","path",e),t instanceof Wg){const i=ct.fromString(e,...n);return tb(i),new An(t,null,new ue(i))}{if(!(t instanceof An||t instanceof os))throw new de(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ct.fromString(e,...n));return tb(i),new An(t.firestore,t instanceof os?t.converter:null,new ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new q1(this,"async_queue_retry"),this.Kc=()=>{const n=dd();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=dd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=dd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new Gs;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!kl(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(i=>{this.Bc=i,this.Lc=!1;const s=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(i);throw ps("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Lc=!1,i))));return this.Oc=n,n}enqueueAfterDelay(e,n,i){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const s=Ug.createAndSchedule(this,e,n,i,r=>this.Wc(r));return this.$c.push(s),s}Gc(){this.Bc&&Ee()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function sb(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class qa extends Wg{constructor(e,n,i){super(e,n,i),this.type="firestore",this._queue=new nB,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hk(this),this._firestoreClient.terminate()}}function iB(t=zx()){return dl(t,"firestore").getImmediate()}function uk(t){return t._firestoreClient||hk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hk(t){var e;const n=t._freezeSettings(),i=function(s,r,o,a){return new NL(s,r,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new X$(t._authCredentials,t._appCheckCredentials,t._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(Ht.fromBase64String(e))}catch(n){throw new de(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=/^__.*__$/;class rB{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sl(e,this.data,n,this.fieldTransforms)}}function fk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Kg{constructor(e,n,i,s,r,o){this.settings=e,this.databaseId=n,this.wt=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Xc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ta({path:i,na:!1});return s.sa(e),s}ia(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ta({path:i,na:!1});return s.Xc(),s}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return hu(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(fk(this.Zc)&&sB.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class oB{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=i||vh(e)}aa(e,n,i,s=!1){return new Kg({Zc:e,methodName:n,ca:i,path:Gt.emptyPath(),na:!1,ua:s},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function aB(t){const e=t._freezeSettings(),n=vh(t._databaseId);return new oB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lB(t,e,n,i,s,r={}){const o=t.aa(r.merge||r.mergeFields?2:0,e,n,s);yk("Data must be an object, but it was:",o,i);const a=gk(i,o);let l,c;if(r.merge)l=new oi(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const d=cB(e,h,n);if(!o.contains(d))throw new de(q.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);hB(u,d)||u.push(d)}l=new oi(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new rB(new In(a),l,c)}function pk(t,e){if(mk(t=Dn(t)))return yk("Unsupported field value:",e,t),gk(t,e);if(t instanceof dk)return function(n,i){if(!fk(i.Zc))throw i.oa(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,i){const s=[];let r=0;for(const o of n){let a=pk(o,i.ra(r));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),r++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Dn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return eF(i.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=It.fromDate(n);return{timestampValue:cu(i.wt,s)}}if(n instanceof It){const s=new It(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cu(i.wt,s)}}if(n instanceof Yg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ho)return{bytesValue:B1(i.wt,n._byteString)};if(n instanceof An){const s=i.databaseId,r=n.firestore._databaseId;if(!r.isEqual(s))throw i.oa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ag(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.oa(`Unsupported field value: ${Hg(n)}`)}(t,e)}function gk(t,e){const n={};return g1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,(i,s)=>{const r=pk(s,e.ea(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function mk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof Yg||t instanceof ho||t instanceof An||t instanceof dk)}function yk(t,e,n){if(!mk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=Hg(n);throw i==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+i)}}function cB(t,e,n){if((e=Dn(e))instanceof qg)return e._internalPath;if(typeof e=="string")return vk(t,e);throw hu("Field path arguments must be of type string or ",t,!1,void 0,n)}const uB=new RegExp("[~\\*/\\[\\]]");function vk(t,e,n){if(e.search(uB)>=0)throw hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qg(...e.split("."))._internalPath}catch{throw hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hu(t,e,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new de(q.INVALID_ARGUMENT,a+t+l)}function hB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dB extends bk{data(){return super.data()}}function Gg(t,e){return typeof e=="string"?vk(t,e):e instanceof qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wk extends bk{constructor(e,n,i,s,r,o){super(e,n,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Gg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Sc extends wk{data(e={}){return super.data(e)}}class fB{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Go(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Sc(this._firestore,this._userDataWriter,i.key,i,new Go(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let r=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new Sc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Go(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:r++}))}{let r=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Sc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Go(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),c=r.indexOf(o.doc.key)),{type:pB(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mB{}function yB(t,...e){for(const n of e)t=n._apply(t);return t}class vB extends mB{constructor(e,n){super(),this.fa=e,this.wa=n,this.type="orderBy"}_apply(e){const n=function(i,s,r){if(i.startAt!==null)throw new de(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Hr(s,r);return function(a,l){if(w1(a)===null){const c=_1(a);c!==null&&wB(a,c,l.field)}}(i,o),o}(e._query,this.fa,this.wa);return new Ol(e.firestore,e.converter,function(i,s){const r=i.explicitOrderBy.concat([s]);return new El(i.path,i.collectionGroup,r,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function bB(t,e="asc"){const n=e,i=Gg("orderBy",t);return new vB(i,n)}function wB(t,e,n){if(!n.isEqual(e))throw new de(q.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{convertValue(e,n="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ee()}}convertObject(e,n){const i={};return ko(e.fields,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(e){return new Yg(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=y1(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Va(e));default:return null}}convertTimestamp(e){const n=ms(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ct.fromString(e);nt(j1(i));const s=new ao(i.get(1),i.get(3)),r=new ue(i.popFirst(5));return s.isEqual(n)||ps(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class _k extends _B{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}function TB(t){return xk(ba(t.firestore,qa),[new Mg(t._key,ai.none())])}function rb(t,e){const n=ba(t.firestore,qa),i=ck(t),s=xB(t.converter,e);return xk(n,[lB(aB(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,ai.exists(!1))]).then(()=>i)}function kB(t,...e){var n,i,s;t=Dn(t);let r={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||sb(e[o])||(r=e[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(sb(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(t instanceof An)c=ba(t.firestore,qa),u=Pg(t._key.path),l={next:h=>{e[o]&&e[o](EB(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=ba(t,Ol);c=ba(h.firestore,qa),u=h._query;const d=new _k(c);l={next:f=>{e[o]&&e[o](new fB(c,d,h,f))},error:e[o+1],complete:e[o+2]},gB(t._query)}return function(h,d,f,p){const y=new G$(p),b=new O$(d,y,f);return h.asyncQueue.enqueueAndForget(async()=>S$(await Zv(h),b)),()=>{y.Tc(),h.asyncQueue.enqueueAndForget(async()=>C$(await Zv(h),b))}}(uk(c),u,a,l)}function xk(t,e){return function(n,i){const s=new Gs;return n.asyncQueue.enqueueAndForget(async()=>$$(await eB(n),i,s)),s.promise}(uk(t),e)}function EB(t,e,n){const i=n.docs.get(e._key),s=new _k(t);return new wk(t,s,e._key,i,new Go(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){To=n})(fl),di(new Hn("firestore",(n,{options:i})=>{const s=n.getProvider("app").getImmediate(),r=new qa(s,new xL(n.getProvider("auth-internal")),new SL(n.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),r._setSettings(i),r},"PUBLIC")),Mn(Cv,"3.4.13",t),Mn(Cv,"3.4.13","esm2017")})();let Xo;const pd="tickets2024";function SB(){const e=VD({apiKey:"AIzaSyDZb7-ioFy32A5bvByg61rOWrdXhqvpXlU",authDomain:"skiercon-akredytacja2025.firebaseapp.com",projectId:"skiercon-akredytacja2025",storageBucket:"skiercon-akredytacja2025.firebasestorage.app",messagingSenderId:"94708514487",appId:"1:94708514487:web:0bcbf9421a96454c225732",measurementId:"G-W7WTELX3X1"});Xo=iB(e)}const Xg={async addTicket(t){for(let e=0;e<t.numberOfIds;e++){t.ticketStartTime=vf.value,t.ticketEndTime=new Date().toISOString();const n=JSON.parse(JSON.stringify(t));await rb(fd(Xo,pd),n)}},async addTickets(t){for(const e of t){e.ticketStartTime=vf.value,e.ticketEndTime=new Date().toISOString();const n=JSON.parse(JSON.stringify(e));await rb(fd(Xo,pd),n)}},async removeTicket(t){const e=ck(Xo,pd,t);await TB(e)},useCollection(t,e=[],n=Ae([])){const i=fd(Xo,t),s=yB(i,...e);return{unsubscribe:kB(s,o=>{n.value=[],o.forEach(a=>{n.value.push({docId:a.id,...a.data()})})}),data:n}}},CB={guest:"gosc",medium:"media",program:"program",normal:"uczestnik",volunteer:"szop-lis-los-rys",vendor:"wystawca",others:"uczestnik",vip:"uczestnik",workers:"uczestnik"},IB={LIS:"lis",SZOP:"szop",MI\u015A:"mis",\u0141O\u015A:"los",RY\u015A:"rys",OGR:"ogr",ORG:"organizator"};var Tt=(t=>(t.Normal="gold",t.Guests="orange",t.Media="tomato",t.Volunteers="grey",t.Vendors="#87CEFA",t.Program="#9ACD32",t.Others="LightCoral",t.VIP="#4169E1",t.Workers="#6A5ACD",t))(Tt||{});function Tk(t){return`/skiercon-akredytacja/img/${t}`}function kk(t){return Tk(`${CB[t]}-front.jpg`)}function PB(t){return Tk(`${IB[t]}-front.jpg`)}function OB(t,e=!1){return e?{guest:"Go\u015Bci",medium:"Medi\xF3w",program:"Tw\xF3rc\xF3w Programu",normal:"Uczestnik\xF3w",volunteer:"Wolontariuszy",vendor:"Wystawc\xF3w",others:"Innych",vip:"VIP\xF3w",workers:"Pracownik\xF3w"}[t]:{guest:"Go\u015Bcia",medium:"Media",program:"Tw\xF3rcy Programu",normal:"Uczestnika",volunteer:"Wolontariusza",vendor:"Wystawcy",others:"Osoby",workers:"Pracownika",vip:"VIP"}[t]}function qf(t){switch(t.ticketType){case"guest":return t.nick?`${t.name} "${t.nick}" ${t.lastName}`:`${t.name} ${t.lastName}`;case"program":return t.nick?`${t.name} "${t.nick}" ${t.lastName}`:`${t.name} ${t.lastName}`;case"volunteer":return t.nick?`${t.name} "${t.nick}" ${t.lastName}`:`${t.name} ${t.lastName}`;case"medium":return`${t.name} ${t.lastName}`;case"vendor":return t.name;case"vip":return`${t.name} ${t.lastName}`;case"workers":return`${t.name} ${t.lastName}`;case"others":return`${t.name} ${t.lastName}`;case"normal":return"-";default:Ek()}}function Yf(t){switch(t.ticketType){case"guest":return"Go\u015B\u0107 specjalny";case"program":return t.group?`Program - Grupa: ${t.group}`:"Program";case"volunteer":return t.volunteerType?`Wolontariusz - ${t.volunteerType}`:"Wolontariusz";case"medium":return t.mediaName?`Media: ${t.mediaName}`:"Media";case"vendor":return t.place?`Wystawca - Miejsce: ${t.place}`:"Wystawca";case"vip":return t.info?`Zaproszenie - ${t.info}`:"VIP";case"workers":return t.info?`Pracownik - ${t.info}`:"Pracownik";case"others":return t.info?`Inne - ${t.info.slice(0,50)}`:"Inne";case"normal":return"";default:Ek()}}function Ek(t){throw new Error("Didn't expect to get here")}function ob(t){return t.replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ż/g,"z").replace(/ź/g,"z")}const MB=t=>(ws("data-v-ca71c1f0"),t=t(),_s(),t),AB={key:0,class:"text-sm"},DB=["title"],RB={key:0},NB=MB(()=>E("span",{class:"material-symbols-outlined remove-icon"}," delete ",-1)),LB=[NB],FB=at({__name:"TicketRow",props:{ticket:{type:Object,required:!0},withoutRemove:{type:Boolean,required:!0}},setup(t){const e=t,n=Ae(!1);async function i(o){n.value||!confirm(`Czy na pewno chcesz usun\u0105\u0107 t\u0119 akredytacj\u0119? 
`+JSON.stringify(e.ticket,null,2))||(n.value=!0,await Xg.removeTicket(o))}const s={guest:"Go\u015B\u0107",medium:"Media",normal:"Uczestnik",program:"Program",vendor:"Wystawca",volunteer:"Wolontariusz",others:"Inny",vip:"VIP",workers:"Pracownik"},r=Ue(()=>Yf(e.ticket));return(o,a)=>(G(),Z("tr",null,[E("td",null,ae(s[t.ticket.ticketType]),1),E("td",null,[E("div",null,ae(D(qf)(t.ticket)),1),D(r)?(G(),Z("div",AB,ae(D(r)),1)):Pe("",!0)]),E("td",null,ae(t.ticket.sleep?"Tak":"Nie"),1),E("td",{title:new Date(t.ticket.ticketEndTime).toLocaleString("pl")},ae(D(qp)(t.ticket.ticketEndTime).format("dd, HH:mm")),9,DB),t.withoutRemove?Pe("",!0):(G(),Z("td",RB,[E("button",{class:"px-2",onClick:a[0]||(a[0]=l=>i(t.ticket.docId))},LB)]))]))}});const $B=Ni(FB,[["__scopeId","data-v-ca71c1f0"]]),BB={class:"my-6"},UB={key:0,class:"px-10 py-6"},VB={class:"shadow rounded-xl p-5 flex mb-5"},zB={class:"w-52 mr-5"},jB=he(" Typ biletu "),HB=["value","textContent"],WB={class:"w-52 mr-5"},qB=he(" Liczba bilet\xF3w na stron\u0119 "),YB={class:"w-72 mr-5"},KB=he(" Szukaj "),GB={key:1,class:"w-full shadow rounded-xl overflow-hidden"},XB=E("th",{width:"180"},"Typ",-1),QB=E("th",null,"Osoba / Nazwa",-1),JB=E("th",{width:"180"},"Nocleg",-1),ZB=E("th",{width:"150"},"Data",-1),e2={key:0,width:"50"},t2={key:2,class:"w-full shadow rounded-xl overflow-hidden text-center text-xl p-32"},n2=at({__name:"TicketsTable",props:{tickets:{type:Array,required:!0},title:{type:String,default:void 0},withoutRemove:{type:Boolean,default:!1}},setup(t){const e=t,n=Ae(10),i=Ae(1),s=Ae();Jt(n,h=>{h<1&&(n.value=1),h>100&&(n.value=100)});const r=Ue(()=>e.tickets.filter(h=>l.value==="all"?!0:h.ticketType===l.value).filter(h=>{var d,f;return s.value?`${h.name}${(d=h.nick)!=null?d:""}${(f=h.lastName)!=null?f:""}`.toLocaleLowerCase().includes(s.value.toLocaleLowerCase()):!0})),o=Ue(()=>CA(r.value,n.value)),a=Ue(()=>{var h;return(h=o.value[i.value-1])!=null?h:[]}),l=Ae("all"),c=[{value:"all",label:"Wszyscy"},{value:"guest",label:"Go\u015Bcie"},{value:"medium",label:"Media"},{value:"normal",label:"Uczestnicy"},{value:"program",label:"Tw\xF3rcy programu"},{value:"vendor",label:"Wystawcy"},{value:"volunteer",label:"Wolontariusze"},{value:"workers",label:"Pracownicy"},{value:"vip",label:"VIP"},{value:"others",label:"Inni"}];Jt(l,()=>i.value=1),Jt(n,()=>i.value=1);function u(h){i.value=h}return(h,d)=>{const f=Zt("vue-awesome-paginate");return G(),Z("div",BB,[h.$slots.default?(G(),Z("div",UB,[qi(h.$slots,"default")])):Pe("",!0),E("header",VB,[E("label",zB,[jB,ra(E("select",{"onUpdate:modelValue":d[0]||(d[0]=p=>l.value=p),class:"input"},[(G(),Z(Ye,null,Aa(c,p=>E("option",{key:p.value,value:p.value,textContent:ae(p.label)},null,8,HB)),64))],512),[[Vp,l.value]])]),E("label",WB,[qB,ra(E("input",{type:"number","onUpdate:modelValue":d[1]||(d[1]=p=>n.value=p),class:"input"},null,512),[[nr,n.value]])]),E("label",YB,[KB,ra(E("input",{type:"search","onUpdate:modelValue":d[2]||(d[2]=p=>s.value=p),class:"input",placeholder:"Imi\u0119 / Nazwisko / Nick / Nazwa"},null,512),[[nr,s.value]])])]),D(a).length>0?(G(),Z("table",GB,[E("tr",null,[XB,QB,JB,ZB,t.withoutRemove?Pe("",!0):(G(),Z("th",e2,"Usu\u0144"))]),(G(!0),Z(Ye,null,Aa(D(a),p=>(G(),Dt($B,{key:p.docId,ticket:p,"without-remove":t.withoutRemove},null,8,["ticket","without-remove"]))),128))])):(G(),Z("div",t2," Brak bilet\xF3w ")),D(r).length>n.value?(G(),Dt(f,{key:i.value,class:"m-10 justify-center","total-items":D(r).length,"items-per-page":n.value,"max-pages-shown":5,"current-page":i.value,"on-click":u},null,8,["total-items","items-per-page","current-page"])):Pe("",!0)])}}}),i2={class:"px-10"},s2=at({__name:"Lista",setup(t){const e=Ae(!1),n=Ae(0),i=Ae(0);function s(o){n.value=o.pageX,i.value=o.pageY}function r(o){n.value<20&&i.value<20&&o.key==="d"&&(e.value=!e.value)}return Ri(()=>{window.addEventListener("mousemove",s),window.addEventListener("keydown",r)}),xs(()=>{window.removeEventListener("mousemove",s),window.removeEventListener("keydown",r)}),(o,a)=>(G(),Z("div",i2,[ye(n2,{tickets:D(Kt),"without-remove":!e.value},null,8,["tickets","without-remove"])]))}}),r2="/skiercon-akredytacja/logo.png";var Sk={exports:{}},Qg={exports:{}},Ck=function(e,n){return function(){for(var s=new Array(arguments.length),r=0;r<s.length;r++)s[r]=arguments[r];return e.apply(n,s)}},o2=Ck,Jg=Object.prototype.toString,Zg=function(t){return function(e){var n=Jg.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function xr(t){return t=t.toLowerCase(),function(n){return Zg(n)===t}}function em(t){return Array.isArray(t)}function du(t){return typeof t>"u"}function a2(t){return t!==null&&!du(t)&&t.constructor!==null&&!du(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var Ik=xr("ArrayBuffer");function l2(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ik(t.buffer),e}function c2(t){return typeof t=="string"}function u2(t){return typeof t=="number"}function Pk(t){return t!==null&&typeof t=="object"}function Cc(t){if(Zg(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var h2=xr("Date"),d2=xr("File"),f2=xr("Blob"),p2=xr("FileList");function tm(t){return Jg.call(t)==="[object Function]"}function g2(t){return Pk(t)&&tm(t.pipe)}function m2(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||Jg.call(t)===e||tm(t.toString)&&t.toString()===e)}var y2=xr("URLSearchParams");function v2(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function b2(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function nm(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),em(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function Kf(){var t={};function e(s,r){Cc(t[r])&&Cc(s)?t[r]=Kf(t[r],s):Cc(s)?t[r]=Kf({},s):em(s)?t[r]=s.slice():t[r]=s}for(var n=0,i=arguments.length;n<i;n++)nm(arguments[n],e);return t}function w2(t,e,n){return nm(e,function(s,r){n&&typeof s=="function"?t[r]=o2(s,n):t[r]=s}),t}function _2(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function x2(t,e,n,i){t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)}function T2(t,e,n){var i,s,r,o={};e=e||{};do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)r=i[s],o[r]||(e[r]=t[r],o[r]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e}function k2(t,e,n){t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;var i=t.indexOf(e,n);return i!==-1&&i===n}function E2(t){if(!t)return null;var e=t.length;if(du(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n}var S2=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),qt={isArray:em,isArrayBuffer:Ik,isBuffer:a2,isFormData:m2,isArrayBufferView:l2,isString:c2,isNumber:u2,isObject:Pk,isPlainObject:Cc,isUndefined:du,isDate:h2,isFile:d2,isBlob:f2,isFunction:tm,isStream:g2,isURLSearchParams:y2,isStandardBrowserEnv:b2,forEach:nm,merge:Kf,extend:w2,trim:v2,stripBOM:_2,inherits:x2,toFlatObject:T2,kindOf:Zg,kindOfTest:xr,endsWith:k2,toArray:E2,isTypedArray:S2,isFileList:p2},Cr=qt;function ab(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Ok=function(e,n,i){if(!n)return e;var s;if(i)s=i(n);else if(Cr.isURLSearchParams(n))s=n.toString();else{var r=[];Cr.forEach(n,function(l,c){l===null||typeof l>"u"||(Cr.isArray(l)?c=c+"[]":l=[l],Cr.forEach(l,function(h){Cr.isDate(h)?h=h.toISOString():Cr.isObject(h)&&(h=JSON.stringify(h)),r.push(ab(c)+"="+ab(h))}))}),s=r.join("&")}if(s){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e},C2=qt;function _h(){this.handlers=[]}_h.prototype.use=function(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};_h.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};_h.prototype.forEach=function(e){C2.forEach(this.handlers,function(i){i!==null&&e(i)})};var I2=_h,P2=qt,O2=function(e,n){P2.forEach(e,function(s,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(e[n]=s,delete e[r])})},Mk=qt;function fo(t,e,n,i,s){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}Mk.inherits(fo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ak=fo.prototype,Dk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){Dk[t]={value:t}});Object.defineProperties(fo,Dk);Object.defineProperty(Ak,"isAxiosError",{value:!0});fo.from=function(t,e,n,i,s,r){var o=Object.create(Ak);return Mk.toFlatObject(t,o,function(l){return l!==Error.prototype}),fo.call(o,t.message,e,n,i,s),o.name=t.name,r&&Object.assign(o,r),o};var Co=fo,Rk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ln=qt;function M2(t,e){e=e||new FormData;var n=[];function i(r){return r===null?"":Ln.isDate(r)?r.toISOString():Ln.isArrayBuffer(r)||Ln.isTypedArray(r)?typeof Blob=="function"?new Blob([r]):Buffer.from(r):r}function s(r,o){if(Ln.isPlainObject(r)||Ln.isArray(r)){if(n.indexOf(r)!==-1)throw Error("Circular reference detected in "+o);n.push(r),Ln.forEach(r,function(l,c){if(!Ln.isUndefined(l)){var u=o?o+"."+c:c,h;if(l&&!o&&typeof l=="object"){if(Ln.endsWith(c,"{}"))l=JSON.stringify(l);else if(Ln.endsWith(c,"[]")&&(h=Ln.toArray(l))){h.forEach(function(d){!Ln.isUndefined(d)&&e.append(u,i(d))});return}}s(l,u)}}),n.pop()}else e.append(o,i(r))}return s(t),e}var Nk=M2,gd,lb;function A2(){if(lb)return gd;lb=1;var t=Co;return gd=function(n,i,s){var r=s.config.validateStatus;!s.status||!r||r(s.status)?n(s):i(new t("Request failed with status code "+s.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},gd}var md,cb;function D2(){if(cb)return md;cb=1;var t=qt;return md=t.isStandardBrowserEnv()?function(){return{write:function(i,s,r,o,a,l){var c=[];c.push(i+"="+encodeURIComponent(s)),t.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),t.isString(o)&&c.push("path="+o),t.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){var s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),md}var R2=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},N2=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},L2=R2,F2=N2,Lk=function(e,n){return e&&!L2(n)?F2(e,n):n},yd,ub;function $2(){if(ub)return yd;ub=1;var t=qt,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return yd=function(i){var s={},r,o,a;return i&&t.forEach(i.split(`
`),function(c){if(a=c.indexOf(":"),r=t.trim(c.substr(0,a)).toLowerCase(),o=t.trim(c.substr(a+1)),r){if(s[r]&&e.indexOf(r)>=0)return;r==="set-cookie"?s[r]=(s[r]?s[r]:[]).concat([o]):s[r]=s[r]?s[r]+", "+o:o}}),s},yd}var vd,hb;function B2(){if(hb)return vd;hb=1;var t=qt;return vd=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),s;function r(o){var a=o;return n&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=r(window.location.href),function(a){var l=t.isString(a)?r(a):a;return l.protocol===s.protocol&&l.host===s.host}}():function(){return function(){return!0}}(),vd}var bd,db;function xh(){if(db)return bd;db=1;var t=Co,e=qt;function n(i){t.call(this,i==null?"canceled":i,t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),bd=n,bd}var wd,fb;function U2(){return fb||(fb=1,wd=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),wd}var _d,pb;function gb(){if(pb)return _d;pb=1;var t=qt,e=A2(),n=D2(),i=Ok,s=Lk,r=$2(),o=B2(),a=Rk,l=Co,c=xh(),u=U2();return _d=function(d){return new Promise(function(p,y){var b=d.data,m=d.headers,v=d.responseType,_;function k(){d.cancelToken&&d.cancelToken.unsubscribe(_),d.signal&&d.signal.removeEventListener("abort",_)}t.isFormData(b)&&t.isStandardBrowserEnv()&&delete m["Content-Type"];var x=new XMLHttpRequest;if(d.auth){var S=d.auth.username||"",M=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";m.Authorization="Basic "+btoa(S+":"+M)}var C=s(d.baseURL,d.url);x.open(d.method.toUpperCase(),i(C,d.params,d.paramsSerializer),!0),x.timeout=d.timeout;function O(){if(!!x){var F="getAllResponseHeaders"in x?r(x.getAllResponseHeaders()):null,U=!v||v==="text"||v==="json"?x.responseText:x.response,P={data:U,status:x.status,statusText:x.statusText,headers:F,config:d,request:x};e(function($){p($),k()},function($){y($),k()},P),x=null}}if("onloadend"in x?x.onloadend=O:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(O)},x.onabort=function(){!x||(y(new l("Request aborted",l.ECONNABORTED,d,x)),x=null)},x.onerror=function(){y(new l("Network Error",l.ERR_NETWORK,d,x,x)),x=null},x.ontimeout=function(){var U=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",P=d.transitional||a;d.timeoutErrorMessage&&(U=d.timeoutErrorMessage),y(new l(U,P.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,d,x)),x=null},t.isStandardBrowserEnv()){var L=(d.withCredentials||o(C))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;L&&(m[d.xsrfHeaderName]=L)}"setRequestHeader"in x&&t.forEach(m,function(U,P){typeof b>"u"&&P.toLowerCase()==="content-type"?delete m[P]:x.setRequestHeader(P,U)}),t.isUndefined(d.withCredentials)||(x.withCredentials=!!d.withCredentials),v&&v!=="json"&&(x.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&x.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(_=function(F){!x||(y(!F||F&&F.type?new c:F),x.abort(),x=null)},d.cancelToken&&d.cancelToken.subscribe(_),d.signal&&(d.signal.aborted?_():d.signal.addEventListener("abort",_))),b||(b=null);var j=u(C);if(j&&["http","https","file"].indexOf(j)===-1){y(new l("Unsupported protocol "+j+":",l.ERR_BAD_REQUEST,d));return}x.send(b)})},_d}var xd,mb;function V2(){return mb||(mb=1,xd=null),xd}var Mt=qt,yb=O2,vb=Co,z2=Rk,j2=Nk,H2={"Content-Type":"application/x-www-form-urlencoded"};function bb(t,e){!Mt.isUndefined(t)&&Mt.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function W2(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=gb()),t}function q2(t,e,n){if(Mt.isString(t))try{return(e||JSON.parse)(t),Mt.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}var Th={transitional:z2,adapter:W2(),transformRequest:[function(e,n){if(yb(n,"Accept"),yb(n,"Content-Type"),Mt.isFormData(e)||Mt.isArrayBuffer(e)||Mt.isBuffer(e)||Mt.isStream(e)||Mt.isFile(e)||Mt.isBlob(e))return e;if(Mt.isArrayBufferView(e))return e.buffer;if(Mt.isURLSearchParams(e))return bb(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var i=Mt.isObject(e),s=n&&n["Content-Type"],r;if((r=Mt.isFileList(e))||i&&s==="multipart/form-data"){var o=this.env&&this.env.FormData;return j2(r?{"files[]":e}:e,o&&new o)}else if(i||s==="application/json")return bb(n,"application/json"),q2(e);return e}],transformResponse:[function(e){var n=this.transitional||Th.transitional,i=n&&n.silentJSONParsing,s=n&&n.forcedJSONParsing,r=!i&&this.responseType==="json";if(r||s&&Mt.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(r)throw o.name==="SyntaxError"?vb.from(o,vb.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:V2()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Mt.forEach(["delete","get","head"],function(e){Th.headers[e]={}});Mt.forEach(["post","put","patch"],function(e){Th.headers[e]=Mt.merge(H2)});var im=Th,Y2=qt,K2=im,G2=function(e,n,i){var s=this||K2;return Y2.forEach(i,function(o){e=o.call(s,e,n)}),e},Td,wb;function Fk(){return wb||(wb=1,Td=function(e){return!!(e&&e.__CANCEL__)}),Td}var _b=qt,kd=G2,X2=Fk(),Q2=im,J2=xh();function Ed(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new J2}var Z2=function(e){Ed(e),e.headers=e.headers||{},e.data=kd.call(e,e.data,e.headers,e.transformRequest),e.headers=_b.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),_b.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var n=e.adapter||Q2.adapter;return n(e).then(function(s){return Ed(e),s.data=kd.call(e,s.data,s.headers,e.transformResponse),s},function(s){return X2(s)||(Ed(e),s&&s.response&&(s.response.data=kd.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})},gn=qt,$k=function(e,n){n=n||{};var i={};function s(u,h){return gn.isPlainObject(u)&&gn.isPlainObject(h)?gn.merge(u,h):gn.isPlainObject(h)?gn.merge({},h):gn.isArray(h)?h.slice():h}function r(u){if(gn.isUndefined(n[u])){if(!gn.isUndefined(e[u]))return s(void 0,e[u])}else return s(e[u],n[u])}function o(u){if(!gn.isUndefined(n[u]))return s(void 0,n[u])}function a(u){if(gn.isUndefined(n[u])){if(!gn.isUndefined(e[u]))return s(void 0,e[u])}else return s(void 0,n[u])}function l(u){if(u in n)return s(e[u],n[u]);if(u in e)return s(void 0,e[u])}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return gn.forEach(Object.keys(e).concat(Object.keys(n)),function(h){var d=c[h]||r,f=d(h);gn.isUndefined(f)&&d!==l||(i[h]=f)}),i},Sd,xb;function Bk(){return xb||(xb=1,Sd={version:"0.27.2"}),Sd}var eU=Bk().version,Gi=Co,sm={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){sm[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});var Tb={};sm.transitional=function(e,n,i){function s(r,o){return"[Axios v"+eU+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return function(r,o,a){if(e===!1)throw new Gi(s(o," has been removed"+(n?" in "+n:"")),Gi.ERR_DEPRECATED);return n&&!Tb[o]&&(Tb[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};function tU(t,e,n){if(typeof t!="object")throw new Gi("options must be an object",Gi.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(t),s=i.length;s-- >0;){var r=i[s],o=e[r];if(o){var a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new Gi("option "+r+" must be "+l,Gi.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Gi("Unknown option "+r,Gi.ERR_BAD_OPTION)}}var nU={assertOptions:tU,validators:sm},Uk=qt,iU=Ok,kb=I2,Eb=Z2,kh=$k,sU=Lk,Vk=nU,Ir=Vk.validators;function po(t){this.defaults=t,this.interceptors={request:new kb,response:new kb}}po.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=kh(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var i=n.transitional;i!==void 0&&Vk.assertOptions(i,{silentJSONParsing:Ir.transitional(Ir.boolean),forcedJSONParsing:Ir.transitional(Ir.boolean),clarifyTimeoutError:Ir.transitional(Ir.boolean)},!1);var s=[],r=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(r=r&&f.synchronous,s.unshift(f.fulfilled,f.rejected))});var o=[];this.interceptors.response.forEach(function(f){o.push(f.fulfilled,f.rejected)});var a;if(!r){var l=[Eb,void 0];for(Array.prototype.unshift.apply(l,s),l=l.concat(o),a=Promise.resolve(n);l.length;)a=a.then(l.shift(),l.shift());return a}for(var c=n;s.length;){var u=s.shift(),h=s.shift();try{c=u(c)}catch(d){h(d);break}}try{a=Eb(c)}catch(d){return Promise.reject(d)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};po.prototype.getUri=function(e){e=kh(this.defaults,e);var n=sU(e.baseURL,e.url);return iU(n,e.params,e.paramsSerializer)};Uk.forEach(["delete","get","head","options"],function(e){po.prototype[e]=function(n,i){return this.request(kh(i||{},{method:e,url:n,data:(i||{}).data}))}});Uk.forEach(["post","put","patch"],function(e){function n(i){return function(r,o,a){return this.request(kh(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}po.prototype[e]=n(),po.prototype[e+"Form"]=n(!0)});var rU=po,Cd,Sb;function oU(){if(Sb)return Cd;Sb=1;var t=xh();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(o){i=o});var s=this;this.promise.then(function(r){if(!!s._listeners){var o,a=s._listeners.length;for(o=0;o<a;o++)s._listeners[o](r);s._listeners=null}}),this.promise.then=function(r){var o,a=new Promise(function(l){s.subscribe(l),o=l}).then(r);return a.cancel=function(){s.unsubscribe(o)},a},n(function(o){s.reason||(s.reason=new t(o),i(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},e.prototype.unsubscribe=function(i){if(!!this._listeners){var s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}},e.source=function(){var i,s=new e(function(o){i=o});return{token:s,cancel:i}},Cd=e,Cd}var Id,Cb;function aU(){return Cb||(Cb=1,Id=function(e){return function(i){return e.apply(null,i)}}),Id}var Pd,Ib;function lU(){if(Ib)return Pd;Ib=1;var t=qt;return Pd=function(n){return t.isObject(n)&&n.isAxiosError===!0},Pd}var Pb=qt,cU=Ck,Ic=rU,uU=$k,hU=im;function zk(t){var e=new Ic(t),n=cU(Ic.prototype.request,e);return Pb.extend(n,Ic.prototype,e),Pb.extend(n,e),n.create=function(s){return zk(uU(t,s))},n}var fn=zk(hU);fn.Axios=Ic;fn.CanceledError=xh();fn.CancelToken=oU();fn.isCancel=Fk();fn.VERSION=Bk().version;fn.toFormData=Nk;fn.AxiosError=Co;fn.Cancel=fn.CanceledError;fn.all=function(e){return Promise.all(e)};fn.spread=aU();fn.isAxiosError=lU();Qg.exports=fn;Qg.exports.default=fn;(function(t){t.exports=Qg.exports})(Sk);const dU=px(Sk.exports);function rm(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function jk(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fU=jk,Hk=new vr("auth","Firebase",jk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Qu("@firebase/auth");function Pc(t,...e){Ob.logLevel<=ze.ERROR&&Ob.error(`Auth (${fl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t,...e){throw om(t,...e)}function li(t,...e){return om(t,...e)}function pU(t,e,n){const i=Object.assign(Object.assign({},fU()),{[e]:n});return new vr("auth","Firebase",i).create(e,{appName:t.name})}function om(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Hk.create(t,...e)}function _e(t,e,...n){if(!t)throw om(e,...n)}function ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pc(e),new Error(e)}function Mi(t,e){t||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Map;function Ei(t){Mi(t instanceof Function,"Expected a class definition");let e=Mb.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mb.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t,e){const n=dl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Yc(r,e!=null?e:{}))return s;Wn(s,"already-initialized")}return n.initialize({options:e})}function mU(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yU(){return Ab()==="http:"||Ab()==="https:"}function Ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yU()||Yp()||"connection"in navigator)?navigator.onLine:!0}function bU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=Dx()||Rx()}get(){return vU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new Ml(3e4,6e4);function Eh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Al(t,e,n,i,s={}){return qk(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=hl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Wk.fetch()(Yk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function qk(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},wU),e);try{const s=new xU(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw ac(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ac(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ac(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw pU(t,u,c);Wn(t,u)}}catch(s){if(s instanceof pi)throw s;Wn(t,"network-request-failed")}}async function Sh(t,e,n,i,s={}){const r=await Al(t,e,n,i,s);return"mfaPendingCredential"in r&&Wn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function Yk(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?am(t.config,s):`${t.config.apiScheme}://${s}`}class xU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(li(this.auth,"network-request-failed")),_U.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ac(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=li(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e){return Al(t,"POST","/v1/accounts:delete",e)}async function kU(t,e){return Al(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EU(t,e=!1){const n=Dn(t),i=await n.getIdToken(e),s=lm(i);_e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:wa(Od(s.auth_time)),issuedAtTime:wa(Od(s.iat)),expirationTime:wa(Od(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Od(t){return Number(t)*1e3}function lm(t){var e;const[n,i,s]=t.split(".");if(n===void 0||i===void 0||s===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const r=OA(i);return r?JSON.parse(r):(Pc("Failed to decode base64 JWT payload"),null)}catch(r){return Pc("Caught error parsing JWT payload as JSON",(e=r)===null||e===void 0?void 0:e.toString()),null}}function SU(t){const e=lm(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof pi&&CU(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function CU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Ya(t,kU(n,{idToken:i}));_e(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?MU(r.providerUserInfo):[],a=OU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Kk(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function PU(t){const e=Dn(t);await fu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OU(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function MU(t){return t.map(e=>{var{providerId:n}=e,i=rm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e){const n=await qk(t,{},async()=>{const i=hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=Yk(t,s,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wk.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await AU(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Ka;return i&&(_e(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(_e(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(_e(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qs{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Kk(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Ya(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EU(this,e)}reload(){return PU(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Qs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await fu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ya(this,TU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:k,isAnonymous:x,providerData:S,stsTokenManager:M}=n;_e(_&&M,e,"internal-error");const C=Ka.fromJSON(this.name,M);_e(typeof _=="string",e,"internal-error"),Vi(h,e.name),Vi(d,e.name),_e(typeof k=="boolean",e,"internal-error"),_e(typeof x=="boolean",e,"internal-error"),Vi(f,e.name),Vi(p,e.name),Vi(y,e.name),Vi(b,e.name),Vi(m,e.name),Vi(v,e.name);const O=new Qs({uid:_,auth:e,email:d,emailVerified:k,displayName:h,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:y,stsTokenManager:C,createdAt:m,lastLoginAt:v});return S&&Array.isArray(S)&&(O.providerData=S.map(L=>Object.assign({},L))),b&&(O._redirectEventId=b),O}static async _fromIdTokenResponse(e,n,i=!1){const s=new Ka;s.updateFromServerResponse(n);const r=new Qs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await fu(r),r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Gk.type="NONE";const Db=Gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e,n){return`firebase:${t}:${e}:${n}`}class qr{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Oc(this.userKey,s.apiKey,r),this.fullPersistenceKey=Oc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new qr(Ei(Db),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||Ei(Db);const o=Oc(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Qs._fromJSON(e,u);c!==r&&(a=h),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new qr(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new qr(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eE(e))return"Blackberry";if(tE(e))return"Webos";if(cm(e))return"Safari";if((e.includes("chrome/")||Qk(e))&&!e.includes("edge/"))return"Chrome";if(Zk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Xk(t=Nt()){return/firefox\//i.test(t)}function cm(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qk(t=Nt()){return/crios\//i.test(t)}function Jk(t=Nt()){return/iemobile/i.test(t)}function Zk(t=Nt()){return/android/i.test(t)}function eE(t=Nt()){return/blackberry/i.test(t)}function tE(t=Nt()){return/webos/i.test(t)}function Ch(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DU(t=Nt()){var e;return Ch(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RU(){return Nx()&&document.documentMode===10}function nE(t=Nt()){return Ch(t)||Zk(t)||tE(t)||eE(t)||/windows phone/i.test(t)||Jk(t)}function NU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t,e=[]){let n;switch(t){case"Browser":n=Rb(Nt());break;case"Worker":n=`${Rb(Nt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=s)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n,i){this.app=e,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nb(this),this.idTokenSubscription=new Nb(this),this.beforeStateQueue=new LU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ei(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await qr.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await fu(e)}catch(i){if(((n=i)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Dn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ei(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await qr.create(this,[Ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,i,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return i&&(n["X-Firebase-Client"]=i),n}}function um(t){return Dn(t)}class Nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=BA(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,n){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function $U(t,e){return Al(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(t,e){return Sh(t,"POST","/v1/accounts:signInWithPassword",Eh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(t,e){return Sh(t,"POST","/v1/accounts:signInWithEmailLink",Eh(t,e))}async function VU(t,e){return Sh(t,"POST","/v1/accounts:signInWithEmailLink",Eh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends hm{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ga(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ga(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return BU(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return UU(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return $U(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return VU(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(t,e){return Sh(t,"POST","/v1/accounts:signInWithIdp",Eh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="http://localhost";class hr extends hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=rm(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new hr(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Yr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yr(e,n)}buildRequest(){const e={requestUri:zU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HU(t){const e=Wo(qo(t)).link,n=e?Wo(qo(e)).deep_link_id:null,i=Wo(qo(t)).deep_link_id;return(i?Wo(qo(i)).link:null)||i||n||e||t}class dm{constructor(e){var n,i,s,r,o,a;const l=Wo(qo(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=jU((s=l.mode)!==null&&s!==void 0?s:null);_e(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=HU(e);try{return new dm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return Ga._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=dm.parseLink(n);return _e(i,"argument-error"),Ga._fromEmailAndCode(e,i.code,i.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends sE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Dl{constructor(){super("facebook.com")}static credential(e){return hr._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Qi.credential(n,i)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Dl{constructor(){super("github.com")}static credential(e){return hr._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Dl{constructor(){super("twitter.com")}static credential(e,n){return hr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Zi.credential(n,i)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Qs._fromIdTokenResponse(e,i,s),o=Lb(i);return new go({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Lb(i);return new go({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Lb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends pi{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,pu.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new pu(e,n,i,s)}}function rE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?pu._fromErrorAndOperation(t,r,e,i):r})}async function WU(t,e,n=!1){const i=await Ya(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return go._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(t,e,n=!1){var i;const{auth:s}=t,r="reauthenticate";try{const o=await Ya(t,rE(s,r,e,t),n);_e(o.idToken,s,"internal-error");const a=lm(o.idToken);_e(a,s,"internal-error");const{sub:l}=a;return _e(t.uid===l,s,"user-mismatch"),go._forOperation(t,r,o)}catch(o){throw((i=o)===null||i===void 0?void 0:i.code)==="auth/user-not-found"&&Wn(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oE(t,e,n=!1){const i="signIn",s=await rE(t,i,e),r=await go._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function YU(t,e){return oE(um(t),e)}function KU(t,e,n){return YU(Dn(t),Io.credential(e,n))}const gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gu,"1"),this.storage.removeItem(gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(){const t=Nt();return cm(t)||Ch(t)}const XU=1e3,QU=10;class lE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=GU()&&NU(),this.fallbackToPolling=nE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);RU()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QU):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},XU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lE.type="LOCAL";const JU=lE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cE.type="SESSION";const uE=cE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Ih(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await ZU(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=fm("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(d.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function tV(t){ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function nV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sV(){return hE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firebaseLocalStorageDb",rV=1,mu="firebaseLocalStorage",fE="fbase_key";class Rl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(t,e){return t.transaction([mu],e?"readwrite":"readonly").objectStore(mu)}function oV(){const t=indexedDB.deleteDatabase(dE);return new Rl(t).toPromise()}function Xf(){const t=indexedDB.open(dE,rV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(mu,{keyPath:fE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(mu)?e(i):(i.close(),await oV(),e(await Xf()))})})}async function Fb(t,e,n){const i=Ph(t,!0).put({[fE]:e,value:n});return new Rl(i).toPromise()}async function aV(t,e){const n=Ph(t,!1).get(e),i=await new Rl(n).toPromise();return i===void 0?null:i.value}function $b(t,e){const n=Ph(t,!0).delete(e);return new Rl(n).toPromise()}const lV=800,cV=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>cV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(sV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nV(),!this.activeServiceWorker)return;this.sender=new eV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);!i||((e=i[0])===null||e===void 0?void 0:e.fulfilled)&&((n=i[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xf();return await Fb(e,gu,"1"),await $b(e,gu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>aV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Ph(s,!1).getAll();return new Rl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const uV=pE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function dV(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=li("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",hV().appendChild(i)})}function fV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t,e){return e?Ei(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gV(t){return oE(t.auth,new pm(t),t.bypassAuthState)}function mV(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),qU(n,new pm(t),t.bypassAuthState)}async function yV(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),WU(n,new pm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gV;case"linkViaPopup":case"linkViaRedirect":return yV;case"reauthViaPopup":case"reauthViaRedirect":return mV;default:Wn(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=new Ml(2e3,1e4);class $r extends gE{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,$r.currentPopupAction&&$r.currentPopupAction.cancel(),$r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,vV.get())};e()}}$r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="pendingRedirect",Mc=new Map;class wV extends gE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const i=await _V(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _V(t,e){const n=kV(e),i=TV(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function xV(t,e){Mc.set(t._key(),e)}function TV(t){return Ei(t._redirectPersistence)}function kV(t){return Oc(bV,t.config.apiKey,t.name)}async function EV(t,e,n=!1){const i=um(t),s=pV(i,e),o=await new wV(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=10*60*1e3;class CV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!mE(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(li(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bb(e))}saveEventToCache(e){this.cachedEventUids.add(Bb(e)),this.lastProcessedEventTime=Date.now()}}function Bb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e={}){return Al(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MV=/^https?/;async function AV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PV(t);for(const n of e)try{if(DV(n))return}catch{}Wn(t,"unauthorized-domain")}function DV(t){const e=Gf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!MV.test(n))return!1;if(OV.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=new Ml(3e4,6e4);function Ub(){const t=ci().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NV(t){return new Promise((e,n)=>{var i,s,r;function o(){Ub(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ub(),n(li(t,"network-request-failed"))},timeout:RV.get()})}if(!((s=(i=ci().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=ci().gapi)===null||r===void 0)&&r.load)o();else{const a=fV("iframefcb");return ci()[a]=()=>{gapi.load?o():n(li(t,"network-request-failed"))},dV(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function LV(t){return Ac=Ac||NV(t),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new Ml(5e3,15e3),$V="__/auth/iframe",BV="emulator/auth/iframe",UV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zV(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?am(e,BV):`https://${t.config.authDomain}/${$V}`,i={apiKey:e.apiKey,appName:t.name,v:fl},s=VV.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${hl(i).slice(1)}`}async function jV(t){const e=await LV(t),n=ci().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:zV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UV,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=li(t,"network-request-failed"),a=ci().setTimeout(()=>{r(o)},FV.get());function l(){ci().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WV=500,qV=600,YV="_blank",KV="http://localhost";class Vb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GV(t,e,n,i=WV,s=qV){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},HV),{width:i.toString(),height:s.toString(),top:r,left:o}),c=Nt().toLowerCase();n&&(a=Qk(c)?YV:n),Xk(c)&&(e=e||KV,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(DU(c)&&a!=="_self")return XV(e||"",a),new Vb(null);const h=window.open(e||"",a,u);_e(h,t,"popup-blocked");try{h.focus()}catch{}return new Vb(h)}function XV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="__/auth/handler",JV="emulator/auth/handler";function zb(t,e,n,i,s,r){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:fl,eventId:s};if(e instanceof sE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$A(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(r||{}))o[l]=c}if(e instanceof Dl){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${ZV(t)}?${hl(a).slice(1)}`}function ZV({config:t}){return t.emulator?am(t,JV):`https://${t.authDomain}/${QV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="webStorageSupport";class ez{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=EV,this._overrideRedirectResult=xV}async _openPopup(e,n,i,s){var r;Mi((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=zb(e,n,i,Gf(),s);return GV(e,o,fm())}async _openRedirect(e,n,i,s){return await this._originValidation(e),tV(zb(e,n,i,Gf(),s)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Mi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await jV(e),i=new CV(e);return n.register("authEvent",s=>(_e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Md,{type:Md},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Md];o!==void 0&&n(!!o),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nE()||cm()||Ch()}}const tz=ez;var jb="@firebase/auth",Hb="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{var s;e(((s=i)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function sz(t){di(new Hn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:r,authDomain:o}=i.options;return((a,l)=>{_e(r&&!r.includes(":"),"invalid-api-key",{appName:a.name}),_e(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:r,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iE(t)},u=new FU(a,l,c);return mU(u,n),u})(i,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),di(new Hn("auth-internal",e=>{const n=um(e.getProvider("auth").getImmediate());return(i=>new nz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mn(jb,Hb,iz(t)),Mn(jb,Hb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t=zx()){const e=dl(t,"auth");return e.isInitialized()?e.getImmediate():gU(t,{popupRedirectResolver:tz,persistence:[uV,JU,uE]})}sz("Browser");const yE=t=>(ws("data-v-72862404"),t=t(),_s(),t),oz={class:"container"},az=["onSubmit"],lz={key:0,class:"material-symbols-outlined icon absolute animate-spin bg-white text-violet-500"},cz=yE(()=>E("img",{src:r2,alt:"",height:"70",width:"208",class:"mb-12"},null,-1)),uz={class:"my-3 block"},hz=yE(()=>E("div",null,"Has\u0142o:",-1)),dz=["disabled"],fz={key:0,class:"text-red-500"},pz=["disabled"],gz=at({__name:"Login",setup(t){const e=rz(),n=Ae(""),i=Ae(""),s={"auth/too-many-requests":"Zbyt du\u017Co pr\xF3b logowania!","auth/wrong-password":"Nieprawid\u0142owe has\u0142o!","auth/invalid-login-credentials":"Nieprawid\u0142owe dane logowania!"},r=ul(),o=Ae(!1);async function a(){var l;if(!o.value){if(n.value.length===0){i.value="Has\u0142o nie mo\u017Ce by\u0107 puste!";return}o.value=!0;try{await KU(e,"raven@skiercon.pl",n.value),Xg.useCollection("tickets2024",[bB("ticketEndTime","desc")],Kt),await dU.get(`https://api.skiercon.pl/google-sheets/static?token=${n.value}`).then(c=>{Qn.value=c.data}),console.log(Qn.value),r.replace({name:Et.Akredytacja}),Hc.value=!0}catch(c){if(c instanceof pi)i.value=(l=s[c.code])!=null?l:"Wyst\u0105pi\u0142 pot\u0119\u017Cny b\u0142\u0105d",console.error(c.code);else throw c}o.value=!1}}return(l,c)=>(G(),Z("div",oz,[E("form",{onSubmit:Fn(a,["prevent"]),class:"w-52 mx-auto my-20 relative"},[o.value?(G(),Z("span",lz," sync ")):Pe("",!0),cz,E("label",uz,[hz,ra(E("input",{type:"password","onUpdate:modelValue":c[0]||(c[0]=u=>n.value=u),disabled:o.value,class:"border border-gray-400 rounded-md py-2 px-4 outline-none w-full disabled:border-gray-200 disabled:text-gray-400",autofocus:""},null,8,dz),[[nr,n.value]]),i.value?(G(),Z("div",fz,ae(i.value),1)):Pe("",!0)]),E("button",{type:"submit",disabled:o.value,class:"button border-violet-300 w-full disabled:border-gray-200 disabled:text-gray-400"}," Zaloguj ",8,pz)],40,az)]))}});const mz=Ni(gz,[["__scopeId","data-v-72862404"]]),yz={class:"container"},vz={class:"text-center pt-3 pb-6 text-lg font-bold uppercase"},bz=at({__name:"Start",setup(t){return bM(),wM.value="normal",vf.value=new Date().toISOString(),ha({ticketType:"normal"}),cM(()=>{var e;if(!((e=Ve.value[0])!=null&&e.ticketEndTime)){const n=confirm("Czy chcesz anulowa\u0107 aktualn\u0105 akredytacj\u0119?");return n&&da(),n}}),(e,n)=>{const i=Zt("router-view");return G(),Z("div",yz,[E("div",vz,[E("div",null,ae(e.$route.name),1)]),ye(i)])}}});/*!
 * Chart.js v3.8.2
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const vE=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function bE(t,e,n){const i=n||(o=>Array.prototype.slice.call(o));let s=!1,r=[];return function(...o){r=i(o),s||(s=!0,vE.call(window,()=>{s=!1,t.apply(e,r)}))}}function wz(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const gm=t=>t==="start"?"left":t==="end"?"right":"center",Yt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_z=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function mi(){}const xz=function(){let t=0;return function(){return t++}}();function Xe(t){return t===null||typeof t>"u"}function rt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Be(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const jt=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function Cn(t,e){return jt(t)?t:e}function Oe(t,e){return typeof t>"u"?e:t}const Tz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,wE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function tt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ge(t,e,n,i){let s,r,o;if(rt(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(Be(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function yu(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function vu(t){if(rt(t))return t.map(vu);if(Be(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=vu(t[n[s]]);return e}return t}function _E(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function kz(t,e,n,i){if(!_E(t))return;const s=e[t],r=n[t];Be(s)&&Be(r)?Xa(s,r,i):e[t]=vu(r)}function Xa(t,e,n){const i=rt(e)?e:[e],s=i.length;if(!Be(t))return t;n=n||{};const r=n.merger||kz;for(let o=0;o<s;++o){if(e=i[o],!Be(e))continue;const a=Object.keys(e);for(let l=0,c=a.length;l<c;++l)r(a[l],t,e,n)}return t}function _a(t,e){return Xa(t,e,{merger:Ez})}function Ez(t,e,n){if(!_E(t))return;const i=e[t],s=n[t];Be(i)&&Be(s)?_a(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=vu(s))}const Sz="",Cz=".";function Wb(t,e){const n=t.indexOf(Cz,e);return n===-1?t.length:n}function vs(t,e){if(e===Sz)return t;let n=0,i=Wb(e,n);for(;t&&i>n;)t=t[e.slice(n,i)],n=i+1,i=Wb(e,n);return t}function mm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Rn=t=>typeof t<"u",bs=t=>typeof t=="function",qb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Iz(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ut=Math.PI,et=2*ut,Pz=et+ut,bu=Number.POSITIVE_INFINITY,Oz=ut/180,ft=ut/2,No=ut/4,Yb=ut*2/3,Pn=Math.log10,ui=Math.sign;function Kb(t){const e=Math.round(t);t=xa(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Pn(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Mz(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Qa(t){return!isNaN(parseFloat(t))&&isFinite(t)}function xa(t,e,n){return Math.abs(t-e)<n}function Az(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function xE(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Un(t){return t*(ut/180)}function ym(t){return t*(180/ut)}function Gb(t){if(!jt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function TE(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ut&&(r+=et),{angle:r,distance:s}}function Qf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Dz(t,e){return(t-e+Pz)%et-ut}function $n(t){return(t%et+et)%et}function Ja(t,e,n,i){const s=$n(t),r=$n(e),o=$n(n),a=$n(r-s),l=$n(o-s),c=$n(s-r),u=$n(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function Qt(t,e,n){return Math.max(e,Math.min(n,t))}function Rz(t){return Qt(t,-32768,32767)}function es(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}const lc=t=>t===0||t===1,Xb=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*et/n)),Qb=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*et/n)+1,Ta={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ft)+1,easeOutSine:t=>Math.sin(t*ft),easeInOutSine:t=>-.5*(Math.cos(ut*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>lc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>lc(t)?t:Xb(t,.075,.3),easeOutElastic:t=>lc(t)?t:Qb(t,.075,.3),easeInOutElastic(t){return lc(t)?t:t<.5?.5*Xb(t*2,.1125,.45):.5+.5*Qb(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ta.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ta.easeInBounce(t*2)*.5:Ta.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Nl(t){return t+.5|0}const ts=(t,e,n)=>Math.max(Math.min(t,n),e);function Qo(t){return ts(Nl(t*2.55),0,255)}function as(t){return ts(Nl(t*255),0,255)}function wi(t){return ts(Nl(t/2.55)/100,0,1)}function Jb(t){return ts(Nl(t*100),0,100)}const Sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Jf=[..."0123456789ABCDEF"],Nz=t=>Jf[t&15],Lz=t=>Jf[(t&240)>>4]+Jf[t&15],cc=t=>(t&240)>>4===(t&15),Fz=t=>cc(t.r)&&cc(t.g)&&cc(t.b)&&cc(t.a);function $z(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Sn[t[1]]*17,g:255&Sn[t[2]]*17,b:255&Sn[t[3]]*17,a:e===5?Sn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Sn[t[1]]<<4|Sn[t[2]],g:Sn[t[3]]<<4|Sn[t[4]],b:Sn[t[5]]<<4|Sn[t[6]],a:e===9?Sn[t[7]]<<4|Sn[t[8]]:255})),n}const Bz=(t,e)=>t<255?e(t):"";function Uz(t){var e=Fz(t)?Nz:Lz;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Bz(t.a,e):void 0}const Vz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kE(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function zz(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function jz(t,e,n){const i=kE(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function Hz(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function vm(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=Hz(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function bm(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(as)}function wm(t,e,n){return bm(kE,t,e,n)}function Wz(t,e,n){return bm(jz,t,e,n)}function qz(t,e,n){return bm(zz,t,e,n)}function EE(t){return(t%360+360)%360}function Yz(t){const e=Vz.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Qo(+e[5]):as(+e[5]));const s=EE(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Wz(s,r,o):e[1]==="hsv"?i=qz(s,r,o):i=wm(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function Kz(t,e){var n=vm(t);n[0]=EE(n[0]+e),n=wm(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Gz(t){if(!t)return;const e=vm(t),n=e[0],i=Jb(e[1]),s=Jb(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${wi(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const Zb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},e0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Xz(){const t={},e=Object.keys(e0),n=Object.keys(Zb);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,Zb[r]);r=parseInt(e0[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let uc;function Qz(t){uc||(uc=Xz(),uc.transparent=[0,0,0,0]);const e=uc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Jz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Zz(t){const e=Jz.exec(t);let n=255,i,s,r;if(!!e){if(e[7]!==i){const o=+e[7];n=e[8]?Qo(o):ts(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Qo(i):ts(i,0,255)),s=255&(e[4]?Qo(s):ts(s,0,255)),r=255&(e[6]?Qo(r):ts(r,0,255)),{r:i,g:s,b:r,a:n}}}function ej(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${wi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ad=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Pr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function tj(t,e,n){const i=Pr(wi(t.r)),s=Pr(wi(t.g)),r=Pr(wi(t.b));return{r:as(Ad(i+n*(Pr(wi(e.r))-i))),g:as(Ad(s+n*(Pr(wi(e.g))-s))),b:as(Ad(r+n*(Pr(wi(e.b))-r))),a:t.a+n*(e.a-t.a)}}function hc(t,e,n){if(t){let i=vm(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=wm(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function SE(t,e){return t&&Object.assign(e||{},t)}function t0(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=as(t[3]))):(e=SE(t,{r:0,g:0,b:0,a:1}),e.a=as(e.a)),e}function nj(t){return t.charAt(0)==="r"?Zz(t):Yz(t)}class wu{constructor(e){if(e instanceof wu)return e;const n=typeof e;let i;n==="object"?i=t0(e):n==="string"&&(i=$z(e)||Qz(e)||nj(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=SE(this._rgb);return e&&(e.a=wi(e.a)),e}set rgb(e){this._rgb=t0(e)}rgbString(){return this._valid?ej(this._rgb):void 0}hexString(){return this._valid?Uz(this._rgb):void 0}hslString(){return this._valid?Gz(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=tj(this._rgb,e._rgb,n)),this}clone(){return new wu(this.rgb)}alpha(e){return this._rgb.a=as(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Nl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return hc(this._rgb,2,e),this}darken(e){return hc(this._rgb,2,-e),this}saturate(e){return hc(this._rgb,1,e),this}desaturate(e){return hc(this._rgb,1,-e),this}rotate(e){return Kz(this._rgb,e),this}}function CE(t){return new wu(t)}function IE(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function n0(t){return IE(t)?t:CE(t)}function Dd(t){return IE(t)?t:CE(t).saturate(.5).darken(.1).hexString()}const dr=Object.create(null),Zf=Object.create(null);function ka(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Rd(t,e,n){return typeof e=="string"?Xa(ka(t,e),n):Xa(ka(t,""),e)}class ij{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Dd(i.backgroundColor),this.hoverBorderColor=(n,i)=>Dd(i.borderColor),this.hoverColor=(n,i)=>Dd(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,n){return Rd(this,e,n)}get(e){return ka(this,e)}describe(e,n){return Rd(Zf,e,n)}override(e,n){return Rd(dr,e,n)}route(e,n,i,s){const r=ka(this,e),o=ka(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return Be(l)?Object.assign({},c,l):Oe(l,c)},set(l){this[a]=l}}})}}var Re=new ij({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function sj(t){return!t||Xe(t.size)||Xe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _u(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function rj(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&rt(h)!==!0)o=_u(t,s,r,o,h);else if(rt(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!rt(d)&&(o=_u(t,s,r,o,d));t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function Ms(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function i0(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function ep(t,e,n,i){PE(t,e,n,i,null)}function PE(t,e,n,i,s){let r,o,a,l,c,u;const h=e.pointStyle,d=e.rotation,f=e.radius;let p=(d||0)*Oz;if(h&&typeof h=="object"&&(r=h.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(p),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(f)||f<=0)){switch(t.beginPath(),h){default:s?t.ellipse(n,i,s/2,f,0,0,et):t.arc(n,i,f,0,et),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(p)*f,i-Math.cos(p)*f),p+=Yb,t.lineTo(n+Math.sin(p)*f,i-Math.cos(p)*f),p+=Yb,t.lineTo(n+Math.sin(p)*f,i-Math.cos(p)*f),t.closePath();break;case"rectRounded":c=f*.516,l=f-c,o=Math.cos(p+No)*l,a=Math.sin(p+No)*l,t.arc(n-o,i-a,c,p-ut,p-ft),t.arc(n+a,i-o,c,p-ft,p),t.arc(n+o,i+a,c,p,p+ft),t.arc(n-a,i+o,c,p+ft,p+ut),t.closePath();break;case"rect":if(!d){l=Math.SQRT1_2*f,u=s?s/2:l,t.rect(n-u,i-l,2*u,2*l);break}p+=No;case"rectRot":o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,i-a),t.lineTo(n+a,i-o),t.lineTo(n+o,i+a),t.lineTo(n-a,i+o),t.closePath();break;case"crossRot":p+=No;case"cross":o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o);break;case"star":o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o),p+=No,o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o);break;case"line":o=s?s/2:Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(p)*f,i+Math.sin(p)*f);break}t.fill(),e.borderWidth>0&&t.stroke()}}function Za(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function _m(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function xm(t){t.restore()}function oj(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function aj(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function fr(t,e,n,i,s,r={}){const o=rt(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,lj(t,r),l=0;l<o.length;++l)c=o[l],a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Xe(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),cj(t,n,i,c,r),i+=s.lineHeight;t.restore()}function lj(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Xe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cj(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function el(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-ft,ut,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,ut,ft,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,ft,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-ft,!0),t.lineTo(n+o.topLeft,i)}const uj=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),hj=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function dj(t,e){const n=(""+t).match(uj);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const fj=t=>+t||0;function Tm(t,e){const n={},i=Be(e),s=i?Object.keys(e):e,r=Be(t)?i?o=>Oe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=fj(r(o));return n}function OE(t){return Tm(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Js(t){return Tm(t,["topLeft","topRight","bottomLeft","bottomRight"])}function nn(t){const e=OE(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ct(t,e){t=t||{},e=e||Re.font;let n=Oe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Oe(t.style,e.style);i&&!(""+i).match(hj)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:Oe(t.family,e.family),lineHeight:dj(Oe(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Oe(t.weight,e.weight),string:""};return s.string=sj(s),s}function dc(t,e,n,i){let s=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),s=!1),n!==void 0&&rt(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function pj(t,e,n){const{min:i,max:s}=t,r=wE(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Ss(t,e){return Object.assign(Object.create(t),e)}function km(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Hs=(t,e,n)=>km(t,n,i=>t[i][e]<n),gj=(t,e,n)=>km(t,n,i=>t[i][e]>=n);function mj(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const ME=["push","pop","shift","splice","unshift"];function yj(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ME.forEach(n=>{const i="_onData"+mm(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function s0(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(ME.forEach(r=>{delete t[r]}),delete t._chartjs)}function AE(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}function Em(t,e=[""],n=t,i,s=()=>t[0]){Rn(i)||(i=LE("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:s,override:o=>Em([o,...t],e,n,i)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return RE(o,a,()=>Ej(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return o0(o).includes(a)},ownKeys(o){return o0(o)},set(o,a,l){const c=o._storage||(o._storage=s());return o[a]=c[a]=l,delete o._keys,!0}})}function mo(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:DE(t,i),setContext:r=>mo(t,r,n,i),override:r=>mo(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return RE(r,o,()=>bj(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function DE(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:bs(n)?n:()=>n,isIndexable:bs(i)?i:()=>i}}const vj=(t,e)=>t?t+mm(e):e,Sm=(t,e)=>Be(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function RE(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function bj(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return bs(a)&&o.isScriptable(e)&&(a=wj(e,a,t,n)),rt(a)&&a.length&&(a=_j(e,a,t,o.isIndexable)),Sm(e,a)&&(a=mo(a,s,r&&r[e],o)),a}function wj(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(r,o||i),a.delete(t),Sm(t,e)&&(e=Cm(s._scopes,s,t,e)),e}function _j(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(Rn(r.index)&&i(t))e=e[r.index%e.length];else if(Be(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=Cm(c,s,t,u);e.push(mo(h,r,o&&o[t],a))}}return e}function NE(t,e,n){return bs(t)?t(e,n):t}const xj=(t,e)=>t===!0?e:typeof t=="string"?vs(e,t):void 0;function Tj(t,e,n,i,s){for(const r of e){const o=xj(n,r);if(o){t.add(o);const a=NE(o._fallback,n,s);if(Rn(a)&&a!==n&&a!==i)return a}else if(o===!1&&Rn(i)&&n!==i)return null}return!1}function Cm(t,e,n,i){const s=e._rootScopes,r=NE(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=r0(a,o,n,r||n,i);return l===null||Rn(r)&&r!==n&&(l=r0(a,o,r,l,i),l===null)?!1:Em(Array.from(a),[""],s,r,()=>kj(e,n,i))}function r0(t,e,n,i,s){for(;n;)n=Tj(t,e,n,i,s);return n}function kj(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return rt(s)&&Be(n)?n:s}function Ej(t,e,n,i){let s;for(const r of e)if(s=LE(vj(r,t),n),Rn(s))return Sm(t,s)?Cm(n,i,t,s):s}function LE(t,e){for(const n of e){if(!n)continue;const i=n[t];if(Rn(i))return i}}function o0(t){let e=t._keys;return e||(e=t._keys=Sj(t._scopes)),e}function Sj(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function FE(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:s.parse(vs(u,r),c)};return o}const Cj=Number.EPSILON||1e-14,yo=(t,e)=>e<t.length&&!t[e].skip&&t[e],$E=t=>t==="x"?"y":"x";function Ij(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=Qf(r,s),l=Qf(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function Pj(t,e,n){const i=t.length;let s,r,o,a,l,c=yo(t,0);for(let u=0;u<i-1;++u)if(l=c,c=yo(t,u+1),!(!l||!c)){if(xa(e[u],0,Cj)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function Oj(t,e,n="x"){const i=$E(n),s=t.length;let r,o,a,l=yo(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=yo(t,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*e[c])}}function Mj(t,e="x"){const n=$E(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=yo(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=yo(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?ui(s[o-1])!==ui(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Pj(t,s,r),Oj(t,r,e)}function fc(t,e,n){return Math.max(Math.min(t,n),e)}function Aj(t,e){let n,i,s,r,o,a=Za(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&Za(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=fc(s.cp1x,e.left,e.right),s.cp1y=fc(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=fc(s.cp2x,e.left,e.right),s.cp2y=fc(s.cp2y,e.top,e.bottom)))}function Dj(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Mj(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=Ij(c,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Aj(t,n)}function BE(){return typeof window<"u"&&typeof document<"u"}function Im(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function xu(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Oh=t=>window.getComputedStyle(t,null);function Rj(t,e){return Oh(t).getPropertyValue(e)}const Nj=["top","right","bottom","left"];function Zs(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=Nj[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Lj=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Fj(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(Lj(s,r,t.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ns(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Oh(n),r=s.boxSizing==="border-box",o=Zs(s,"padding"),a=Zs(s,"border","width"),{x:l,y:c,box:u}=Fj(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function $j(t,e,n){let i,s;if(e===void 0||n===void 0){const r=Im(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Oh(r),l=Zs(a,"border","width"),c=Zs(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=xu(a.maxWidth,r,"clientWidth"),s=xu(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||bu,maxHeight:s||bu}}const Nd=t=>Math.round(t*10)/10;function Bj(t,e,n,i){const s=Oh(t),r=Zs(s,"margin"),o=xu(s.maxWidth,t,"clientWidth")||bu,a=xu(s.maxHeight,t,"clientHeight")||bu,l=$j(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const h=Zs(s,"border","width"),d=Zs(s,"padding");c-=d.width+h.width,u-=d.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?Math.floor(c/i):u-r.height),c=Nd(Math.min(c,o,l.maxWidth)),u=Nd(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Nd(c/2)),{width:c,height:u}}function a0(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=s/i,t.width=r/i;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Uj=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function l0(t,e){const n=Rj(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ls(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Vj(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function zj(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Ls(t,s,n),a=Ls(s,r,n),l=Ls(r,e,n),c=Ls(o,a,n),u=Ls(a,l,n);return Ls(c,u,n)}const c0=new Map;function jj(t,e){e=e||{};const n=t+JSON.stringify(e);let i=c0.get(n);return i||(i=new Intl.NumberFormat(t,e),c0.set(n,i)),i}function Ll(t,e,n){return jj(e,n).format(t)}const Hj=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},Wj=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Kr(t,e,n){return t?Hj(e,n):Wj()}function UE(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function VE(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function zE(t){return t==="angle"?{between:Ja,compare:Dz,normalize:$n}:{between:es,compare:(e,n)=>e-n,normalize:e=>e}}function u0({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function qj(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=zE(i),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][i]),s,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function Yj(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=zE(i),{start:u,end:h,loop:d,style:f}=qj(t,e,n),p=[];let y=!1,b=null,m,v,_;const k=()=>l(s,_,m)&&a(s,_)!==0,x=()=>a(r,m)===0||l(r,_,m),S=()=>y||k(),M=()=>!y||x();for(let C=u,O=u;C<=h;++C)v=e[C%o],!v.skip&&(m=c(v[i]),m!==_&&(y=l(m,s,r),b===null&&S()&&(b=a(m,s)===0?C:O),b!==null&&M()&&(p.push(u0({start:b,end:C,loop:d,count:o,style:f})),b=null),O=C,_=m));return b!==null&&p.push(u0({start:b,end:h,loop:d,count:o,style:f})),p}function Kj(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=Yj(i[s],t.points,e);r.length&&n.push(...r)}return n}function Gj(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function Xj(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function Qj(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=Gj(n,s,r,i);if(i===!0)return h0(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return h0(t,Xj(n,o,l,c),n,e)}function h0(t,e,n,i){return!i||!i.setContext||!n?e:Jj(t,e,n,i)}function Jj(t,e,n,i){const s=t._chart.getContext(),r=d0(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,h=e[0].start,d=h;function f(p,y,b,m){const v=a?-1:1;if(p!==y){for(p+=l;n[p%l].skip;)p-=v;for(;n[y%l].skip;)y+=v;p%l!==y%l&&(c.push({start:p%l,end:y%l,loop:b,style:m}),u=m,h=y%l)}}for(const p of e){h=a?h:p.start;let y=n[h%l],b;for(d=h+1;d<=p.end;d++){const m=n[d%l];b=d0(i.setContext(Ss(s,{type:"segment",p0:y,p1:m,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Zj(b,u)&&f(h,d-1,p.loop,u),y=m,u=b}h<d-1&&f(h,d-1,p.loop,u)}return c}function d0(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Zj(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.8.2
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class eH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=vE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var vi=new eH;const f0="transparent",tH={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=n0(t||f0),s=i.valid&&n0(e||f0);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class nH{constructor(e,n,i,s){const r=n[i];s=dc([e.to,s,r,e.from]);const o=dc([e.from,r,s]);this._active=!0,this._fn=e.fn||tH[e.type||typeof o],this._easing=Ta[e.easing]||Ta.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=dc([e.to,n,s,e.from]),this._from=dc([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}const iH=["x","y","borderWidth","radius","tension"],sH=["color","borderColor","backgroundColor"];Re.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const rH=Object.keys(Re.animation);Re.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});Re.set("animations",{colors:{type:"color",properties:sH},numbers:{type:"number",properties:iH}});Re.describe("animations",{_fallback:"animation"});Re.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class jE{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Be(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Be(s))return;const r={};for(const o of rH)r[o]=s[o];(rt(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,r)})})}_animateOptions(e,n){const i=n.options,s=aH(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&oH(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=h=new nH(d,e,c,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return vi.add(this._chart,i),!0}}function oH(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function aH(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function p0(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function lH(t,e,n){if(n===!1)return!1;const i=p0(t,n),s=p0(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function cH(t){let e,n,i,s;return Be(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function HE(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function g0(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=t.values[l],jt(c)&&(r||e===0||ui(e)===ui(c))&&(e+=c)}return e}}function uH(t){const e=Object.keys(t),n=new Array(e.length);let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function m0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function hH(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function dH(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function fH(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function y0(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function v0(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=hH(r,o,i),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:y,[c]:b}=p,m=p._stacks||(p._stacks={});d=m[c]=fH(s,u,y),d[a]=b,d._top=y0(d,o,!0,i.type),d._bottom=y0(d,o,!1,i.type)}}function Ld(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function pH(t,e){return Ss(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gH(t,e,n){return Ss(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Lo(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(!!i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n]}}}const Fd=t=>t==="reset"||t==="none",b0=(t,e)=>e?t:Object.assign({},t),mH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:HE(n,!0),values:null};class gi{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=m0(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Lo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,r=n.xAxisID=Oe(i.xAxisID,Ld(e,"x")),o=n.yAxisID=Oe(i.yAxisID,Ld(e,"y")),a=n.rAxisID=Oe(i.rAxisID,Ld(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&s0(this._data,this),e._stacked&&Lo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Be(n))this._data=uH(n);else if(i!==n){if(i){s0(i,this);const s=this._cachedMeta;Lo(s),s._parsed=[]}n&&Object.isExtensible(n)&&yj(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=m0(n.vScale,n),n.stack!==i.stack&&(s=!0,Lo(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&v0(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{rt(s[e])?d=this.parseArrayData(i,s,e,n):Be(s[e])?d=this.parseObjectData(i,s,e,n):d=this.parsePrimitiveData(i,s,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&v0(this,d)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let d,f,p;for(d=0,f=s;d<f;++d)p=d+i,h[d]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,d,f;for(u=0,h=s;u<h;++u)d=u+i,f=n[d],c[u]={x:r.parse(vs(f,a),d),y:o.parse(vs(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:HE(s,!0),values:n._stacks[e.axis]};return g0(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=g0(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=mH(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=dH(a);let d,f;function p(){f=s[d];const y=f[a.axis];return!jt(f[e.axis])||u>y||h<y}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],jt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=cH(Oe(this.options.clip,lH(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=gH(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=pH(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&Rn(i);if(a)return b0(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Re.elements[e]),p=()=>this.getContext(i,s),y=c.resolveNamedOptions(d,f,p,h);return y.$shared&&(y.$shared=l,r[o]=Object.freeze(b0(y,l))),y}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,n))}const c=new jE(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Fd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Fd(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Fd(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Lo(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}gi.defaults={};gi.prototype.datasetElementType=null;gi.prototype.dataElementType=null;function yH(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=AE(i.sort((s,r)=>s-r))}return t._cache.$bar}function vH(t){const e=t.iScale,n=yH(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(Rn(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function bH(t,e,n,i){const s=n.barThickness;let r,o;return Xe(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function wH(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function _H(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function WE(t,e,n,i){return rt(t)?_H(t,e,n,i):e[n.axis]=n.parse(t,i),e}function w0(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(WE(d,h,r,c));return l}function $d(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function xH(t,e,n){return t!==0?ui(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function TH(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function kH(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}const{start:o,end:a,reverse:l,top:c,bottom:u}=TH(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[_0(u,o,a,l)]=!0,s=c)),r[_0(s,o,a,l)]=!0,t.borderSkipped=r}function _0(t,e,n,i){return i?(t=EH(t,e,n),t=x0(t,n,e)):t=x0(t,e,n),t}function EH(t,e,n){return t===e?n:t===n?e:t}function x0(t,e,n){return t==="start"?e:t==="end"?n:t}function SH(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Pm extends gi{parsePrimitiveData(e,n,i,s){return w0(e,n,i,s)}parseArrayData(e,n,i,s){return w0(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,y;for(d=i,f=i+s;d<f;++d)y=n[d],p={},p[r.axis]=r.parse(vs(y,c),d),h.push(WE(vs(y,u),p,o,d));return h}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=$d(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s);for(let f=n;f<n+i;f++){const p=this.getParsed(f),y=r||Xe(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),b=this._calculateBarIndexPixels(f,u),m=(p._stacks||{})[a.axis],v={horizontal:c,base:y.base,enableBorderRadius:!m||$d(p._custom)||o===m._top||o===m._bottom,x:c?y.head:b.center,y:c?b.center:y.head,height:c?b.size:Math.abs(y.size),width:c?Math.abs(y.size):b.size};d&&(v.options=h||this.resolveDataElementOptions(f,e[f].active?"active":s));const _=v.options||e[f].options;kH(v,_,m,o),SH(v,_,u.ratio),this.updateElement(e[f],f,v,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(Xe(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||vH(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i},options:{base:s,minBarLength:r}}=this,o=s||0,a=this.getParsed(e),l=a._custom,c=$d(l);let u=a[n.axis],h=0,d=i?this.applyStack(n,a,i):u,f,p;d!==u&&(h=d-u,d=u),c&&(u=l.barStart,d=l.barEnd-l.barStart,u!==0&&ui(u)!==ui(l.barEnd)&&(h=0),h+=u);const y=!Xe(s)&&!c?s:h;let b=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?f=n.getPixelForValue(h+d):f=b,p=f-b,Math.abs(p)<r){p=xH(p,n,o)*r,u===o&&(b-=p/2);const m=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),_=Math.min(m,v),k=Math.max(m,v);b=Math.max(Math.min(b,k),_),f=b+p}if(b===n.getPixelForValue(o)){const m=ui(p)*n.getLineWidthForValue(o)/2;b+=m,p-=m}return{size:p,base:b,head:f,center:f+p/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=Oe(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?wH(e,n,s,c):bH(e,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}Pm.id="bar";Pm.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Pm.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Om extends gi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=Oe(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=Oe(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:i,yScale:s}=n,r=this.getParsed(e),o=i.getLabelForValue(r.x),a=s.getLabelForValue(r.y),l=r._custom;return{label:n.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=e[d],p=!r&&this.getParsed(d),y={},b=y[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),m=y[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);y.skip=isNaN(b)||isNaN(m),c&&(y.options=l||this.resolveDataElementOptions(d,f.active?"active":s),r&&(y.options.radius=0)),this.updateElement(f,d,y,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Oe(i&&i._custom,r),s}}Om.id="bubble";Om.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Om.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function CH(t,e,n){let i=1,s=1,r=0,o=0;if(e<et){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(_,k,x)=>Ja(_,a,l,!0)?1:Math.max(k,k*n,x,x*n),p=(_,k,x)=>Ja(_,a,l,!0)?-1:Math.min(k,k*n,x,x*n),y=f(0,c,h),b=f(ft,u,d),m=p(ut,c,h),v=p(ut+ft,u,d);i=(y-m)/2,s=(b-v)/2,r=-(y+m)/2,o=-(b+v)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Fl extends gi{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(Be(i[e])){const{key:l="value"}=this._parsing;r=c=>+vs(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return Un(this.options.rotation-90)}_getCircumference(){return Un(this.options.circumference)}_getRotationExtents(){let e=et,n=-et;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(Tz(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:y}=CH(h,u,l),b=(i.width-o)/d,m=(i.height-o)/f,v=Math.max(Math.min(b,m)/2,0),_=wE(this.options.radius,v),k=Math.max(_*l,0),x=(_-k)/this._getVisibleDatasetWeightTotal();this.offsetX=p*_,this.offsetY=y*_,s.total=this.calculateTotal(),this.outerRadius=_-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/et)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(n,s);let m=this._getRotation(),v;for(v=0;v<n;++v)m+=this._circumference(v,r);for(v=n;v<n+i;++v){const _=this._circumference(v,r),k=e[v],x={x:u+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+_,circumference:_,outerRadius:p,innerRadius:f};b&&(x.options=y||this.resolveDataElementOptions(v,k.active?"active":s)),m+=_,this.updateElement(k,v,x,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?et*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Ll(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Fl.id="doughnut";Fl.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Fl.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};Fl.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,s)=>{const o=t.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return rt(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class $l extends gi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=IH(n,s,o);this._drawStart=a,this._drawCount=l,PH(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),d=o.axis,f=a.axis,{spanGaps:p,segment:y}=this.options,b=Qa(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||s==="none";let v=n>0&&this.getParsed(n-1);for(let _=n;_<n+i;++_){const k=e[_],x=this.getParsed(_),S=m?k:{},M=Xe(x[f]),C=S[d]=o.getPixelForValue(x[d],_),O=S[f]=r||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[f],_);S.skip=isNaN(C)||isNaN(O)||M,S.stop=_>0&&Math.abs(x[d]-v[d])>b,y&&(S.parsed=x,S.raw=c.data[_]),h&&(S.options=u||this.resolveDataElementOptions(_,k.active?"active":s)),m||this.updateElement(k,_,S,s),v=x}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$l.id="line";$l.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};$l.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function IH(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(s=Qt(Math.min(Hs(a,o.axis,c).lo,n?i:Hs(e,l,o.getPixelForValue(c)).lo),0,i-1)),d?r=Qt(Math.max(Hs(a,o.axis,u).hi+1,n?0:Hs(e,l,o.getPixelForValue(u)).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function PH(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}class Mm extends gi{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Ll(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return FE.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*ut;let f=d,p;const y=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,s,y);for(p=n;p<n+i;p++){const b=e[p];let m=f,v=f+this._computeAngle(p,s,y),_=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=v,r&&(l.animateScale&&(_=0),l.animateRotate&&(m=v=d));const k={x:u,y:h,innerRadius:0,outerRadius:_,startAngle:m,endAngle:v,options:this.resolveDataElementOptions(p,b.active?"active":s)};this.updateElement(b,p,k,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Un(this.resolveDataElementOptions(e,n).angle||i):0}}Mm.id="polarArea";Mm.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Mm.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,s)=>{const o=t.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Am extends Fl{}Am.id="pie";Am.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Dm extends gi{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return FE.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,s)}}}Dm.id="radar";Dm.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Dm.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Rm extends $l{}Rm.id="scatter";Rm.defaults={showLine:!1,fill:!1};Rm.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function As(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tp{constructor(e){this.options=e||{}}formats(){return As()}parse(e,n){return As()}format(e,n){return As()}add(e,n,i){return As()}diff(e,n,i){return As()}startOf(e,n,i){return As()}endOf(e,n){return As()}}tp.override=function(t){Object.assign(tp.prototype,t)};var qE={_date:tp};function OH(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?gj:Hs;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(r,e,n-u),d=l(r,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Bl(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=OH(r[a],e,o,s);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function MH(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Bd(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||Bl(t,n,e,function(a,l,c){!s&&!Za(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function AH(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=TE(o,{x:e.x,y:e.y});Ja(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Bl(t,n,e,r),s}function DH(t,e,n,i,s,r){let o=[];const a=MH(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,s);if(i&&!f)return;const p=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!f)return;const b=a(e,p);b<l?(o=[{element:u,datasetIndex:h,index:d}],l=b):b===l&&o.push({element:u,datasetIndex:h,index:d})}return Bl(t,n,e,c),o}function Ud(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?AH(t,e,n,s):DH(t,e,n,i,s,r)}function T0(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Bl(t,n,e,(l,c,u)=>{l[o](e[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var RH={evaluateInteractionItems:Bl,modes:{index(t,e,n,i){const s=Ns(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Bd(t,s,r,i,o):Ud(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const s=Ns(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Bd(t,s,r,i,o):Ud(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const s=Ns(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Bd(t,s,r,i,o)},nearest(t,e,n,i){const s=Ns(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Ud(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=Ns(e,t);return T0(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=Ns(e,t);return T0(t,s,"y",n.intersect,i)}}};const YE=["left","top","right","bottom"];function Fo(t,e){return t.filter(n=>n.pos===e)}function k0(t,e){return t.filter(n=>YE.indexOf(n.pos)===-1&&n.box.axis===e)}function $o(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function NH(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function LH(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!YE.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function FH(t,e){const n=LH(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&e.availableHeight)}return n}function $H(t){const e=NH(t),n=$o(e.filter(c=>c.box.fullSize),!0),i=$o(Fo(e,"left"),!0),s=$o(Fo(e,"right")),r=$o(Fo(e,"top"),!0),o=$o(Fo(e,"bottom")),a=k0(e,"x"),l=k0(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Fo(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function E0(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function KE(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function BH(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!Be(s)){n.size&&(t[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[s]+=n.size}r.getPadding&&KE(o,r.getPadding());const a=Math.max(0,e.outerWidth-E0(o,t,"left","right")),l=Math.max(0,e.outerHeight-E0(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function UH(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function VH(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Jo(t,e,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,VH(a.horizontal,e));const{same:h,other:d}=BH(e,n,a,i);c|=h&&s.length,u=u||d,l.fullSize||s.push(a)}return c&&Jo(s,e,n,i)||u}function pc(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function S0(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;Rn(c.start)&&(o=c.start),l.fullSize?pc(l,s.left,o,n.outerWidth-s.right-s.left,d):pc(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;Rn(c.start)&&(r=c.start),l.fullSize?pc(l,r,s.top,d,n.outerHeight-s.bottom-s.top):pc(l,r,e.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}Re.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var On={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=nn(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=$H(t.boxes),l=a.vertical,c=a.horizontal;Ge(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},s);KE(d,nn(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),p=FH(l.concat(c),h);Jo(a.fullSize,f,h,p),Jo(l,f,h,p),Jo(c,f,h,p)&&Jo(l,f,h,p),UH(f),S0(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,S0(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ge(a.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class GE{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class zH extends GE{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Dc="$chartjs",jH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},C0=t=>t===null||t==="";function HH(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Dc]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",C0(s)){const r=l0(t,"width");r!==void 0&&(t.width=r)}if(C0(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=l0(t,"height");r!==void 0&&(t.height=r)}return t}const XE=Uj?{passive:!0}:!1;function WH(t,e,n){t.addEventListener(e,n,XE)}function qH(t,e,n){t.canvas.removeEventListener(e,n,XE)}function YH(t,e){const n=jH[t.type]||t.type,{x:i,y:s}=Ns(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Tu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function KH(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Tu(a.addedNodes,i),o=o&&!Tu(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function GH(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Tu(a.removedNodes,i),o=o&&!Tu(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const tl=new Map;let I0=0;function QE(){const t=window.devicePixelRatio;t!==I0&&(I0=t,tl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function XH(t,e){tl.size||window.addEventListener("resize",QE),tl.set(t,e)}function QH(t){tl.delete(t),tl.size||window.removeEventListener("resize",QE)}function JH(t,e,n){const i=t.canvas,s=i&&Im(i);if(!s)return;const r=bE((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),XH(t,r),o}function Vd(t,e,n){n&&n.disconnect(),e==="resize"&&QH(t)}function ZH(t,e,n){const i=t.canvas,s=bE(r=>{t.ctx!==null&&n(YH(r,t))},t,r=>{const o=r[0];return[o,o.offsetX,o.offsetY]});return WH(i,e,s),s}class eW extends GE{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(HH(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Dc])return!1;const i=n[Dc].initial;["height","width"].forEach(r=>{const o=i[r];Xe(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Dc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:KH,detach:GH,resize:JH}[n]||ZH;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Vd,detach:Vd,resize:Vd}[n]||qH)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return Bj(e,n,i,s)}isAttached(e){const n=Im(e);return!!(n&&n.isConnected)}}function tW(t){return!BE()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?zH:eW}class qn{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Qa(this.x)&&Qa(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}qn.defaults={};qn.defaultRoutes=void 0;const JE={values(t){return rt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=nW(t,n)}const o=Pn(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ll(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=t/Math.pow(10,Math.floor(Pn(t)));return i===1||i===2||i===5?JE.numeric.call(this,t,e,n):""}};function nW(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Mh={formatters:JE};Re.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Mh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});Re.route("scale.ticks","color","","color");Re.route("scale.grid","color","","borderColor");Re.route("scale.grid","borderColor","","borderColor");Re.route("scale.title","color","","color");Re.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});Re.describe("scales",{_fallback:"scale"});Re.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function iW(t,e){const n=t.options.ticks,i=n.maxTicksLimit||sW(t),s=n.major.enabled?oW(e):[],r=s.length,o=s[0],a=s[r-1],l=[];if(r>i)return aW(e,l,s,r/i),l;const c=rW(s,e,i);if(r>0){let u,h;const d=r>1?Math.round((a-o)/(r-1)):null;for(gc(e,l,c,Xe(d)?0:o-d,o),u=0,h=r-1;u<h;u++)gc(e,l,c,s[u],s[u+1]);return gc(e,l,c,a,Xe(d)?e.length:a+d),l}return gc(e,l,c),l}function sW(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function rW(t,e,n){const i=lW(t),s=e.length/n;if(!i)return Math.max(s,1);const r=Mz(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function oW(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function aW(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function gc(t,e,n,i,s){const r=Oe(i,0),o=Math.min(Oe(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function lW(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const cW=t=>t==="left"?"right":t==="right"?"left":t,P0=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function O0(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function uW(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function hW(t,e){Ge(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Bo(t){return t.drawTicks?t.tickLength:0}function M0(t,e){if(!t.display)return 0;const n=Ct(t.font,e),i=nn(t.padding);return(rt(t.text)?t.text.length:1)*n.lineHeight+i.height}function dW(t,e){return Ss(t,{scale:e,type:"scale"})}function fW(t,e,n){return Ss(t,{tick:n,index:e,type:"tick"})}function pW(t,e,n){let i=gm(t);return(n&&e!=="right"||!n&&e==="right")&&(i=cW(i)),i}function gW(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,p;const y=o-s,b=a-r;if(t.isHorizontal()){if(f=Yt(i,r,a),Be(n)){const m=Object.keys(n)[0],v=n[m];p=u[m].getPixelForValue(v)+y-e}else n==="center"?p=(c.bottom+c.top)/2+y-e:p=P0(t,n,e);d=a-r}else{if(Be(n)){const m=Object.keys(n)[0],v=n[m];f=u[m].getPixelForValue(v)-b+e}else n==="center"?f=(c.left+c.right)/2-b+e:f=P0(t,n,e);p=Yt(i,o,s),h=n==="left"?-ft:ft}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class Tr extends qn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Cn(e,Number.POSITIVE_INFINITY),n=Cn(n,Number.NEGATIVE_INFINITY),i=Cn(i,Number.POSITIVE_INFINITY),s=Cn(s,Number.NEGATIVE_INFINITY),{min:Cn(e,i),max:Cn(n,s),minDefined:jt(e),maxDefined:jt(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Cn(n,Cn(i,n)),max:Cn(i,Cn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pj(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?O0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=iW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tt(this.options.afterUpdate,[this])}beforeSetDimensions(){tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=tt(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=this.ticks.length,s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Qt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-Bo(e.grid)-n.padding-M0(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=ym(Math.min(Math.asin(Qt((u.highest.height+6)/a,-1,1)),Math.asin(Qt(l/c,-1,1))-Math.asin(Qt(d/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=M0(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=Bo(r)+l):(e.height=this.maxHeight,e.width=Bo(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=Un(this.labelRotation),y=Math.cos(p),b=Math.sin(p);if(a){const m=i.mirror?0:b*h.width+y*d.height;e.height=Math.min(this.maxHeight,e.height+m+f)}else{const m=i.mirror?0:y*h.width+b*d.height;e.width=Math.min(this.maxWidth,e.width+m+f)}this._calculatePadding(c,u,b,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=s*e.width,f=i*n.height):(d=i*e.height,f=s*n.width):r==="start"?f=n.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Xe(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=O0(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,n){const{ctx:i,_longestTextCache:s}=this,r=[],o=[];let a=0,l=0,c,u,h,d,f,p,y,b,m,v,_;for(c=0;c<n;++c){if(d=e[c].label,f=this._resolveTickFontOptions(c),i.font=p=f.string,y=s[p]=s[p]||{data:{},gc:[]},b=f.lineHeight,m=v=0,!Xe(d)&&!rt(d))m=_u(i,y.data,y.gc,m,d),v=b;else if(rt(d))for(u=0,h=d.length;u<h;++u)_=d[u],!Xe(_)&&!rt(_)&&(m=_u(i,y.data,y.gc,m,_),v+=b);r.push(m),o.push(v),a=Math.max(m,a),l=Math.max(v,l)}hW(s,n);const k=r.indexOf(a),x=o.indexOf(l),S=M=>({width:r[M]||0,height:o[M]||0});return{first:S(0),last:S(n-1),widest:S(k),highest:S(x),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Rz(this._alignToPixels?Ms(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=fW(this.getContext(),e,i))}return this.$context||(this.$context=dW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Un(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o}=s,a=r.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),h=Bo(r),d=[],f=r.setContext(this.getContext()),p=f.drawBorder?f.borderWidth:0,y=p/2,b=function(A){return Ms(i,A,p)};let m,v,_,k,x,S,M,C,O,L,j,F;if(o==="top")m=b(this.bottom),S=this.bottom-h,C=m-y,L=b(e.top)+y,F=e.bottom;else if(o==="bottom")m=b(this.top),L=e.top,F=b(e.bottom)-y,S=m+y,C=this.top+h;else if(o==="left")m=b(this.right),x=this.right-h,M=m-y,O=b(e.left)+y,j=e.right;else if(o==="right")m=b(this.left),O=e.left,j=b(e.right)-y,x=m+y,M=this.left+h;else if(n==="x"){if(o==="center")m=b((e.top+e.bottom)/2+.5);else if(Be(o)){const A=Object.keys(o)[0],$=o[A];m=b(this.chart.scales[A].getPixelForValue($))}L=e.top,F=e.bottom,S=m+y,C=S+h}else if(n==="y"){if(o==="center")m=b((e.left+e.right)/2);else if(Be(o)){const A=Object.keys(o)[0],$=o[A];m=b(this.chart.scales[A].getPixelForValue($))}x=m-y,M=x-h,O=e.left,j=e.right}const U=Oe(s.ticks.maxTicksLimit,u),P=Math.max(1,Math.ceil(u/U));for(v=0;v<u;v+=P){const A=r.setContext(this.getContext(v)),$=A.lineWidth,V=A.color,Q=r.borderDash||[],ne=A.borderDashOffset,pe=A.tickWidth,Te=A.tickColor,we=A.tickBorderDash||[],Ie=A.tickBorderDashOffset;_=uW(this,v,a),_!==void 0&&(k=Ms(i,_,$),l?x=M=O=j=k:S=C=L=F=k,d.push({tx1:x,ty1:S,tx2:M,ty2:C,x1:O,y1:L,x2:j,y2:F,width:$,color:V,borderDash:Q,borderDashOffset:ne,tickWidth:pe,tickColor:Te,tickBorderDash:we,tickBorderDashOffset:Ie}))}return this._ticksLength=u,this._borderValue=m,d}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=Bo(i.grid),f=d+u,p=h?-u:f,y=-Un(this.labelRotation),b=[];let m,v,_,k,x,S,M,C,O,L,j,F,U="middle";if(s==="top")S=this.bottom-p,M=this._getXAxisLabelAlignment();else if(s==="bottom")S=this.top+p,M=this._getXAxisLabelAlignment();else if(s==="left"){const A=this._getYAxisLabelAlignment(d);M=A.textAlign,x=A.x}else if(s==="right"){const A=this._getYAxisLabelAlignment(d);M=A.textAlign,x=A.x}else if(n==="x"){if(s==="center")S=(e.top+e.bottom)/2+f;else if(Be(s)){const A=Object.keys(s)[0],$=s[A];S=this.chart.scales[A].getPixelForValue($)+f}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")x=(e.left+e.right)/2-f;else if(Be(s)){const A=Object.keys(s)[0],$=s[A];x=this.chart.scales[A].getPixelForValue($)}M=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?U="top":l==="end"&&(U="bottom"));const P=this._getLabelSizes();for(m=0,v=a.length;m<v;++m){_=a[m],k=_.label;const A=r.setContext(this.getContext(m));C=this.getPixelForTick(m)+r.labelOffset,O=this._resolveTickFontOptions(m),L=O.lineHeight,j=rt(k)?k.length:1;const $=j/2,V=A.color,Q=A.textStrokeColor,ne=A.textStrokeWidth;let pe=M;o?(x=C,M==="inner"&&(m===v-1?pe=this.options.reverse?"left":"right":m===0?pe=this.options.reverse?"right":"left":pe="center"),s==="top"?c==="near"||y!==0?F=-j*L+L/2:c==="center"?F=-P.highest.height/2-$*L+L:F=-P.highest.height+L/2:c==="near"||y!==0?F=L/2:c==="center"?F=P.highest.height/2-$*L:F=P.highest.height-j*L,h&&(F*=-1)):(S=C,F=(1-j)*L/2);let Te;if(A.showLabelBackdrop){const we=nn(A.backdropPadding),Ie=P.heights[m],it=P.widths[m];let I=S+F-we.top,K=x-we.left;switch(U){case"middle":I-=Ie/2;break;case"bottom":I-=Ie;break}switch(M){case"center":K-=it/2;break;case"right":K-=it;break}Te={left:K,top:I,width:it+we.width,height:Ie+we.height,color:A.backdropColor}}b.push({rotation:y,label:k,font:O,color:V,strokeColor:Q,strokeWidth:ne,textOffset:F,textAlign:pe,textBaseline:U,translation:[x,S],backdrop:Te})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Un(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:i}}=this,s=i.setContext(this.getContext()),r=i.drawBorder?s.borderWidth:0;if(!r)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Ms(e,this.left,r)-r/2,c=Ms(e,this.right,o)+o/2,u=h=a):(u=Ms(e,this.top,r)-r/2,h=Ms(e,this.bottom,o)+o/2,l=c=a),n.save(),n.lineWidth=s.borderWidth,n.strokeStyle=s.borderColor,n.beginPath(),n.moveTo(l,u),n.lineTo(c,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&_m(i,s);const r=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o],c=l.font,u=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let h=l.textOffset;fr(i,u,0,h,c,l)}s&&xm(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Ct(i.font),o=nn(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Be(n)?(l+=o.bottom,rt(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=gW(this,l,n,a);fr(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:pW(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Oe(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Tr.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ct(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class mc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;vW(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,mW(e,o,i),this.override&&Re.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in Re[s]&&(delete Re[s][i],this.override&&delete dr[i])}}function mW(t,e,n){const i=Xa(Object.create(null),[n?Re.get(n):{},Re.get(e),t.defaults]);Re.set(e,i),t.defaultRoutes&&yW(e,t.defaultRoutes),t.descriptors&&Re.describe(e,t.descriptors)}function yW(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Re.route(r,s,l,a)})}function vW(t){return"id"in t&&"defaults"in t}class bW{constructor(){this.controllers=new mc(gi,"datasets",!0),this.elements=new mc(qn,"elements"),this.plugins=new mc(Object,"plugins"),this.scales=new mc(Tr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Ge(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=mm(e);tt(i["before"+s],[],i),n[e](i),tt(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Si=new bW;class wW{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(tt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Xe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=Oe(i.options&&i.options.plugins,{}),r=_W(i);return s===!1&&!n?[]:TW(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function _W(t){const e={},n=[],i=Object.keys(Si.plugins.items);for(let r=0;r<i.length;r++)n.push(Si.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function xW(t,e){return!e&&t===!1?null:t===!0?{}:t}function TW(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=xW(i[l],s);c!==null&&r.push({plugin:a,options:kW(t.config,{plugin:a,local:n[l]},c,o)})}return r}function kW(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function np(t,e){const n=Re.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function EW(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function SW(t,e){return t===e?"_index_":"_value_"}function CW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ip(t,e){return t==="x"||t==="y"?t:e.axis||CW(e.position)||t.charAt(0).toLowerCase()}function IW(t,e){const n=dr[t.type]||{scales:{}},i=e.scales||{},s=np(t.type,e),r=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Be(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=ip(a,l),u=SW(c,s),h=n.scales||{};r[c]=r[c]||a,o[a]=_a(Object.create(null),[{axis:c},l,h[c],h[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||np(l,e),h=(dr[l]||{}).scales||{};Object.keys(h).forEach(d=>{const f=EW(d,c),p=a[f+"AxisID"]||r[f]||f;o[p]=o[p]||Object.create(null),_a(o[p],[{axis:f},i[p],h[d]])})}),Object.keys(o).forEach(a=>{const l=o[a];_a(l,[Re.scales[l.type],Re.scale])}),o}function ZE(t){const e=t.options||(t.options={});e.plugins=Oe(e.plugins,{}),e.scales=IW(t,e)}function eS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function PW(t){return t=t||{},t.data=eS(t.data),ZE(t),t}const A0=new Map,tS=new Set;function yc(t,e){let n=A0.get(t);return n||(n=e(),A0.set(t,n),tS.add(n)),n}const Uo=(t,e,n)=>{const i=vs(e,n);i!==void 0&&t.add(i)};class OW{constructor(e){this._config=PW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=eS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ZE(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return yc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return yc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return yc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return yc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Uo(l,e,h))),u.forEach(h=>Uo(l,s,h)),u.forEach(h=>Uo(l,dr[r]||{},h)),u.forEach(h=>Uo(l,Re,h)),u.forEach(h=>Uo(l,Zf,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),tS.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,dr[n]||{},Re.datasets[n]||{},{type:n},Re,Zf]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=D0(this._resolverCache,e,s);let l=o;if(AW(o,n)){r.$shared=!1,i=bs(i)?i():i;const c=this.createResolver(e,i,a);l=mo(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=D0(this._resolverCache,e,i);return Be(n)?mo(r,n,void 0,s):r}}function D0(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Em(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const MW=t=>Be(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||bs(t[n]),!1);function AW(t,e){const{isScriptable:n,isIndexable:i}=DE(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(bs(a)||MW(a))||o&&rt(a))return!0}return!1}var DW="3.8.2";const RW=["top","bottom","left","right","chartArea"];function R0(t,e){return t==="top"||t==="bottom"||RW.indexOf(t)===-1&&e==="x"}function N0(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function L0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),tt(n&&n.onComplete,[t],e)}function NW(t){const e=t.chart,n=e.options.animation;tt(n&&n.onProgress,[t],e)}function nS(t){return BE()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ku={},iS=t=>{const e=nS(t);return Object.values(ku).filter(n=>n.canvas===e).pop()};function LW(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function FW(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}class Ul{constructor(e,n){const i=this.config=new OW(n),s=nS(e),r=iS(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||tW(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=xz(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wz(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],ku[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}vi.listen(this,"complete",L0),vi.listen(this,"progress",NW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Xe(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():a0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return i0(this.canvas,this.ctx),this}stop(){return vi.stop(this),this}resize(e,n){vi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,a0(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),tt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ge(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=ip(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ge(r,o=>{const a=o.options,l=a.id,c=ip(l,a),u=Oe(a.type,o.dtype);(a.position===void 0||R0(a.position,c)!==R0(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Si.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),Ge(s,(o,a)=>{o||delete i[a]}),Ge(i,o=>{On.configure(this,o,o.options),On.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(N0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||np(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Si.getController(a),{datasetElementType:c,dataElementType:u}=Re.datasets[a];Object.assign(l.prototype,{dataElementType:Si.getElement(u),datasetElementType:c&&Si.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ge(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Ge(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(N0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ge(this.scales,e=>{On.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!qb(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;LW(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!qb(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;On.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ge(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,bs(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vi.has(this)?this.attached&&!vi.running(this)&&vi.start(this):(this.draw(),L0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&_m(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&xm(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Za(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=RH.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ss(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);Rn(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),vi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),i0(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete ku[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ge(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ge(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ge(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!yu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=Iz(e),c=FW(e,this._lastEvent,i,l);i&&(this._lastEvent=null,tt(r.onHover,[e,a,this],this),l&&tt(r.onClick,[e,a,this],this));const u=!yu(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}const F0=()=>Ge(Ul.instances,t=>t._plugins.invalidate()),zi=!0;Object.defineProperties(Ul,{defaults:{enumerable:zi,value:Re},instances:{enumerable:zi,value:ku},overrides:{enumerable:zi,value:dr},registry:{enumerable:zi,value:Si},version:{enumerable:zi,value:DW},getChart:{enumerable:zi,value:iS},register:{enumerable:zi,value:(...t)=>{Si.add(...t),F0()}},unregister:{enumerable:zi,value:(...t)=>{Si.remove(...t),F0()}}});function sS(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(r,o,a,i-c,n+c),l>s?(c=s/l,t.arc(r,o,l,n+c,i-c,!0)):t.arc(r,o,s,n+ft,i-ft),t.closePath(),t.clip()}function $W(t){return Tm(t,["outerStart","outerEnd","innerStart","innerEnd"])}function BW(t,e,n,i){const s=$W(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return Qt(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Qt(s.innerStart,0,o),innerEnd:Qt(s.innerEnd,0,o)}}function Or(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function sp(t,e,n,i,s){const{x:r,y:o,startAngle:a,pixelMargin:l,innerRadius:c}=e,u=Math.max(e.outerRadius+i+n-l,0),h=c>0?c+i+n+l:0;let d=0;const f=s-a;if(i){const $=c>0?c-i:0,V=u>0?u-i:0,Q=($+V)/2,ne=Q!==0?f*Q/(Q+i):f;d=(f-ne)/2}const p=Math.max(.001,f*u-n/ut)/u,y=(f-p)/2,b=a+y+d,m=s-y-d,{outerStart:v,outerEnd:_,innerStart:k,innerEnd:x}=BW(e,h,u,m-b),S=u-v,M=u-_,C=b+v/S,O=m-_/M,L=h+k,j=h+x,F=b+k/L,U=m-x/j;if(t.beginPath(),t.arc(r,o,u,C,O),_>0){const $=Or(M,O,r,o);t.arc($.x,$.y,_,O,m+ft)}const P=Or(j,m,r,o);if(t.lineTo(P.x,P.y),x>0){const $=Or(j,U,r,o);t.arc($.x,$.y,x,m+ft,U+Math.PI)}if(t.arc(r,o,h,m-x/h,b+k/h,!0),k>0){const $=Or(L,F,r,o);t.arc($.x,$.y,k,F+Math.PI,b-ft)}const A=Or(S,b,r,o);if(t.lineTo(A.x,A.y),v>0){const $=Or(S,C,r,o);t.arc($.x,$.y,v,b-ft,C)}t.closePath()}function UW(t,e,n,i){const{fullCircles:s,startAngle:r,circumference:o}=e;let a=e.endAngle;if(s){sp(t,e,n,i,r+et);for(let l=0;l<s;++l)t.fill();isNaN(o)||(a=r+o%et,o%et===0&&(a+=et))}return sp(t,e,n,i,a),t.fill(),a}function VW(t,e,n){const{x:i,y:s,startAngle:r,pixelMargin:o,fullCircles:a}=e,l=Math.max(e.outerRadius-o,0),c=e.innerRadius+o;let u;for(n&&sS(t,e,r+et),t.beginPath(),t.arc(i,s,c,r+et,r,!0),u=0;u<a;++u)t.stroke();for(t.beginPath(),t.arc(i,s,l,r,r+et),u=0;u<a;++u)t.stroke()}function zW(t,e,n,i,s){const{options:r}=e,{borderWidth:o,borderJoinStyle:a}=r,l=r.borderAlign==="inner";!o||(l?(t.lineWidth=o*2,t.lineJoin=a||"round"):(t.lineWidth=o,t.lineJoin=a||"bevel"),e.fullCircles&&VW(t,e,l),l&&sS(t,e,s),sp(t,e,n,i,s),t.stroke())}class Ah extends qn{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=TE(s,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=this.options.spacing/2,p=Oe(h,l-a)>=et||Ja(r,a,l),y=es(o,c+d,u+d);return p&&y}getCenterPoint(e){const{x:n,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(s+r)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,s=(n.offset||0)/2,r=(n.spacing||0)/2;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>et?Math.floor(i/et):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(s){o=s/2;const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*o,Math.sin(l)*o),this.circumference>=ut&&(o=s)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const a=UW(e,this,o,r);zW(e,this,o,r,a),e.restore()}}Ah.id="arc";Ah.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};Ah.defaultRoutes={backgroundColor:"backgroundColor"};function rS(t,e,n=e){t.lineCap=Oe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Oe(n.borderDash,e.borderDash)),t.lineDashOffset=Oe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Oe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Oe(n.borderWidth,e.borderWidth),t.strokeStyle=Oe(n.borderColor,e.borderColor)}function jW(t,e,n){t.lineTo(n.x,n.y)}function HW(t){return t.stepped?oj:t.tension||t.cubicInterpolationMode==="monotone"?aj:jW}function oS(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function WW(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=oS(s,n,i),u=HW(r);let{move:h=!0,reverse:d}=i||{},f,p,y;for(f=0;f<=c;++f)p=s[(a+(d?c-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,y,p,d,r.stepped),y=p);return l&&(p=s[(a+(d?c:0))%o],u(t,y,p,d,r.stepped)),!!l}function qW(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=oS(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,y,b,m;const v=k=>(o+(c?a-k:k))%r,_=()=>{y!==b&&(t.lineTo(u,b),t.lineTo(u,y),t.lineTo(u,m))};for(l&&(f=s[v(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=s[v(d)],f.skip)continue;const k=f.x,x=f.y,S=k|0;S===p?(x<y?y=x:x>b&&(b=x),u=(h*u+k)/++h):(_(),t.lineTo(k,x),p=S,h=0,y=b=x),m=x}_()}function rp(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?qW:WW}function YW(t){return t.stepped?Vj:t.tension||t.cubicInterpolationMode==="monotone"?zj:Ls}function KW(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),rS(t,e.options),t.stroke(s)}function GW(t,e,n,i){const{segments:s,options:r}=e,o=rp(e);for(const a of s)rS(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const XW=typeof Path2D=="function";function QW(t,e,n,i){XW&&!e.options.segment?KW(t,e,n,i):GW(t,e,n,i)}class Vl extends qn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;Dj(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Qj(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=Kj(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=YW(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],p=r[d];if(f===p){a.push(f);continue}const y=Math.abs((s-f[n])/(p[n]-f[n])),b=l(f,p,y,i.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,i){return rp(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=rp(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),QW(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Vl.id="line";Vl.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Vl.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Vl.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function $0(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Dh extends qn{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return $0(this,e,"x",n)}inYRange(e,n){return $0(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Za(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,ep(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Dh.id="point";Dh.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Dh.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function aS(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function ns(t,e,n,i){return t?0:Qt(e,n,i)}function JW(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=OE(i);return{t:ns(s.top,r.top,0,n),r:ns(s.right,r.right,0,e),b:ns(s.bottom,r.bottom,0,n),l:ns(s.left,r.left,0,e)}}function ZW(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=Js(s),o=Math.min(e,n),a=t.borderSkipped,l=i||Be(s);return{topLeft:ns(!l||a.top||a.left,r.topLeft,0,o),topRight:ns(!l||a.top||a.right,r.topRight,0,o),bottomLeft:ns(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:ns(!l||a.bottom||a.right,r.bottomRight,0,o)}}function e3(t){const e=aS(t),n=e.right-e.left,i=e.bottom-e.top,s=JW(t,n/2,i/2),r=ZW(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function zd(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&aS(t,i);return a&&(s||es(e,a.left,a.right))&&(r||es(n,a.top,a.bottom))}function t3(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function n3(t,e){t.rect(e.x,e.y,e.w,e.h)}function jd(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class Nm extends qn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=e3(this),a=t3(o.radius)?el:n3;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,jd(o,n,r)),e.clip(),a(e,jd(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,jd(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return zd(this,e,n,i)}inXRange(e,n){return zd(this,e,null,n)}inYRange(e,n){return zd(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Nm.id="bar";Nm.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Nm.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const B0=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},i3=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class U0 extends qn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=tt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Ct(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=B0(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,y)=>{const b=i+n/2+r.measureText(p.text).width;(y===0||c[c.length-1]+b+2*a>o)&&(h+=u,c[c.length-(y>0?0:1)]=0,f+=u,d++),l[y]={left:0,top:f,row:d,width:b,height:s},c[c.length-1]+=b+a}),h}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,p=0,y=0;return this.legendItems.forEach((b,m)=>{const v=i+n/2+r.measureText(b.text).width;m>0&&f+s+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,y++,d=f=0),l[m]={left:p,top:f,col:y,width:v,height:s},d=Math.max(d,v),f+=s+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Kr(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Yt(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Yt(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Yt(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Yt(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;_m(e,this),this._draw(),xm(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=Re.color,l=Kr(e.rtl,this.left,this.width),c=Ct(o.font),{color:u,padding:h}=o,d=c.size,f=d/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:y,boxHeight:b,itemHeight:m}=B0(o,d),v=function(M,C,O){if(isNaN(y)||y<=0||isNaN(b)||b<0)return;s.save();const L=Oe(O.lineWidth,1);if(s.fillStyle=Oe(O.fillStyle,a),s.lineCap=Oe(O.lineCap,"butt"),s.lineDashOffset=Oe(O.lineDashOffset,0),s.lineJoin=Oe(O.lineJoin,"miter"),s.lineWidth=L,s.strokeStyle=Oe(O.strokeStyle,a),s.setLineDash(Oe(O.lineDash,[])),o.usePointStyle){const j={radius:b*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:L},F=l.xPlus(M,y/2),U=C+f;PE(s,j,F,U,y)}else{const j=C+Math.max((d-b)/2,0),F=l.leftForLtr(M,y),U=Js(O.borderRadius);s.beginPath(),Object.values(U).some(P=>P!==0)?el(s,{x:F,y:j,w:y,h:b,radius:U}):s.rect(F,j,y,b),s.fill(),L!==0&&s.stroke()}s.restore()},_=function(M,C,O){fr(s,O.text,M,C+m/2,c,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})},k=this.isHorizontal(),x=this._computeTitleHeight();k?p={x:Yt(r,this.left+h,this.right-i[0]),y:this.top+h+x,line:0}:p={x:this.left+h,y:Yt(r,this.top+x+h,this.bottom-n[0].height),line:0},UE(this.ctx,e.textDirection);const S=m+h;this.legendItems.forEach((M,C)=>{s.strokeStyle=M.fontColor||u,s.fillStyle=M.fontColor||u;const O=s.measureText(M.text).width,L=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),j=y+f+O;let F=p.x,U=p.y;l.setWidth(this.width),k?C>0&&F+j+h>this.right&&(U=p.y+=S,p.line++,F=p.x=Yt(r,this.left+h,this.right-i[p.line])):C>0&&U+S>this.bottom&&(F=p.x=F+n[p.line].width+h,p.line++,U=p.y=Yt(r,this.top+x+h,this.bottom-n[p.line].height));const P=l.x(F);v(P,U,M),F=_z(L,F+y+f,k?F+j:this.right,e.rtl),_(l.x(F),U,M),k?p.x+=j+h:p.y+=S}),VE(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ct(n.font),s=nn(n.padding);if(!n.display)return;const r=Kr(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=Yt(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);u=c+Yt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=Yt(a,h,h+d);o.textAlign=r.textAlign(gm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,fr(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=Ct(e.font),i=nn(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(es(e,this.left,this.right)&&es(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],es(e,s.left,s.left+s.width)&&es(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!s3(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=i3(s,i);s&&!r&&tt(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&tt(n.onHover,[e,i,this],this)}else i&&tt(n.onClick,[e,i,this],this)}}function s3(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var r3={id:"legend",_element:U0,start(t,e,n){const i=t.legend=new U0({ctx:t.ctx,options:n,chart:t});On.configure(t,i,n),On.addBox(t,i)},stop(t){On.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;On.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r}}=t.legend.options;return t._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(n?0:void 0),l=nn(a.borderWidth);return{text:e[o.index].label,fillStyle:a.backgroundColor,fontColor:r,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:s||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class lS extends qn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=rt(i.text)?i.text.length:1;this._padding=nn(i.padding);const r=s*Ct(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Yt(a,i,r),h=n+e,c=r-i):(o.position==="left"?(u=i+e,h=Yt(a,s,n),l=ut*-.5):(u=r-e,h=Yt(a,n,s),l=ut*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Ct(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);fr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:gm(n.align),textBaseline:"middle",translation:[o,a]})}}function o3(t,e){const n=new lS({ctx:t.ctx,options:e,chart:t});On.configure(t,n,e),On.addBox(t,n),t.titleBlock=n}var a3={id:"title",_element:lS,start(t,e,n){o3(t,n)},stop(t){const e=t.titleBlock;On.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;On.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ea={average(t){if(!t.length)return!1;let e,n,i=0,s=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Qf(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Xn(t,e){return e&&(rt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function bi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function l3(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function V0(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Ct(e.bodyFont),c=Ct(e.titleFont),u=Ct(e.footerFont),h=r.length,d=s.length,f=i.length,p=nn(e.padding);let y=p.height,b=0,m=i.reduce((k,x)=>k+x.before.length+x.lines.length+x.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){const k=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=f*k+(m-f)*l.lineHeight+(m-1)*e.bodySpacing}d&&(y+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let v=0;const _=function(k){b=Math.max(b,n.measureText(k).width+v)};return n.save(),n.font=c.string,Ge(t.title,_),n.font=l.string,Ge(t.beforeBody.concat(t.afterBody),_),v=e.displayColors?o+2+e.boxPadding:0,Ge(i,k=>{Ge(k.before,_),Ge(k.lines,_),Ge(k.after,_)}),v=0,n.font=u.string,Ge(t.footer,_),n.restore(),b+=p.width,{width:b,height:y}}function c3(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function u3(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function h3(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),u3(c,t,e,n)&&(c="center"),c}function z0(t,e,n){const i=n.yAlign||e.yAlign||c3(t,n);return{xAlign:n.xAlign||e.xAlign||h3(t,e,n,i),yAlign:i}}function d3(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function f3(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function j0(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Js(o);let p=d3(e,a);const y=f3(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+s:a==="right"&&(p+=Math.max(h,f)+s),{x:Qt(p,0,i.width-e.width),y:Qt(y,0,i.height-e.height)}}function vc(t,e,n){const i=nn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function H0(t){return Xn([],bi(t))}function p3(t,e,n){return Ss(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function W0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class op extends qn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new jE(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=p3(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=i.beforeTitle.apply(this,[e]),r=i.title.apply(this,[e]),o=i.afterTitle.apply(this,[e]);let a=[];return a=Xn(a,bi(s)),a=Xn(a,bi(r)),a=Xn(a,bi(o)),a}getBeforeBody(e,n){return H0(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:i}=n,s=[];return Ge(e,r=>{const o={before:[],lines:[],after:[]},a=W0(i,r);Xn(o.before,bi(a.beforeLabel.call(this,r))),Xn(o.lines,a.label.call(this,r)),Xn(o.after,bi(a.afterLabel.call(this,r))),s.push(o)}),s}getAfterBody(e,n){return H0(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:i}=n,s=i.beforeFooter.apply(this,[e]),r=i.footer.apply(this,[e]),o=i.afterFooter.apply(this,[e]);let a=[];return a=Xn(a,bi(s)),a=Xn(a,bi(r)),a=Xn(a,bi(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(l3(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),Ge(a,u=>{const h=W0(e.callbacks,u);s.push(h.labelColor.call(this,u)),r.push(h.labelPointStyle.call(this,u)),o.push(h.labelTextColor.call(this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Ea[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=V0(this,i),c=Object.assign({},a,l),u=z0(this.chart,i,c),h=j0(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Js(a),{x:d,y:f}=e,{width:p,height:y}=n;let b,m,v,_,k,x;return r==="center"?(k=f+y/2,s==="left"?(b=d,m=b-o,_=k+o,x=k-o):(b=d+p,m=b+o,_=k-o,x=k+o),v=b):(s==="left"?m=d+Math.max(l,u)+o:s==="right"?m=d+p-Math.max(c,h)-o:m=this.caretX,r==="top"?(_=f,k=_-o,b=m-o,v=m+o):(_=f+y,k=_+o,b=m+o,v=m-o),x=_),{x1:b,x2:m,x3:v,y1:_,y2:k,y3:x}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Kr(i.rtl,this.x,this.width);for(e.x=vc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Ct(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Ct(r.bodyFont),d=vc(this,"left",r),f=s.x(d),p=l<h.lineHeight?(h.lineHeight-l)/2:0,y=n.y+p;if(r.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=s.leftForLtr(f,c)+c/2,v=y+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,ep(e,b,m,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ep(e,b,m,v)}else{e.lineWidth=Be(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=s.leftForLtr(f,c-u),m=s.leftForLtr(s.xPlus(f,1),c-u-2),v=Js(o.borderRadius);Object.values(v).some(_=>_!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,el(e,{x:b,y,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),el(e,{x:m,y:y+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(b,y,c,l),e.strokeRect(b,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(m,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Ct(i.bodyFont);let d=h.lineHeight,f=0;const p=Kr(i.rtl,this.x,this.width),y=function(C){n.fillText(C,p.x(e.x+f),e.y+d/2),e.y+=d+r},b=p.textAlign(o);let m,v,_,k,x,S,M;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=vc(this,b,i),n.fillStyle=i.bodyColor,Ge(this.beforeBody,y),f=a&&b!=="right"?o==="center"?c/2+u:c+2+u:0,k=0,S=s.length;k<S;++k){for(m=s[k],v=this.labelTextColors[k],n.fillStyle=v,Ge(m.before,y),_=m.lines,a&&_.length&&(this._drawColorBox(n,e,k,p,i),d=Math.max(h.lineHeight,l)),x=0,M=_.length;x<M;++x)y(_[x]),d=h.lineHeight;Ge(m.after,y)}f=0,d=h.lineHeight,Ge(this.afterBody,y),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Kr(i.rtl,this.x,this.width);for(e.x=vc(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Ct(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=Js(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Ea[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=V0(this,e),l=Object.assign({},o,this._size),c=z0(n,e,l),u=j0(e,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=nn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),UE(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),VE(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!yu(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!yu(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=Ea[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}op.positioners=Ea;var g3={id:"tooltip",_element:op,positioners:Ea,afterInit(t,e,n){n&&(t.tooltip=new op({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",n)===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:mi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:mi,beforeBody:mi,beforeLabel:mi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Xe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:mi,afterBody:mi,beforeFooter:mi,footer:mi,afterFooter:mi}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const m3=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function y3(t,e,n,i){const s=t.indexOf(e);if(s===-1)return m3(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const v3=(t,e)=>t===null?null:Qt(Math.round(t),0,e);class ap extends Tr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Xe(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:y3(i,e,Oe(n,e),this._addedLabels),v3(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ap.id="category";ap.defaults={ticks:{callback:ap.prototype.getLabelForValue}};function b3(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=r||1,p=u-1,{min:y,max:b}=e,m=!Xe(o),v=!Xe(a),_=!Xe(c),k=(b-y)/(h+1);let x=Kb((b-y)/p/f)*f,S,M,C,O;if(x<1e-14&&!m&&!v)return[{value:y},{value:b}];O=Math.ceil(b/x)-Math.floor(y/x),O>p&&(x=Kb(O*x/p/f)*f),Xe(l)||(S=Math.pow(10,l),x=Math.ceil(x*S)/S),s==="ticks"?(M=Math.floor(y/x)*x,C=Math.ceil(b/x)*x):(M=y,C=b),m&&v&&r&&Az((a-o)/r,x/1e3)?(O=Math.round(Math.min((a-o)/x,u)),x=(a-o)/O,M=o,C=a):_?(M=m?o:M,C=v?a:C,O=c-1,x=(C-M)/O):(O=(C-M)/x,xa(O,Math.round(O),x/1e3)?O=Math.round(O):O=Math.ceil(O));const L=Math.max(Gb(x),Gb(M));S=Math.pow(10,Xe(l)?L:l),M=Math.round(M*S)/S,C=Math.round(C*S)/S;let j=0;for(m&&(d&&M!==o?(n.push({value:o}),M<o&&j++,xa(Math.round((M+j*x)*S)/S,o,q0(o,k,t))&&j++):M<o&&j++);j<O;++j)n.push({value:Math.round((M+j*x)*S)/S});return v&&d&&C!==a?n.length&&xa(n[n.length-1].value,a,q0(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!v||C===a)&&n.push({value:C}),n}function q0(t,e,{horizontal:n,minRotation:i}){const s=Un(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Eu extends Tr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Xe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=ui(s),c=ui(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=1;(r>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(r*.05)),a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=b3(s,r);return e.bounds==="ticks"&&xE(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Ll(e,this.chart.options.locale,this.options.ticks.format)}}class Lm extends Eu{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=jt(e)?e:0,this.max=jt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Un(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Lm.id="linear";Lm.defaults={ticks:{callback:Mh.formatters.numeric}};function Y0(t){return t/Math.pow(10,Math.floor(Pn(t)))===1}function w3(t,e){const n=Math.floor(Pn(e.max)),i=Math.ceil(e.max/Math.pow(10,n)),s=[];let r=Cn(t.min,Math.pow(10,Math.floor(Pn(e.min)))),o=Math.floor(Pn(r)),a=Math.floor(r/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do s.push({value:r,major:Y0(r)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),r=Math.round(a*Math.pow(10,o)*l)/l;while(o<n||o===n&&a<i);const c=Cn(t.max,r);return s.push({value:c,major:Y0(r)}),s}class cS extends Tr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Eu.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return jt(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=jt(e)?Math.max(0,e):null,this.max=jt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=l=>i=e?i:l,o=l=>s=n?s:l,a=(l,c)=>Math.pow(10,Math.floor(Pn(l))+c);i===s&&(i<=0?(r(1),o(10)):(r(a(i,-1)),o(a(s,1)))),i<=0&&r(a(s,-1)),s<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&r(a(i,-1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=w3(n,this);return e.bounds==="ticks"&&xE(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Ll(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Pn(e),this._valueRange=Pn(this.max)-Pn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Pn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}cS.id="logarithmic";cS.defaults={ticks:{callback:Mh.formatters.logarithmic,major:{enabled:!0}}};function lp(t){const e=t.ticks;if(e.display&&t.display){const n=nn(e.backdropPadding);return Oe(e.font&&e.font.size,Re.font.size)+n.height}return 0}function _3(t,e,n){return n=rt(n)?n:[n],{w:rj(t,e.string,n),h:n.length*e.lineHeight}}function K0(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function x3(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ut/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],a),h=Ct(c.font),d=_3(t.ctx,h,t._pointLabels[l]);i[l]=d;const f=$n(t.getIndexAngle(l)+a),p=Math.round(ym(f)),y=K0(p,u.x,d.w,0,180),b=K0(p,u.y,d.h,90,270);T3(n,e,f,y,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=k3(t,i,s)}function T3(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function k3(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,o=lp(r)/2,a=t.drawingArea,l=r.pointLabels.centerPointLabels?ut/s:0;for(let c=0;c<s;c++){const u=t.getPointPosition(c,a+o+n[c],l),h=Math.round(ym($n(u.angle+ft))),d=e[c],f=C3(u.y,d.h,h),p=E3(h),y=S3(u.x,d.w,p);i.push({x:u.x,y:f,textAlign:p,left:y,top:f,right:y+d.w,bottom:f+d.h})}return i}function E3(t){return t===0||t===180?"center":t<180?"left":"right"}function S3(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function C3(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function I3(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=i.setContext(t.getPointLabelContext(s)),o=Ct(r.font),{x:a,y:l,textAlign:c,left:u,top:h,right:d,bottom:f}=t._pointLabelItems[s],{backdropColor:p}=r;if(!Xe(p)){const y=Js(r.borderRadius),b=nn(r.backdropPadding);n.fillStyle=p;const m=u-b.left,v=h-b.top,_=d-u+b.width,k=f-h+b.height;Object.values(y).some(x=>x!==0)?(n.beginPath(),el(n,{x:m,y:v,w:_,h:k,radius:y}),n.fill()):n.fillRect(m,v,_,k)}fr(n,t._pointLabels[s],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}function uS(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,et);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function P3(t,e,n,i){const s=t.ctx,r=e.circular,{color:o,lineWidth:a}=e;!r&&!i||!o||!a||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=a,s.setLineDash(e.borderDash),s.lineDashOffset=e.borderDashOffset,s.beginPath(),uS(t,n,r,i),s.closePath(),s.stroke(),s.restore())}function O3(t,e,n){return Ss(t,{label:n,index:e,type:"pointLabel"})}class Rh extends Eu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=nn(lp(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=jt(e)&&!isNaN(e)?e:0,this.max=jt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/lp(this.options))}generateTickLabels(e){Eu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=tt(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?x3(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=et/(this._pointLabels.length||1),i=this.options.startAngle||0;return $n(e*n+Un(i))}getDistanceFromCenterForValue(e){if(Xe(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Xe(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return O3(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-ft+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),uS(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s}=n,r=this._pointLabels.length;let o,a,l;if(n.pointLabels.display&&I3(this,r),s.display&&this.ticks.forEach((c,u)=>{if(u!==0){a=this.getDistanceFromCenterForValue(c.value);const h=s.setContext(this.getContext(u-1));P3(this,h,a,r)}}),i.display){for(e.save(),o=r-1;o>=0;o--){const c=i.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:h}=c;!h||!u||(e.lineWidth=h,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Ct(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=nn(c.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}fr(e,a.label,0,-r,u,{color:c.color})}),e.restore()}drawTitle(){}}Rh.id="radialLinear";Rh.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Mh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};Rh.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Rh.descriptors={angleLines:{_fallback:"grid"}};const Nh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},un=Object.keys(Nh);function M3(t,e){return t-e}function G0(t,e){if(Xe(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),jt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Qa(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function X0(t,e,n,i){const s=un.length;for(let r=un.indexOf(t);r<s-1;++r){const o=Nh[un[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return un[r]}return un[s-1]}function A3(t,e,n,i,s){for(let r=un.length-1;r>=un.indexOf(n);r--){const o=un[r];if(Nh[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return un[n?un.indexOf(n):0]}function D3(t){for(let e=un.indexOf(t)+1,n=un.length;e<n;++e)if(Nh[un[e]].common)return un[e]}function Q0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=km(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function R3(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function J0(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:R3(t,i,s,n)}class zl extends Tr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const i=e.time||(e.time={}),s=this._adapter=new qE._date(e.adapters.date);_a(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:G0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=jt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=jt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=mj(s,r,o);return this._unit=n.unit||(i.autoSkip?X0(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):A3(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:D3(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),J0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Qt(n,0,o),i=Qt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||X0(r.minUnit,n,i,this._getLabelCapacity(n)),a=Oe(r.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Qa(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)Q0(u,d,p);return(d===i||s.bounds==="ticks"||f===1)&&Q0(u,d,p),Object.keys(u).sort((y,b)=>y-b).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=i[n],d=l&&u&&h&&h.major,f=this._adapter.format(e,s||(d?u:c)),p=r.ticks.callback;return p?tt(p,[f,n,i],this):f}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=Un(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,J0(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(G0(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return AE(e.sort(M3))}}zl.id="time";zl.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function bc(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Hs(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Hs(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class Fm extends zl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=bc(n,this.min),this._tableRange=bc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(bc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return bc(this._table,i*this._tableRange+this._minPos,!0)}}Fm.id="timeseries";Fm.defaults=zl.defaults;function Gr(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,i=t.formats[n]||t.formats[t.defaultWidth];return i}}function ei(t){return function(e,n){var i=n!=null&&n.context?String(n.context):"standalone",s;if(i==="formatting"&&t.formattingValues){var r=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):r;s=t.formattingValues[o]||t.formattingValues[r]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}function ti(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.width,s=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],r=e.match(s);if(!r)return null;var o=r[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?L3(a,function(h){return h.test(o)}):N3(a,function(h){return h.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(o.length);return{value:c,rest:u}}}function N3(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function L3(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function hS(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.match(t.matchPattern);if(!i)return null;var s=i[0],r=e.match(t.parsePattern);if(!r)return null;var o=t.valueCallback?t.valueCallback(r[0]):r[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(s.length);return{value:o,rest:a}}}function ot(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function re(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function fe(t){re(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function dS(t,e){re(2,arguments);var n=fe(t),i=ot(e);return isNaN(i)?new Date(NaN):(i&&n.setDate(n.getDate()+i),n)}function $m(t,e){re(2,arguments);var n=fe(t),i=ot(e);if(isNaN(i))return new Date(NaN);if(!i)return n;var s=n.getDate(),r=new Date(n.getTime());r.setMonth(n.getMonth()+i+1,0);var o=r.getDate();return s>=o?r:(n.setFullYear(r.getFullYear(),r.getMonth(),s),n)}function jl(t,e){re(2,arguments);var n=fe(t).getTime(),i=ot(e);return new Date(n+i)}var F3=36e5;function $3(t,e){re(2,arguments);var n=ot(e);return jl(t,n*F3)}var B3={};function Cs(){return B3}function Z0(t,e){var n,i,s,r,o,a,l,c;re(1,arguments);var u=Cs(),h=ot((n=(i=(s=(r=e==null?void 0:e.weekStartsOn)!==null&&r!==void 0?r:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=fe(t),f=d.getDay(),p=(f<h?7:0)+f-h;return d.setDate(d.getDate()-p),d.setHours(0,0,0,0),d}function Su(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function cp(t){re(1,arguments);var e=fe(t);return e.setHours(0,0,0,0),e}var U3=864e5;function V3(t,e){re(2,arguments);var n=cp(t),i=cp(e),s=n.getTime()-Su(n),r=i.getTime()-Su(i);return Math.round((s-r)/U3)}var z3=6e4;function j3(t,e){re(2,arguments);var n=ot(e);return jl(t,n*z3)}function H3(t,e){re(2,arguments);var n=ot(e),i=n*3;return $m(t,i)}function W3(t,e){re(2,arguments);var n=ot(e);return jl(t,n*1e3)}function q3(t,e){re(2,arguments);var n=ot(e),i=n*7;return dS(t,i)}function Y3(t,e){re(2,arguments);var n=ot(e);return $m(t,n*12)}function Sa(t,e){re(2,arguments);var n=fe(t),i=fe(e),s=n.getTime()-i.getTime();return s<0?-1:s>0?1:s}var Lh=6e4,Fh=36e5,K3=1e3;function G3(t){return re(1,arguments),t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function fS(t){if(re(1,arguments),!G3(t)&&typeof t!="number")return!1;var e=fe(t);return!isNaN(Number(e))}function X3(t,e){re(2,arguments);var n=fe(t),i=fe(e),s=n.getFullYear()-i.getFullYear(),r=n.getMonth()-i.getMonth();return s*12+r}function Q3(t,e){re(2,arguments);var n=fe(t),i=fe(e);return n.getFullYear()-i.getFullYear()}function ew(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function pS(t,e){re(2,arguments);var n=fe(t),i=fe(e),s=ew(n,i),r=Math.abs(V3(n,i));n.setDate(n.getDate()-s*r);var o=Number(ew(n,i)===-s),a=s*(r-o);return a===0?0:a}function $h(t,e){return re(2,arguments),fe(t).getTime()-fe(e).getTime()}var tw={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},J3="trunc";function Hl(t){return t?tw[t]:tw[J3]}function Z3(t,e,n){re(2,arguments);var i=$h(t,e)/Fh;return Hl(n==null?void 0:n.roundingMethod)(i)}function e4(t,e,n){re(2,arguments);var i=$h(t,e)/Lh;return Hl(n==null?void 0:n.roundingMethod)(i)}function gS(t){re(1,arguments);var e=fe(t);return e.setHours(23,59,59,999),e}function mS(t){re(1,arguments);var e=fe(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function t4(t){re(1,arguments);var e=fe(t);return gS(e).getTime()===mS(e).getTime()}function yS(t,e){re(2,arguments);var n=fe(t),i=fe(e),s=Sa(n,i),r=Math.abs(X3(n,i)),o;if(r<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*r);var a=Sa(n,i)===-s;t4(fe(t))&&r===1&&Sa(t,i)===1&&(a=!1),o=s*(r-Number(a))}return o===0?0:o}function n4(t,e,n){re(2,arguments);var i=yS(t,e)/3;return Hl(n==null?void 0:n.roundingMethod)(i)}function i4(t,e,n){re(2,arguments);var i=$h(t,e)/1e3;return Hl(n==null?void 0:n.roundingMethod)(i)}function s4(t,e,n){re(2,arguments);var i=pS(t,e)/7;return Hl(n==null?void 0:n.roundingMethod)(i)}function r4(t,e){re(2,arguments);var n=fe(t),i=fe(e),s=Sa(n,i),r=Math.abs(Q3(n,i));n.setFullYear(1584),i.setFullYear(1584);var o=Sa(n,i)===-s,a=s*(r-Number(o));return a===0?0:a}function o4(t){re(1,arguments);var e=fe(t);return e.setSeconds(0,0),e}function a4(t){re(1,arguments);var e=fe(t),n=e.getMonth(),i=n-n%3;return e.setMonth(i,1),e.setHours(0,0,0,0),e}function l4(t){re(1,arguments);var e=fe(t);return e.setDate(1),e.setHours(0,0,0,0),e}function c4(t){re(1,arguments);var e=fe(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function u4(t){re(1,arguments);var e=fe(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function h4(t){re(1,arguments);var e=fe(t);return e.setMinutes(59,59,999),e}function d4(t,e){var n,i,s,r,o,a,l,c;re(1,arguments);var u=Cs(),h=ot((n=(i=(s=(r=e==null?void 0:e.weekStartsOn)!==null&&r!==void 0?r:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=fe(t),f=d.getDay(),p=(f<h?-7:0)+6-(f-h);return d.setDate(d.getDate()+p),d.setHours(23,59,59,999),d}function f4(t){re(1,arguments);var e=fe(t);return e.setSeconds(59,999),e}function p4(t){re(1,arguments);var e=fe(t),n=e.getMonth(),i=n-n%3+3;return e.setMonth(i,0),e.setHours(23,59,59,999),e}function g4(t){re(1,arguments);var e=fe(t);return e.setMilliseconds(999),e}function vS(t,e){re(2,arguments);var n=ot(e);return jl(t,-n)}var m4=864e5;function y4(t){re(1,arguments);var e=fe(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime(),s=n-i;return Math.floor(s/m4)+1}function vo(t){re(1,arguments);var e=1,n=fe(t),i=n.getUTCDay(),s=(i<e?7:0)+i-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function bS(t){re(1,arguments);var e=fe(t),n=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var s=vo(i),r=new Date(0);r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0);var o=vo(r);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function v4(t){re(1,arguments);var e=bS(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var i=vo(n);return i}var b4=6048e5;function wS(t){re(1,arguments);var e=fe(t),n=vo(e).getTime()-v4(e).getTime();return Math.round(n/b4)+1}function Ai(t,e){var n,i,s,r,o,a,l,c;re(1,arguments);var u=Cs(),h=ot((n=(i=(s=(r=e==null?void 0:e.weekStartsOn)!==null&&r!==void 0?r:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=fe(t),f=d.getUTCDay(),p=(f<h?7:0)+f-h;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function Bm(t,e){var n,i,s,r,o,a,l,c;re(1,arguments);var u=fe(t),h=u.getUTCFullYear(),d=Cs(),f=ot((n=(i=(s=(r=e==null?void 0:e.firstWeekContainsDate)!==null&&r!==void 0?r:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&i!==void 0?i:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,f),p.setUTCHours(0,0,0,0);var y=Ai(p,e),b=new Date(0);b.setUTCFullYear(h,0,f),b.setUTCHours(0,0,0,0);var m=Ai(b,e);return u.getTime()>=y.getTime()?h+1:u.getTime()>=m.getTime()?h:h-1}function w4(t,e){var n,i,s,r,o,a,l,c;re(1,arguments);var u=Cs(),h=ot((n=(i=(s=(r=e==null?void 0:e.firstWeekContainsDate)!==null&&r!==void 0?r:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=Bm(t,e),f=new Date(0);f.setUTCFullYear(d,0,h),f.setUTCHours(0,0,0,0);var p=Ai(f,e);return p}var _4=6048e5;function _S(t,e){re(1,arguments);var n=fe(t),i=Ai(n,e).getTime()-w4(n,e).getTime();return Math.round(i/_4)+1}function Ke(t,e){for(var n=t<0?"-":"",i=Math.abs(t).toString();i.length<e;)i="0"+i;return n+i}var x4={y:function(t,e){var n=t.getUTCFullYear(),i=n>0?n:1-n;return Ke(e==="yy"?i%100:i,e.length)},M:function(t,e){var n=t.getUTCMonth();return e==="M"?String(n+1):Ke(n+1,2)},d:function(t,e){return Ke(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,e){return Ke(t.getUTCHours()%12||12,e.length)},H:function(t,e){return Ke(t.getUTCHours(),e.length)},m:function(t,e){return Ke(t.getUTCMinutes(),e.length)},s:function(t,e){return Ke(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,i=t.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,n-3));return Ke(s,e.length)}};const ji=x4;var Mr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},T4={G:function(t,e,n){var i=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){var i=t.getUTCFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return ji.y(t,e)},Y:function(t,e,n,i){var s=Bm(t,i),r=s>0?s:1-s;if(e==="YY"){var o=r%100;return Ke(o,2)}return e==="Yo"?n.ordinalNumber(r,{unit:"year"}):Ke(r,e.length)},R:function(t,e){var n=bS(t);return Ke(n,e.length)},u:function(t,e){var n=t.getUTCFullYear();return Ke(n,e.length)},Q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ke(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ke(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){var i=t.getUTCMonth();switch(e){case"M":case"MM":return ji.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){var i=t.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return Ke(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){var s=_S(t,i);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ke(s,e.length)},I:function(t,e,n){var i=wS(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Ke(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):ji.d(t,e)},D:function(t,e,n){var i=y4(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ke(i,e.length)},E:function(t,e,n){var i=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){var s=t.getUTCDay(),r=(s-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return Ke(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){var s=t.getUTCDay(),r=(s-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return Ke(r,e.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){var i=t.getUTCDay(),s=i===0?7:i;switch(e){case"i":return String(s);case"ii":return Ke(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){var i=t.getUTCHours(),s=i/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){var i=t.getUTCHours(),s;switch(i===12?s=Mr.noon:i===0?s=Mr.midnight:s=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){var i=t.getUTCHours(),s;switch(i>=17?s=Mr.evening:i>=12?s=Mr.afternoon:i>=4?s=Mr.morning:s=Mr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ji.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ji.H(t,e)},K:function(t,e,n){var i=t.getUTCHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ke(i,e.length)},k:function(t,e,n){var i=t.getUTCHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ke(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ji.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ji.s(t,e)},S:function(t,e){return ji.S(t,e)},X:function(t,e,n,i){var s=i._originalDate||t,r=s.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return iw(r);case"XXXX":case"XX":return Fs(r);case"XXXXX":case"XXX":default:return Fs(r,":")}},x:function(t,e,n,i){var s=i._originalDate||t,r=s.getTimezoneOffset();switch(e){case"x":return iw(r);case"xxxx":case"xx":return Fs(r);case"xxxxx":case"xxx":default:return Fs(r,":")}},O:function(t,e,n,i){var s=i._originalDate||t,r=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nw(r,":");case"OOOO":default:return"GMT"+Fs(r,":")}},z:function(t,e,n,i){var s=i._originalDate||t,r=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nw(r,":");case"zzzz":default:return"GMT"+Fs(r,":")}},t:function(t,e,n,i){var s=i._originalDate||t,r=Math.floor(s.getTime()/1e3);return Ke(r,e.length)},T:function(t,e,n,i){var s=i._originalDate||t,r=s.getTime();return Ke(r,e.length)}};function nw(t,e){var n=t>0?"-":"+",i=Math.abs(t),s=Math.floor(i/60),r=i%60;if(r===0)return n+String(s);var o=e||"";return n+String(s)+o+Ke(r,2)}function iw(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Ke(Math.abs(t)/60,2)}return Fs(t,e)}function Fs(t,e){var n=e||"",i=t>0?"-":"+",s=Math.abs(t),r=Ke(Math.floor(s/60),2),o=Ke(s%60,2);return i+r+n+o}const k4=T4;var sw=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xS=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},E4=function(t,e){var n=t.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return sw(t,e);var r;switch(i){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});break}return r.replace("{{date}}",sw(i,e)).replace("{{time}}",xS(s,e))},S4={p:xS,P:E4};const up=S4;var C4=["D","DD"],I4=["YY","YYYY"];function TS(t){return C4.indexOf(t)!==-1}function kS(t){return I4.indexOf(t)!==-1}function Cu(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var P4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O4=function(t,e,n){var i,s=P4[t];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};const M4=O4;var A4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},D4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},N4={date:Gr({formats:A4,defaultWidth:"full"}),time:Gr({formats:D4,defaultWidth:"full"}),dateTime:Gr({formats:R4,defaultWidth:"full"})};const L4=N4;var F4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$4=function(t,e,n,i){return F4[t]};const B4=$4;var U4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},V4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},W4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q4=function(t,e){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Y4={ordinalNumber:q4,era:ei({values:U4,defaultWidth:"wide"}),quarter:ei({values:V4,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ei({values:z4,defaultWidth:"wide"}),day:ei({values:j4,defaultWidth:"wide"}),dayPeriod:ei({values:H4,defaultWidth:"wide",formattingValues:W4,defaultFormattingWidth:"wide"})};const K4=Y4;var G4=/^(\d+)(th|st|nd|rd)?/i,X4=/\d+/i,Q4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J4={any:[/^b/i,/^(a|c)/i]},Z4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eq={any:[/1/i,/2/i,/3/i,/4/i]},tq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aq={ordinalNumber:hS({matchPattern:G4,parsePattern:X4,valueCallback:function(t){return parseInt(t,10)}}),era:ti({matchPatterns:Q4,defaultMatchWidth:"wide",parsePatterns:J4,defaultParseWidth:"any"}),quarter:ti({matchPatterns:Z4,defaultMatchWidth:"wide",parsePatterns:eq,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ti({matchPatterns:tq,defaultMatchWidth:"wide",parsePatterns:nq,defaultParseWidth:"any"}),day:ti({matchPatterns:iq,defaultMatchWidth:"wide",parsePatterns:sq,defaultParseWidth:"any"}),dayPeriod:ti({matchPatterns:rq,defaultMatchWidth:"any",parsePatterns:oq,defaultParseWidth:"any"})};const lq=aq;var cq={code:"en-US",formatDistance:M4,formatLong:L4,formatRelative:B4,localize:K4,match:lq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ES=cq;var uq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dq=/^'([^]*?)'?$/,fq=/''/g,pq=/[a-zA-Z]/;function gq(t,e,n){var i,s,r,o,a,l,c,u,h,d,f,p,y,b,m,v,_,k;re(2,arguments);var x=String(e),S=Cs(),M=(i=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:S.locale)!==null&&i!==void 0?i:ES,C=ot((r=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&o!==void 0?o:(h=S.locale)===null||h===void 0||(d=h.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=ot((f=(p=(y=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(m=n.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&y!==void 0?y:S.weekStartsOn)!==null&&p!==void 0?p:(_=S.locale)===null||_===void 0||(k=_.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&f!==void 0?f:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!M.localize)throw new RangeError("locale must contain localize property");if(!M.formatLong)throw new RangeError("locale must contain formatLong property");var L=fe(t);if(!fS(L))throw new RangeError("Invalid time value");var j=Su(L),F=vS(L,j),U={firstWeekContainsDate:C,weekStartsOn:O,locale:M,_originalDate:L},P=x.match(hq).map(function(A){var $=A[0];if($==="p"||$==="P"){var V=up[$];return V(A,M.formatLong)}return A}).join("").match(uq).map(function(A){if(A==="''")return"'";var $=A[0];if($==="'")return mq(A);var V=k4[$];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&kS(A)&&Cu(A,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&TS(A)&&Cu(A,e,String(t)),V(F,A,M.localize,U);if($.match(pq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return A}).join("");return P}function mq(t){var e=t.match(dq);return e?e[1].replace(fq,"'"):t}function yq(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Iu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vq=10;class SS{constructor(){Iu(this,"priority",void 0),Iu(this,"subPriority",0)}validate(e,n){return!0}}class bq extends SS{constructor(e,n,i,s,r){super(),this.value=e,this.validateValue=n,this.setValue=i,this.priority=s,r&&(this.subPriority=r)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,i){return this.setValue(e,n,this.value,i)}}class wq extends SS{constructor(){super(...arguments),Iu(this,"priority",vq),Iu(this,"subPriority",-1)}set(e,n){if(n.timestampIsSet)return e;var i=new Date(0);return i.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),i.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),i}}function Hd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class je{constructor(){Hd(this,"incompatibleTokens",void 0),Hd(this,"priority",void 0),Hd(this,"subPriority",void 0)}run(e,n,i,s){var r=this.parse(e,n,i,s);return r?{setter:new bq(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(e,n,i){return!0}}function rw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class _q extends je{constructor(){super(...arguments),rw(this,"priority",140),rw(this,"incompatibleTokens",["R","u","t","T"])}parse(e,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"});case"GGGGG":return i.era(e,{width:"narrow"});case"GGGG":default:return i.era(e,{width:"wide"})||i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"})}}set(e,n,i){return n.era=i,e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}}var yt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ni={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vt(t,e){return t&&{value:e(t.value),rest:t.rest}}function ht(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ii(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var i=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,r=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:i*(s*Fh+r*Lh+o*K3),rest:e.slice(n[0].length)}}function CS(t){return ht(yt.anyDigitsSigned,t)}function mt(t,e){switch(t){case 1:return ht(yt.singleDigit,e);case 2:return ht(yt.twoDigits,e);case 3:return ht(yt.threeDigits,e);case 4:return ht(yt.fourDigits,e);default:return ht(new RegExp("^\\d{1,"+t+"}"),e)}}function Pu(t,e){switch(t){case 1:return ht(yt.singleDigitSigned,e);case 2:return ht(yt.twoDigitsSigned,e);case 3:return ht(yt.threeDigitsSigned,e);case 4:return ht(yt.fourDigitsSigned,e);default:return ht(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Um(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function IS(t,e){var n=e>0,i=n?e:1-e,s;if(i<=50)s=t||100;else{var r=i+50,o=Math.floor(r/100)*100,a=t>=r%100;s=t+o-(a?100:0)}return n?s:1-s}function PS(t){return t%400===0||t%4===0&&t%100!==0}function ow(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class xq extends je{constructor(){super(...arguments),ow(this,"priority",130),ow(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,n,i){var s=function(r){return{year:r,isTwoDigitYear:n==="yy"}};switch(n){case"y":return vt(mt(4,e),s);case"yo":return vt(i.ordinalNumber(e,{unit:"year"}),s);default:return vt(mt(n.length,e),s)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,i){var s=e.getUTCFullYear();if(i.isTwoDigitYear){var r=IS(i.year,s);return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}var o=!("era"in n)||n.era===1?i.year:1-i.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}function aw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Tq extends je{constructor(){super(...arguments),aw(this,"priority",130),aw(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,n,i){var s=function(r){return{year:r,isTwoDigitYear:n==="YY"}};switch(n){case"Y":return vt(mt(4,e),s);case"Yo":return vt(i.ordinalNumber(e,{unit:"year"}),s);default:return vt(mt(n.length,e),s)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,i,s){var r=Bm(e,s);if(i.isTwoDigitYear){var o=IS(i.year,r);return e.setUTCFullYear(o,0,s.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Ai(e,s)}var a=!("era"in n)||n.era===1?i.year:1-i.year;return e.setUTCFullYear(a,0,s.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Ai(e,s)}}function lw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class kq extends je{constructor(){super(...arguments),lw(this,"priority",130),lw(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,n){return Pu(n==="R"?4:n.length,e)}set(e,n,i){var s=new Date(0);return s.setUTCFullYear(i,0,4),s.setUTCHours(0,0,0,0),vo(s)}}function cw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Eq extends je{constructor(){super(...arguments),cw(this,"priority",130),cw(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,n){return Pu(n==="u"?4:n.length,e)}set(e,n,i){return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}}function uw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Sq extends je{constructor(){super(...arguments),uw(this,"priority",120),uw(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,i){switch(n){case"Q":case"QQ":return mt(n.length,e);case"Qo":return i.ordinalNumber(e,{unit:"quarter"});case"QQQ":return i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(e,{width:"wide",context:"formatting"})||i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,i){return e.setUTCMonth((i-1)*3,1),e.setUTCHours(0,0,0,0),e}}function hw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Cq extends je{constructor(){super(...arguments),hw(this,"priority",120),hw(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,i){switch(n){case"q":case"qq":return mt(n.length,e);case"qo":return i.ordinalNumber(e,{unit:"quarter"});case"qqq":return i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(e,{width:"wide",context:"standalone"})||i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,i){return e.setUTCMonth((i-1)*3,1),e.setUTCHours(0,0,0,0),e}}function dw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Iq extends je{constructor(){super(...arguments),dw(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),dw(this,"priority",110)}parse(e,n,i){var s=function(r){return r-1};switch(n){case"M":return vt(ht(yt.month,e),s);case"MM":return vt(mt(2,e),s);case"Mo":return vt(i.ordinalNumber(e,{unit:"month"}),s);case"MMM":return i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(e,{width:"wide",context:"formatting"})||i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.setUTCMonth(i,1),e.setUTCHours(0,0,0,0),e}}function fw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Pq extends je{constructor(){super(...arguments),fw(this,"priority",110),fw(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,n,i){var s=function(r){return r-1};switch(n){case"L":return vt(ht(yt.month,e),s);case"LL":return vt(mt(2,e),s);case"Lo":return vt(i.ordinalNumber(e,{unit:"month"}),s);case"LLL":return i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(e,{width:"wide",context:"standalone"})||i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.setUTCMonth(i,1),e.setUTCHours(0,0,0,0),e}}function Oq(t,e,n){re(2,arguments);var i=fe(t),s=ot(e),r=_S(i,n)-s;return i.setUTCDate(i.getUTCDate()-r*7),i}function pw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Mq extends je{constructor(){super(...arguments),pw(this,"priority",100),pw(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,n,i){switch(n){case"w":return ht(yt.week,e);case"wo":return i.ordinalNumber(e,{unit:"week"});default:return mt(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,i,s){return Ai(Oq(e,i,s),s)}}function Aq(t,e){re(2,arguments);var n=fe(t),i=ot(e),s=wS(n)-i;return n.setUTCDate(n.getUTCDate()-s*7),n}function gw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Dq extends je{constructor(){super(...arguments),gw(this,"priority",100),gw(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,n,i){switch(n){case"I":return ht(yt.week,e);case"Io":return i.ordinalNumber(e,{unit:"week"});default:return mt(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,i){return vo(Aq(e,i))}}function Wd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rq=[31,28,31,30,31,30,31,31,30,31,30,31],Nq=[31,29,31,30,31,30,31,31,30,31,30,31];class Lq extends je{constructor(){super(...arguments),Wd(this,"priority",90),Wd(this,"subPriority",1),Wd(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,n,i){switch(n){case"d":return ht(yt.date,e);case"do":return i.ordinalNumber(e,{unit:"date"});default:return mt(n.length,e)}}validate(e,n){var i=e.getUTCFullYear(),s=PS(i),r=e.getUTCMonth();return s?n>=1&&n<=Nq[r]:n>=1&&n<=Rq[r]}set(e,n,i){return e.setUTCDate(i),e.setUTCHours(0,0,0,0),e}}function qd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Fq extends je{constructor(){super(...arguments),qd(this,"priority",90),qd(this,"subpriority",1),qd(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,n,i){switch(n){case"D":case"DD":return ht(yt.dayOfYear,e);case"Do":return i.ordinalNumber(e,{unit:"date"});default:return mt(n.length,e)}}validate(e,n){var i=e.getUTCFullYear(),s=PS(i);return s?n>=1&&n<=366:n>=1&&n<=365}set(e,n,i){return e.setUTCMonth(0,i),e.setUTCHours(0,0,0,0),e}}function Vm(t,e,n){var i,s,r,o,a,l,c,u;re(2,arguments);var h=Cs(),d=ot((i=(s=(r=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&r!==void 0?r:h.weekStartsOn)!==null&&s!==void 0?s:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=fe(t),p=ot(e),y=f.getUTCDay(),b=p%7,m=(b+7)%7,v=(m<d?7:0)+p-y;return f.setUTCDate(f.getUTCDate()+v),f}function mw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class $q extends je{constructor(){super(...arguments),mw(this,"priority",90),mw(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,s){return e=Vm(e,i,s),e.setUTCHours(0,0,0,0),e}}function yw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Bq extends je{constructor(){super(...arguments),yw(this,"priority",90),yw(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,n,i,s){var r=function(o){var a=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+a};switch(n){case"e":case"ee":return vt(mt(n.length,e),r);case"eo":return vt(i.ordinalNumber(e,{unit:"day"}),r);case"eee":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeeee":return i.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,s){return e=Vm(e,i,s),e.setUTCHours(0,0,0,0),e}}function vw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Uq extends je{constructor(){super(...arguments),vw(this,"priority",90),vw(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,n,i,s){var r=function(o){var a=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+a};switch(n){case"c":case"cc":return vt(mt(n.length,e),r);case"co":return vt(i.ordinalNumber(e,{unit:"day"}),r);case"ccc":return i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"ccccc":return i.day(e,{width:"narrow",context:"standalone"});case"cccccc":return i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(e,{width:"wide",context:"standalone"})||i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,s){return e=Vm(e,i,s),e.setUTCHours(0,0,0,0),e}}function Vq(t,e){re(2,arguments);var n=ot(e);n%7===0&&(n=n-7);var i=1,s=fe(t),r=s.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<i?7:0)+n-r;return s.setUTCDate(s.getUTCDate()+l),s}function bw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class zq extends je{constructor(){super(...arguments),bw(this,"priority",90),bw(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,n,i){var s=function(r){return r===0?7:r};switch(n){case"i":case"ii":return mt(n.length,e);case"io":return i.ordinalNumber(e,{unit:"day"});case"iii":return vt(i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return vt(i.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return vt(i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return vt(i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,n){return n>=1&&n<=7}set(e,n,i){return e=Vq(e,i),e.setUTCHours(0,0,0,0),e}}function ww(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class jq extends je{constructor(){super(...arguments),ww(this,"priority",80),ww(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setUTCHours(Um(i),0,0,0),e}}function _w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Hq extends je{constructor(){super(...arguments),_w(this,"priority",80),_w(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setUTCHours(Um(i),0,0,0),e}}function xw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Wq extends je{constructor(){super(...arguments),xw(this,"priority",80),xw(this,"incompatibleTokens",["a","b","t","T"])}parse(e,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setUTCHours(Um(i),0,0,0),e}}function Tw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class qq extends je{constructor(){super(...arguments),Tw(this,"priority",70),Tw(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,n,i){switch(n){case"h":return ht(yt.hour12h,e);case"ho":return i.ordinalNumber(e,{unit:"hour"});default:return mt(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,i){var s=e.getUTCHours()>=12;return s&&i<12?e.setUTCHours(i+12,0,0,0):!s&&i===12?e.setUTCHours(0,0,0,0):e.setUTCHours(i,0,0,0),e}}function kw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Yq extends je{constructor(){super(...arguments),kw(this,"priority",70),kw(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,n,i){switch(n){case"H":return ht(yt.hour23h,e);case"Ho":return i.ordinalNumber(e,{unit:"hour"});default:return mt(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,i){return e.setUTCHours(i,0,0,0),e}}function Ew(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Kq extends je{constructor(){super(...arguments),Ew(this,"priority",70),Ew(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,n,i){switch(n){case"K":return ht(yt.hour11h,e);case"Ko":return i.ordinalNumber(e,{unit:"hour"});default:return mt(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,i){var s=e.getUTCHours()>=12;return s&&i<12?e.setUTCHours(i+12,0,0,0):e.setUTCHours(i,0,0,0),e}}function Sw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Gq extends je{constructor(){super(...arguments),Sw(this,"priority",70),Sw(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,n,i){switch(n){case"k":return ht(yt.hour24h,e);case"ko":return i.ordinalNumber(e,{unit:"hour"});default:return mt(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,i){var s=i<=24?i%24:i;return e.setUTCHours(s,0,0,0),e}}function Cw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Xq extends je{constructor(){super(...arguments),Cw(this,"priority",60),Cw(this,"incompatibleTokens",["t","T"])}parse(e,n,i){switch(n){case"m":return ht(yt.minute,e);case"mo":return i.ordinalNumber(e,{unit:"minute"});default:return mt(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,i){return e.setUTCMinutes(i,0,0),e}}function Iw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Qq extends je{constructor(){super(...arguments),Iw(this,"priority",50),Iw(this,"incompatibleTokens",["t","T"])}parse(e,n,i){switch(n){case"s":return ht(yt.second,e);case"so":return i.ordinalNumber(e,{unit:"second"});default:return mt(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,i){return e.setUTCSeconds(i,0),e}}function Pw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Jq extends je{constructor(){super(...arguments),Pw(this,"priority",30),Pw(this,"incompatibleTokens",["t","T"])}parse(e,n){var i=function(s){return Math.floor(s*Math.pow(10,-n.length+3))};return vt(mt(n.length,e),i)}set(e,n,i){return e.setUTCMilliseconds(i),e}}function Ow(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Zq extends je{constructor(){super(...arguments),Ow(this,"priority",10),Ow(this,"incompatibleTokens",["t","T","x"])}parse(e,n){switch(n){case"X":return ii(ni.basicOptionalMinutes,e);case"XX":return ii(ni.basic,e);case"XXXX":return ii(ni.basicOptionalSeconds,e);case"XXXXX":return ii(ni.extendedOptionalSeconds,e);case"XXX":default:return ii(ni.extended,e)}}set(e,n,i){return n.timestampIsSet?e:new Date(e.getTime()-i)}}function Mw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class e5 extends je{constructor(){super(...arguments),Mw(this,"priority",10),Mw(this,"incompatibleTokens",["t","T","X"])}parse(e,n){switch(n){case"x":return ii(ni.basicOptionalMinutes,e);case"xx":return ii(ni.basic,e);case"xxxx":return ii(ni.basicOptionalSeconds,e);case"xxxxx":return ii(ni.extendedOptionalSeconds,e);case"xxx":default:return ii(ni.extended,e)}}set(e,n,i){return n.timestampIsSet?e:new Date(e.getTime()-i)}}function Aw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class t5 extends je{constructor(){super(...arguments),Aw(this,"priority",40),Aw(this,"incompatibleTokens","*")}parse(e){return CS(e)}set(e,n,i){return[new Date(i*1e3),{timestampIsSet:!0}]}}function Dw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class n5 extends je{constructor(){super(...arguments),Dw(this,"priority",20),Dw(this,"incompatibleTokens","*")}parse(e){return CS(e)}set(e,n,i){return[new Date(i),{timestampIsSet:!0}]}}var i5={G:new _q,y:new xq,Y:new Tq,R:new kq,u:new Eq,Q:new Sq,q:new Cq,M:new Iq,L:new Pq,w:new Mq,I:new Dq,d:new Lq,D:new Fq,E:new $q,e:new Bq,c:new Uq,i:new zq,a:new jq,b:new Hq,B:new Wq,h:new qq,H:new Yq,K:new Kq,k:new Gq,m:new Xq,s:new Qq,S:new Jq,X:new Zq,x:new e5,t:new t5,T:new n5},s5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,r5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o5=/^'([^]*?)'?$/,a5=/''/g,l5=/\S/,c5=/[a-zA-Z]/;function u5(t,e,n,i){var s,r,o,a,l,c,u,h,d,f,p,y,b,m,v,_,k,x;re(3,arguments);var S=String(t),M=String(e),C=Cs(),O=(s=(r=i==null?void 0:i.locale)!==null&&r!==void 0?r:C.locale)!==null&&s!==void 0?s:ES;if(!O.match)throw new RangeError("locale must contain match property");var L=ot((o=(a=(l=(c=i==null?void 0:i.firstWeekContainsDate)!==null&&c!==void 0?c:i==null||(u=i.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&a!==void 0?a:(d=C.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=ot((p=(y=(b=(m=i==null?void 0:i.weekStartsOn)!==null&&m!==void 0?m:i==null||(v=i.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&b!==void 0?b:C.weekStartsOn)!==null&&y!==void 0?y:(k=C.locale)===null||k===void 0||(x=k.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&p!==void 0?p:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(M==="")return S===""?fe(n):new Date(NaN);var F={firstWeekContainsDate:L,weekStartsOn:j,locale:O},U=[new wq],P=M.match(r5).map(function(I){var K=I[0];if(K in up){var W=up[K];return W(I,O.formatLong)}return I}).join("").match(s5),A=[],$=function(I){!(i!=null&&i.useAdditionalWeekYearTokens)&&kS(I)&&Cu(I,M,t),!(i!=null&&i.useAdditionalDayOfYearTokens)&&TS(I)&&Cu(I,M,t);var K=I[0],W=i5[K];if(W){var ee=W.incompatibleTokens;if(Array.isArray(ee)){var ge=A.find(function(ve){return ee.includes(ve.token)||ve.token===K});if(ge)throw new RangeError("The format string mustn't contain `".concat(ge.fullToken,"` and `").concat(I,"` at the same time"))}else if(W.incompatibleTokens==="*"&&A.length>0)throw new RangeError("The format string mustn't contain `".concat(I,"` and any other token at the same time"));A.push({token:K,fullToken:I});var Ce=W.run(S,I,O.match,F);if(!Ce)return V=I,{v:new Date(NaN)};U.push(Ce.setter),S=Ce.rest}else{if(K.match(c5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");if(I==="''"?I="'":K==="'"&&(I=h5(I)),S.indexOf(I)===0)S=S.slice(I.length);else return V=I,{v:new Date(NaN)}}V=I};for(var V of P){var Q=$(V);if(typeof Q=="object")return Q.v}if(S.length>0&&l5.test(S))return new Date(NaN);var ne=U.map(function(I){return I.priority}).sort(function(I,K){return K-I}).filter(function(I,K,W){return W.indexOf(I)===K}).map(function(I){return U.filter(function(K){return K.priority===I}).sort(function(K,W){return W.subPriority-K.subPriority})}).map(function(I){return I[0]}),pe=fe(n);if(isNaN(pe.getTime()))return new Date(NaN);var Te=vS(pe,Su(pe)),we={};for(var Ie of ne){if(!Ie.validate(Te,F))return new Date(NaN);var it=Ie.set(Te,we,F);Array.isArray(it)?(Te=it[0],yq(we,it[1])):Te=it}return Te}function h5(t){return t.match(o5)[1].replace(a5,"'")}function d5(t){re(1,arguments);var e=fe(t);return e.setMinutes(0,0,0),e}function f5(t){re(1,arguments);var e=fe(t);return e.setMilliseconds(0),e}function p5(t,e){var n;re(1,arguments);var i=ot((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=v5(t),r;if(s.date){var o=b5(s.date,i);r=w5(o.restDateString,o.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);var a=r.getTime(),l=0,c;if(s.time&&(l=_5(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(c=x5(s.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(a+l+c)}var wc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g5=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,m5=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,y5=/^([+-])(\d{2})(?::?(\d{2}))?$/;function v5(t){var e={},n=t.split(wc.dateTimeDelimiter),i;if(n.length>2)return e;if(/:/.test(n[0])?i=n[0]:(e.date=n[0],i=n[1],wc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(wc.timeZoneDelimiter)[0],i=t.substr(e.date.length,t.length))),i){var s=wc.timezone.exec(i);s?(e.time=i.replace(s[1],""),e.timezone=s[1]):e.time=i}return e}function b5(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:NaN,restDateString:""};var s=i[1]?parseInt(i[1]):null,r=i[2]?parseInt(i[2]):null;return{year:r===null?s:r*100,restDateString:t.slice((i[1]||i[2]).length)}}function w5(t,e){if(e===null)return new Date(NaN);var n=t.match(g5);if(!n)return new Date(NaN);var i=!!n[4],s=Vo(n[1]),r=Vo(n[2])-1,o=Vo(n[3]),a=Vo(n[4]),l=Vo(n[5])-1;if(i)return C5(e,a,l)?T5(e,a,l):new Date(NaN);var c=new Date(0);return!E5(e,r,o)||!S5(e,s)?new Date(NaN):(c.setUTCFullYear(e,r,Math.max(s,o)),c)}function Vo(t){return t?parseInt(t):1}function _5(t){var e=t.match(m5);if(!e)return NaN;var n=Yd(e[1]),i=Yd(e[2]),s=Yd(e[3]);return I5(n,i,s)?n*Fh+i*Lh+s*1e3:NaN}function Yd(t){return t&&parseFloat(t.replace(",","."))||0}function x5(t){if(t==="Z")return 0;var e=t.match(y5);if(!e)return 0;var n=e[1]==="+"?-1:1,i=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return P5(i,s)?n*(i*Fh+s*Lh):NaN}function T5(t,e,n){var i=new Date(0);i.setUTCFullYear(t,0,4);var s=i.getUTCDay()||7,r=(e-1)*7+n+1-s;return i.setUTCDate(i.getUTCDate()+r),i}var k5=[31,null,31,30,31,30,31,31,30,31,30,31];function OS(t){return t%400===0||t%4===0&&t%100!==0}function E5(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(k5[e]||(OS(t)?29:28))}function S5(t,e){return e>=1&&e<=(OS(t)?366:365)}function C5(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function I5(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function P5(t,e){return e>=0&&e<=59}function O5(t,e,n){re(2,arguments);var i=Ai(t,n),s=Ai(e,n);return i.getTime()===s.getTime()}var M5={lessThanXSeconds:{one:{regular:"mniej ni\u017C sekunda",past:"mniej ni\u017C sekund\u0119",future:"mniej ni\u017C sekund\u0119"},twoFour:"mniej ni\u017C {{count}} sekundy",other:"mniej ni\u017C {{count}} sekund"},xSeconds:{one:{regular:"sekunda",past:"sekund\u0119",future:"sekund\u0119"},twoFour:"{{count}} sekundy",other:"{{count}} sekund"},halfAMinute:{one:"p\xF3\u0142 minuty",twoFour:"p\xF3\u0142 minuty",other:"p\xF3\u0142 minuty"},lessThanXMinutes:{one:{regular:"mniej ni\u017C minuta",past:"mniej ni\u017C minut\u0119",future:"mniej ni\u017C minut\u0119"},twoFour:"mniej ni\u017C {{count}} minuty",other:"mniej ni\u017C {{count}} minut"},xMinutes:{one:{regular:"minuta",past:"minut\u0119",future:"minut\u0119"},twoFour:"{{count}} minuty",other:"{{count}} minut"},aboutXHours:{one:{regular:"oko\u0142o godziny",past:"oko\u0142o godziny",future:"oko\u0142o godzin\u0119"},twoFour:"oko\u0142o {{count}} godziny",other:"oko\u0142o {{count}} godzin"},xHours:{one:{regular:"godzina",past:"godzin\u0119",future:"godzin\u0119"},twoFour:"{{count}} godziny",other:"{{count}} godzin"},xDays:{one:{regular:"dzie\u0144",past:"dzie\u0144",future:"1 dzie\u0144"},twoFour:"{{count}} dni",other:"{{count}} dni"},aboutXWeeks:{one:"oko\u0142o tygodnia",twoFour:"oko\u0142o {{count}} tygodni",other:"oko\u0142o {{count}} tygodni"},xWeeks:{one:"tydzie\u0144",twoFour:"{{count}} tygodnie",other:"{{count}} tygodni"},aboutXMonths:{one:"oko\u0142o miesi\u0105c",twoFour:"oko\u0142o {{count}} miesi\u0105ce",other:"oko\u0142o {{count}} miesi\u0119cy"},xMonths:{one:"miesi\u0105c",twoFour:"{{count}} miesi\u0105ce",other:"{{count}} miesi\u0119cy"},aboutXYears:{one:"oko\u0142o rok",twoFour:"oko\u0142o {{count}} lata",other:"oko\u0142o {{count}} lat"},xYears:{one:"rok",twoFour:"{{count}} lata",other:"{{count}} lat"},overXYears:{one:"ponad rok",twoFour:"ponad {{count}} lata",other:"ponad {{count}} lat"},almostXYears:{one:"prawie rok",twoFour:"prawie {{count}} lata",other:"prawie {{count}} lat"}};function A5(t,e){if(e===1)return t.one;var n=e%100;if(n<=20&&n>10)return t.other;var i=n%10;return i>=2&&i<=4?t.twoFour:t.other}function Kd(t,e,n){var i=A5(t,e),s=typeof i=="string"?i:i[n];return s.replace("{{count}}",String(e))}var D5=function(t,e,n){var i=M5[t];return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"za "+Kd(i,e,"future"):Kd(i,e,"past")+" temu":Kd(i,e,"regular")};const R5=D5;var N5={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},L5={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},F5={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$5={date:Gr({formats:N5,defaultWidth:"full"}),time:Gr({formats:L5,defaultWidth:"full"}),dateTime:Gr({formats:F5,defaultWidth:"full"})};const B5=$5;var U5={masculine:"ostatni",feminine:"ostatnia"},V5={masculine:"ten",feminine:"ta"},z5={masculine:"nast\u0119pny",feminine:"nast\u0119pna"},j5={0:"feminine",1:"masculine",2:"masculine",3:"feminine",4:"masculine",5:"masculine",6:"feminine"};function Rw(t,e,n,i){var s;if(O5(e,n,i))s=V5;else if(t==="lastWeek")s=U5;else if(t==="nextWeek")s=z5;else throw new Error("Cannot determine adjectives for token ".concat(t));var r=e.getUTCDay(),o=j5[r],a=s[o];return"'".concat(a,"' eeee 'o' p")}var H5={lastWeek:Rw,yesterday:"'wczoraj o' p",today:"'dzisiaj o' p",tomorrow:"'jutro o' p",nextWeek:Rw,other:"P"},W5=function(t,e,n,i){var s=H5[t];return typeof s=="function"?s(t,e,n,i):s};const q5=W5;var Y5={narrow:["p.n.e.","n.e."],abbreviated:["p.n.e.","n.e."],wide:["przed nasz\u0105 er\u0105","naszej ery"]},K5={narrow:["1","2","3","4"],abbreviated:["I kw.","II kw.","III kw.","IV kw."],wide:["I kwarta\u0142","II kwarta\u0142","III kwarta\u0142","IV kwarta\u0142"]},G5={narrow:["S","L","M","K","M","C","L","S","W","P","L","G"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017A","lis","gru"],wide:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017Adziernik","listopad","grudzie\u0144"]},X5={narrow:["s","l","m","k","m","c","l","s","w","p","l","g"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017A","lis","gru"],wide:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrze\u015Bnia","pa\u017Adziernika","listopada","grudnia"]},Q5={narrow:["N","P","W","\u015A","C","P","S"],short:["nie","pon","wto","\u015Bro","czw","pi\u0105","sob"],abbreviated:["niedz.","pon.","wt.","\u015Br.","czw.","pt.","sob."],wide:["niedziela","poniedzia\u0142ek","wtorek","\u015Broda","czwartek","pi\u0105tek","sobota"]},J5={narrow:["n","p","w","\u015B","c","p","s"],short:["nie","pon","wto","\u015Bro","czw","pi\u0105","sob"],abbreviated:["niedz.","pon.","wt.","\u015Br.","czw.","pt.","sob."],wide:["niedziela","poniedzia\u0142ek","wtorek","\u015Broda","czwartek","pi\u0105tek","sobota"]},Z5={narrow:{am:"a",pm:"p",midnight:"p\xF3\u0142n.",noon:"po\u0142",morning:"rano",afternoon:"popo\u0142.",evening:"wiecz.",night:"noc"},abbreviated:{am:"AM",pm:"PM",midnight:"p\xF3\u0142noc",noon:"po\u0142udnie",morning:"rano",afternoon:"popo\u0142udnie",evening:"wiecz\xF3r",night:"noc"},wide:{am:"AM",pm:"PM",midnight:"p\xF3\u0142noc",noon:"po\u0142udnie",morning:"rano",afternoon:"popo\u0142udnie",evening:"wiecz\xF3r",night:"noc"}},e6={narrow:{am:"a",pm:"p",midnight:"o p\xF3\u0142n.",noon:"w po\u0142.",morning:"rano",afternoon:"po po\u0142.",evening:"wiecz.",night:"w nocy"},abbreviated:{am:"AM",pm:"PM",midnight:"o p\xF3\u0142nocy",noon:"w po\u0142udnie",morning:"rano",afternoon:"po po\u0142udniu",evening:"wieczorem",night:"w nocy"},wide:{am:"AM",pm:"PM",midnight:"o p\xF3\u0142nocy",noon:"w po\u0142udnie",morning:"rano",afternoon:"po po\u0142udniu",evening:"wieczorem",night:"w nocy"}},t6=function(t,e){return String(t)},n6={ordinalNumber:t6,era:ei({values:Y5,defaultWidth:"wide"}),quarter:ei({values:K5,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ei({values:G5,defaultWidth:"wide",formattingValues:X5,defaultFormattingWidth:"wide"}),day:ei({values:Q5,defaultWidth:"wide",formattingValues:J5,defaultFormattingWidth:"wide"}),dayPeriod:ei({values:Z5,defaultWidth:"wide",formattingValues:e6,defaultFormattingWidth:"wide"})};const i6=n6;var s6=/^(\d+)?/i,r6=/\d+/i,o6={narrow:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,abbreviated:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,wide:/^(przed\s*nasz(ą|a)\s*er(ą|a)|naszej\s*ery)/i},a6={any:[/^p/i,/^n/i]},l6={narrow:/^[1234]/i,abbreviated:/^(I|II|III|IV)\s*kw\.?/i,wide:/^(I|II|III|IV)\s*kwarta(ł|l)/i},c6={narrow:[/1/i,/2/i,/3/i,/4/i],any:[/^I kw/i,/^II kw/i,/^III kw/i,/^IV kw/i]},u6={narrow:/^[slmkcwpg]/i,abbreviated:/^(sty|lut|mar|kwi|maj|cze|lip|sie|wrz|pa(ź|z)|lis|gru)/i,wide:/^(stycznia|stycze(ń|n)|lutego|luty|marca|marzec|kwietnia|kwiecie(ń|n)|maja|maj|czerwca|czerwiec|lipca|lipiec|sierpnia|sierpie(ń|n)|wrze(ś|s)nia|wrzesie(ń|n)|pa(ź|z)dziernika|pa(ź|z)dziernik|listopada|listopad|grudnia|grudzie(ń|n))/i},h6={narrow:[/^s/i,/^l/i,/^m/i,/^k/i,/^m/i,/^c/i,/^l/i,/^s/i,/^w/i,/^p/i,/^l/i,/^g/i],any:[/^st/i,/^lu/i,/^mar/i,/^k/i,/^maj/i,/^c/i,/^lip/i,/^si/i,/^w/i,/^p/i,/^lis/i,/^g/i]},d6={narrow:/^[npwścs]/i,short:/^(nie|pon|wto|(ś|s)ro|czw|pi(ą|a)|sob)/i,abbreviated:/^(niedz|pon|wt|(ś|s)r|czw|pt|sob)\.?/i,wide:/^(niedziela|poniedzia(ł|l)ek|wtorek|(ś|s)roda|czwartek|pi(ą|a)tek|sobota)/i},f6={narrow:[/^n/i,/^p/i,/^w/i,/^ś/i,/^c/i,/^p/i,/^s/i],abbreviated:[/^n/i,/^po/i,/^w/i,/^(ś|s)r/i,/^c/i,/^pt/i,/^so/i],any:[/^n/i,/^po/i,/^w/i,/^(ś|s)r/i,/^c/i,/^pi/i,/^so/i]},p6={narrow:/^(^a$|^p$|pó(ł|l)n\.?|o\s*pó(ł|l)n\.?|po(ł|l)\.?|w\s*po(ł|l)\.?|po\s*po(ł|l)\.?|rano|wiecz\.?|noc|w\s*nocy)/i,any:/^(am|pm|pó(ł|l)noc|o\s*pó(ł|l)nocy|po(ł|l)udnie|w\s*po(ł|l)udnie|popo(ł|l)udnie|po\s*po(ł|l)udniu|rano|wieczór|wieczorem|noc|w\s*nocy)/i},g6={narrow:{am:/^a$/i,pm:/^p$/i,midnight:/pó(ł|l)n/i,noon:/po(ł|l)/i,morning:/rano/i,afternoon:/po\s*po(ł|l)/i,evening:/wiecz/i,night:/noc/i},any:{am:/^am/i,pm:/^pm/i,midnight:/pó(ł|l)n/i,noon:/po(ł|l)/i,morning:/rano/i,afternoon:/po\s*po(ł|l)/i,evening:/wiecz/i,night:/noc/i}},m6={ordinalNumber:hS({matchPattern:s6,parsePattern:r6,valueCallback:function(t){return parseInt(t,10)}}),era:ti({matchPatterns:o6,defaultMatchWidth:"wide",parsePatterns:a6,defaultParseWidth:"any"}),quarter:ti({matchPatterns:l6,defaultMatchWidth:"wide",parsePatterns:c6,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ti({matchPatterns:u6,defaultMatchWidth:"wide",parsePatterns:h6,defaultParseWidth:"any"}),day:ti({matchPatterns:d6,defaultMatchWidth:"wide",parsePatterns:f6,defaultParseWidth:"any"}),dayPeriod:ti({matchPatterns:p6,defaultMatchWidth:"any",parsePatterns:g6,defaultParseWidth:"any"})};const y6=m6;var v6={code:"pl",formatDistance:R5,formatLong:B5,formatRelative:q5,localize:i6,match:y6,options:{weekStartsOn:1,firstWeekContainsDate:4}};const b6=v6,w6=at({__name:"StatsTicketsDistribution",setup(t){const e=Ae();function n(r){return Kt.value.filter(o=>o.ticketType===r).length}let i;function s(){return[n("normal"),n("program"),n("volunteer"),n("vendor"),n("guest"),n("medium"),n("vip"),n("workers"),n("others")]}return Jt(Kt,()=>{i&&(i.data.datasets[0].data=s(),i.update("resize"))}),Ri(()=>{i=new Ul(e.value,{type:"pie",options:{plugins:{legend:{display:!0,position:"right"}}},data:{labels:["Uczestnicy","Program","Wolontariusze","Wystawcy","Go\u015Bcie","Media","VIP","Pracownicy","Inni"],datasets:[{data:s(),backgroundColor:[Tt.Normal,Tt.Program,Tt.Volunteers,Tt.Vendors,Tt.Guests,Tt.Media,Tt.VIP,Tt.Workers,Tt.Others]}]}})}),xs(()=>{i.destroy()}),(r,o)=>(G(),Z("canvas",{ref_key:"ticketsChartRef",ref:e,width:"200",height:"200"},null,512))}}),Ft=t=>(ws("data-v-4f786b40"),t=t(),_s(),t),_6={class:"max-container"},x6=Ft(()=>E("h1",{class:"text-2xl font-bold text-center mb-12"},"Identyfikatory",-1)),T6={class:"mb-16 flex justify-around"},k6=Ft(()=>E("tr",null,[E("th",null,"Typ"),E("th",{class:"text-right"},"Liczba os\xF3b")],-1)),E6=Ft(()=>E("td",null,"Uczestnicy",-1)),S6={class:"text-right"},C6=Ft(()=>E("td",null,"Program",-1)),I6={class:"text-right"},P6=Ft(()=>E("td",null,"Wolontariusze",-1)),O6={class:"text-right"},M6=Ft(()=>E("td",null,"Go\u015Bcie",-1)),A6={class:"text-right"},D6=Ft(()=>E("td",null,"Media",-1)),R6={class:"text-right"},N6=Ft(()=>E("td",null,"Wystawcy",-1)),L6={class:"text-right"},F6=Ft(()=>E("td",null,"Pracownicy",-1)),$6={class:"text-right"},B6=Ft(()=>E("td",null,"Inni",-1)),U6={class:"text-right"},V6=Ft(()=>E("td",null,"VIP",-1)),z6={class:"text-right"},j6=Ft(()=>E("td",null,[E("b",null,"Razem")],-1)),H6={class:"text-right"},W6={class:"ml-10 distribution-wrap"},q6={class:"ml-2 mr-8"},Y6={class:"max-container"},K6=Ft(()=>E("h1",{class:"text-2xl font-bold text-center mb-12"},"Sleep",-1)),G6={class:"mb-16 flex justify-around"},X6=Ft(()=>E("tr",null,[E("th",null,"Typ"),E("th",{class:"text-right"},"Sleepy")],-1)),Q6=Ft(()=>E("td",null,"Uczestnicy",-1)),J6={class:"text-right"},Z6=Ft(()=>E("td",null,"Program",-1)),eY={class:"text-right"},tY=Ft(()=>E("td",null,"Wolontariusze",-1)),nY={class:"text-right"},iY=Ft(()=>E("td",null,"Razem",-1)),sY={class:"text-right"},rY=at({__name:"StatsTicketsByTime",setup(t){const e=Ae();function n(a){return Kt.value.filter(l=>l.ticketType===a).length}function i(a){return Kt.value.filter(l=>l.ticketType===a&&l.sleep).length}function s(a){const l=Kt.value.filter(c=>a?c.ticketType===a:!0);return[{x:"2025-07-25T08:00:00.000Z",y:0},...l.map(c=>c.ticketEndTime).sort().map((c,u)=>({x:c,y:u+1})),{x:new Date().toISOString(),y:l.length}]}function r(){return{datasets:[{label:"Wszyscy",borderColor:"rgb(139, 92, 246)",data:s()},{label:"Uczestnicy",borderColor:Tt.Normal,data:s("normal")},{label:"Program",borderColor:Tt.Program,data:s("program")},{label:"Wolo",borderColor:Tt.Volunteers,data:s("volunteer")},{label:"Go\u015Bcie",borderColor:Tt.Guests,data:s("guest"),hidden:!0},{label:"Media",borderColor:Tt.Media,data:s("medium"),hidden:!0},{label:"Wystawcy",borderColor:Tt.Vendors,data:s("vendor"),hidden:!0},{label:"Pracownicy",borderColor:Tt.Workers,data:s("workers"),hidden:!0},{label:"Inni",borderColor:Tt.Others,data:s("others"),hidden:!0},{label:"VIP",borderColor:Tt.VIP,data:s("vip"),hidden:!0}]}}let o;return Jt(Kt,()=>{o&&(o.data=r(),o.update("resize"))}),Ri(()=>{o=new Ul(e.value,{type:"line",data:r(),options:{elements:{point:{radius:0,hitRadius:20}},scales:{y:{title:{display:!0,text:"Identyfikatory",padding:10}},x:{type:"time",min:"2025-07-25T08:00:00.000Z",max:"2025-07-27T16:00:00.000Z",adapters:{date:{locale:b6}},time:{tooltipFormat:"EE HH:mm",unit:"hour",displayFormats:{hour:"EE HH:mm"}}}}}})}),xs(()=>{o.destroy()}),(a,l)=>(G(),Z(Ye,null,[E("div",_6,[x6,E("div",T6,[(G(),Z("table",{key:D(Kt).length},[k6,E("tr",null,[E6,E("td",S6,ae(n("normal")),1)]),E("tr",null,[C6,E("td",I6,ae(n("program")),1)]),E("tr",null,[P6,E("td",O6,ae(n("volunteer")),1)]),E("tr",null,[M6,E("td",A6,ae(n("guest")),1)]),E("tr",null,[D6,E("td",R6,ae(n("medium")),1)]),E("tr",null,[N6,E("td",L6,ae(n("vendor")),1)]),E("tr",null,[F6,E("td",$6,ae(n("workers")),1)]),E("tr",null,[B6,E("td",U6,ae(n("others")),1)]),E("tr",null,[V6,E("td",z6,ae(n("vip")),1)]),E("tr",null,[j6,E("td",H6,[E("b",null,ae(D(Kt).length),1)])])])),E("div",W6,[ye(w6)])]),E("div",q6,[E("canvas",{ref_key:"ticketsByTimeChartRef",ref:e,width:"100",height:"60"},null,512)])]),E("div",Y6,[K6,E("div",G6,[(G(),Z("table",{key:D(Kt).length},[X6,E("tr",null,[Q6,E("td",J6,ae(i("normal")),1)]),E("tr",null,[Z6,E("td",eY,ae(i("program")),1)]),E("tr",null,[tY,E("td",nY,ae(i("volunteer")),1)]),E("tr",null,[iY,E("td",sY,[E("b",null,ae(i("normal")+i("program")+i("volunteer")),1)])])]))])])],64))}});const oY=Ni(rY,[["__scopeId","data-v-4f786b40"]]),aY=E("hr",{class:"my-10"},null,-1),lY=at({__name:"Statystyki",setup(t){return(e,n)=>(G(),Z(Ye,null,[ye(oY),aY],64))}}),cY=t=>(ws("data-v-c2e54452"),t=t(),_s(),t),uY=cY(()=>E("div",{class:"card"},[E("div",{class:""},"Zapytaj o nocleg")],-1)),hY={key:0,class:"card"},dY=he(" Przygotuj opask\u0119 na r\u0119k\u0119 "),fY=at({__name:"Nocleg",setup(t){const e=Ae(Ve.value.filter(i=>i.sleep).length);Jt(e,i=>{_M({sleep:!1});for(let s=0;s<i;s++)Cx(s,{sleep:!0})});const n=ul();return(i,s)=>{const r=Zt("Counter"),o=Zt("Pagination");return G(),Z(Ye,null,[uY,ye(r,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a),min:0,max:D(Ve).length,label:"Liczba sleep\xF3w:"},null,8,["modelValue","max"]),e.value&&D(Ve)[0].ticketType!=="volunteer"?(G(),Z("div",hY,[E("div",null,[dY,E("b",null,"x"+ae(e.value),1)])])):Pe("",!0),ye(o,{onNext:s[1]||(s[1]=a=>D(n).push({name:D(Et).Platnosc})),onPrev:s[2]||(s[2]=()=>{switch(D(Ve)[0].ticketType){case"normal":case"program":case"volunteer":case"others":D(n).push({name:D(Et).Wiek});break;default:D(n).push({name:D(Et).Akredytacja})}})})],64)}}});const pY=Ni(fY,[["__scopeId","data-v-c2e54452"]]),gY={class:"card"},mY={class:"mb-3"},yY=he(" Zweryfikuj wiek "),vY={class:"mb-3"},bY=he(" Osoba w wieku "),wY=E("b",null,"13-18",-1),_Y=he(" musi posiada\u0107 "),xY={key:0},TY={key:1},kY={key:0},EY=he(" Osoba "),SY=E("b",null,"poni\u017Cej 13",-1),CY=he(" roku \u017Cycia musi by\u0107 "),IY=E("b",null,"z opiekunem",-1),PY=[EY,SY,CY,IY],OY={key:1,class:"card"},MY={class:"mb-4"},AY=he(" Przygotuj odpowiedni identyfikator "),DY=["src"],RY=at({__name:"Pelnoletnosc",setup(t){const e=Ae(Ve.value.length);Jt(e,(i,s)=>{i>s?ha(TM()):xM()});const n=ul();return(i,s)=>{const r=Zt("Counter"),o=Zt("TicketsToSellCounter"),a=Zt("Pagination");return G(),Z(Ye,null,[D(He).ticketType==="normal"?(G(),Dt(r,{key:0,min:1,modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=l=>e.value=l),label:"Liczba wej\u015Bci\xF3wek:"},null,8,["modelValue"])):Pe("",!0),E("div",gY,[E("div",mY,[yY,E("i",null,ae(D(OB)(D(He).ticketType,D(Ve).length>1)),1)]),E("div",vY,[bY,wY,_Y,D(He).ticketType==="volunteer"?(G(),Z("b",xY,"Kart\u0119 M\u0142odego Wolontariusza")):(G(),Z("b",TY,"Kart\u0119 M\u0142odego SkierConauty"))]),D(He).ticketType==="normal"?(G(),Z("div",kY,PY)):Pe("",!0)]),D(He).ticketType&&D(He).ticketType==="normal"?(G(),Z("div",OY,[E("div",MY,[AY,ye(o)]),E("img",{class:"badge-image shadow mb-5",src:D(kk)(D(He).ticketType),alt:""},null,8,DY)])):Pe("",!0),ye(a,{onNext:s[1]||(s[1]=l=>D(n).push({name:D(Et).Nocleg})),onPrev:s[2]||(s[2]=()=>{switch(D(He).ticketType){case"normal":return D(n).push({name:D(Et).Akredytacja});default:return D(n).push({name:D(Et).Szukaj})}})})],64)}}}),Yn=t=>(ws("data-v-a10e31b6"),t=t(),_s(),t),NY={key:2,class:"card"},LY=he(" Naklej na front identyfikatora nalepk\u0119 "),FY=Yn(()=>E("b",null,"OPIEKUN",-1)),$Y=[LY,FY],BY={key:0,class:"card"},UY=Yn(()=>E("div",{class:"mb-3"},"Przyjmij op\u0142at\u0119 za konwent:",-1)),VY={class:"mb-3"},zY={key:0},jY=he(" Dziecko poni\u017Cej 7 roku \u017Cycia (0z\u0142) - 0z\u0142 "),HY={class:"card"},WY={key:0,class:"mb-3"},qY=he(" Przyjmij op\u0142at\u0119 za konwent: "),YY={key:1,class:"mb-3"},KY=Yn(()=>E("b",null,"Bezp\u0142atne wej\u015Bcie",-1)),GY=he(" na konwent"),XY=[KY,GY],QY={key:4},JY={class:"card"},ZY=he(" Poinformuj "),eK=Yn(()=>E("i",null,"Wolontariusza",-1)),tK=he(", \u017Ceby po akredytacji zg\u0142osi\u0142 si\u0119 do "),nK={key:0},iK=Yn(()=>E("b",null,"Le\u015Bnicz\xF3wki",-1)),sK=he(" (korytarz na lewo i\xA0do samego ko\u0144ca) "),rK=[iK,sK],oK={key:1},aK=Yn(()=>E("b",null,"Org-Roomu",-1)),lK=he(" (korytarz na prawo i\xA0od razu po lewej) "),cK=[aK,lK],uK={key:5,class:"card"},hK={class:"my-2"},dK={key:0},fK={key:0},pK={key:1,class:"mt-2"},gK=he(" Poinformuj "),mK=Yn(()=>E("i",null,"Uczestnika",-1)),yK=he(", \u017Ce sleep jest w "),vK=Yn(()=>E("b",null,"Liceum Og\xF3lnokszta\u0142c\u0105cym im. B. Prusa",-1)),bK=he(" Adres: Sienkiewicza 10, 96-100 Skierniewice "),wK=[gK,mK,yK,vK,bK],_K={key:2},xK=he(" Poinformuj "),TK=Yn(()=>E("i",null,"Wolontariusza",-1)),kK=he(", \u017Ce sleep jest w "),EK=Yn(()=>E("b",null,"Mechaniku (Zesp\xF3\u0142 Szk\xF3\u0142 Zawodowych nr 2)",-1)),SK=he(" Adres: Pomologiczna 15, 96-100 Skierniewice "),CK=[xK,TK,kK,EK,SK],IK={class:"card"},PK={class:"my-2"},OK=Yn(()=>E("b",null,"Wydaj identyfikator",-1)),MK=he(),AK=he(" (zapytaj, czy potrzebna jest smycz lub folia do identyfikatora) "),DK=at({__name:"Platnosc",setup(t){const e=new Date().getDay()===0?30:80,n=10,i=Ae(0),s=Ae(0),r=Ue(()=>Ve.value.reduce((u,h)=>{let d=e;return"discount"in h&&(h.discount==="100%"&&(d=0),h.discount==="75%"&&(d=e===30?7:20),h.discount==="50%"&&(d=e===30?15:40),h.discount==="25%"&&(d=e===30?22:60)),h.sleep&&(h.ticketType==="volunteer"||h.ticketType==="program"&&h.discountSleep==="100%"?d+=0:d+=n),u+d},0)-i.value*e-s.value*e),o=Ue(()=>Ve.value.filter(u=>u.sleep).length),a=ul(),l=Ae(!1);async function c(){l.value!==!0&&(l.value=!0,await Xg.addTickets(Ve.value),await a.push({name:Et.Akredytacja}),await al(),da(),l.value=!1)}return(u,h)=>{const d=Zt("Counter"),f=Zt("TicketsToSellCounter"),p=Zt("Pagination");return G(),Z(Ye,null,[D(He).ticketType==="normal"&&D(Ve).length>1?(G(),Dt(d,{key:0,modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=y=>i.value=y),min:0,max:D(Ve).length-1,label:"Liczba dzieci poni\u017Cej 7 roku \u017Cycia:"},null,8,["modelValue","max"])):Pe("",!0),D(He).ticketType==="normal"&&D(Ve).length>1?(G(),Dt(d,{key:1,modelValue:s.value,"onUpdate:modelValue":h[1]||(h[1]=y=>s.value=y),min:0,max:D(Ve).length-1,label:"Liczba opiekun\xF3w osoby niepe\u0142nosprawnej:"},null,8,["modelValue","max"])):Pe("",!0),s.value>0?(G(),Z("div",NY,$Y)):Pe("",!0),D(He).ticketType==="normal"?(G(),Z(Ye,{key:3},[D(He).numberOfIds>1?(G(),Z("div",BY,[UY,E("div",VY,[E("div",null,[E("b",null,ae(D(He).numberOfIds-i.value)+"x",1),he(" Wej\u015Bci\xF3wka normalna ("+ae(D(e))+"z\u0142) - "+ae(D(r))+"z\u0142 ",1)]),i.value>0?(G(),Z("div",zY,[E("b",null,ae(i.value)+"x",1),jY])):Pe("",!0)])])):Pe("",!0)],64)):Pe("",!0),E("div",HY,[D(r)>0?(G(),Z("div",WY,[qY,E("b",null,ae(D(r))+"z\u0142",1)])):(G(),Z("div",YY,XY))]),D(He).ticketType==="volunteer"?(G(),Z("div",QY,[E("div",JY,[ZY,eK,tK,D(He).volunteerType==="LIS"||D(He).volunteerType==="SZOP"?(G(),Z("span",nK,rK)):(G(),Z("span",oK,cK))])])):Pe("",!0),D(o)>0?(G(),Z("div",uK,[E("div",hK,[D(He).ticketType!=="volunteer"?(G(),Z("span",dK,[E("b",null,"Za\u0142\xF3\u017C "+ae(D(o)>1?"opaski":"opask\u0119")+" na r\u0119k\u0119",1),D(o)>1?(G(),Z("b",fK," (x"+ae(D(o))+")",1)):Pe("",!0)])):Pe("",!0),D(He).ticketType==="normal"||D(He).ticketType==="program"||D(He).ticketType==="others"?(G(),Z("div",pK,wK)):Pe("",!0),D(He).ticketType==="volunteer"?(G(),Z("div",_K,CK)):Pe("",!0)])])):Pe("",!0),E("div",IK,[E("div",PK,[OK,MK,ye(f),AK])]),ye(p,{"next-text":l.value?"Dodawanie...":"Zako\u0144cz akredytacj\u0119",onNext:c,onPrev:h[2]||(h[2]=()=>{switch(D(Ve)[0].ticketType){case"program":case"volunteer":case"others":case"normal":D(a).push({name:D(Et).Nocleg});break;default:D(a).push({name:D(Et).Szukaj})}})},null,8,["next-text"])],64)}}});const RK=Ni(DK,[["__scopeId","data-v-a10e31b6"]]),NK={class:"my-5 flex justify-center"},MS=at({__name:"Pagination",props:{nextText:{type:String,default:"Dalej"},prevText:{type:String,default:"Wstecz"},canMoveForward:{type:Boolean,default:!0}},setup(t){return(e,n)=>(G(),Z("div",NK,[E("button",{class:"button mr-3",onClick:n[0]||(n[0]=i=>e.$emit("prev"))},ae(t.prevText),1),E("button",{class:At(["button w-52",t.canMoveForward?"border-violet-300":"border-red-500 "]),onClick:n[1]||(n[1]=i=>e.$emit("next"))},ae(t.nextText),3)]))}}),LK={key:0},AS=at({__name:"TicketsToSellCounter",setup(t){return(e,n)=>D(Ve).length>1?(G(),Z("b",LK," (x"+ae(D(Ve).length)+")",1)):Pe("",!0)}}),DS=t=>(ws("data-v-cefebef7"),t=t(),_s(),t),FK={class:"card"},$K=DS(()=>E("div",{class:"mb-3"}," Wyszukaj: Imi\u0119 / Nazwisko / Pseudonim / Firma / Nazwa ",-1)),BK={class:"pb-2"},UK={class:"text-sm text-gray-700 trim"},VK={class:"h-10"},zK={key:0,class:"mt-1 ml-2 text-grey-500 text-sm"},jK={key:0,class:"card border-red-500 bg-white text-red-600 mt-4"},HK=DS(()=>E("div",{class:"border-l-4 border-red-500 pl-4 py-2"},[E("div",{class:"font-bold"},"\u26A0\uFE0F UWAGA!"),E("div",null,[he("Ta osoba wymaga "),E("strong",null,"weryfikacji dokument\xF3w o niekaralno\u015Bci"),he(".")]),E("div",{class:"mt-1 font-semibold"},"\u203C\uFE0F Nie wydawaj jeszcze identyfikatora \u203C\uFE0F"),E("div",{class:"mt-2"},"\u{1F4DE} Zawo\u0142aj Raven - tel. 723 002 001")],-1)),WK=[HK],qK={key:1},YK={key:2,class:"card"},KK={class:"mb-4"},GK=he(" Przygotuj odpowiedni identyfikator"),XK=he(": "),QK=["src"],JK=at({__name:"Search",setup(t){const e=Ae(),n=Ue(()=>[...Qn.value.program,...Qn.value.guests,...Qn.value.volunteers,...Qn.value.media,...Qn.value.others,...Qn.value.vendors,...Qn.value.workers,...Qn.value.vip].filter(l=>l.tickets?l.tickets>Kt.value.filter(c=>c.id===l.id).length:!Kt.value.some(c=>c.id===l.id)).map(l=>({labelFirstLine:qf(l),labelSecondLine:Yf(l),label:qf(l),...l})).sort((l,c)=>l.labelFirstLine.localeCompare(c.labelFirstLine)));Jt(e,l=>{da(),l?(ha(bf(l.ticketType)),Cx(0,l),Ve.value.length=1):ha(bf("normal"))});const i=Ae();Ri(()=>{da(),He.value.name||i.value.searchEl.focus()});const s=ul();function r(l,c){return l.filter(u=>ob((u.labelFirstLine+u.labelSecondLine).toLowerCase()).includes(ob(c.toLowerCase())))}const o=Ae(1),a=Ue(()=>Kt.value.filter(l=>{var c;return l.id===((c=e.value)==null?void 0:c.id)}).length);return Jt(o,()=>{if(e.value){da();for(let l=0;l<o.value;l++)ha(e.value)}}),(l,c)=>{const u=Zt("v-select"),h=Zt("Counter");return G(),Z(Ye,null,[E("div",FK,[$K,ye(u,{ref_key:"vselect",ref:i,options:D(n),modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=d=>e.value=d),filter:r},{option:wt(d=>[E("div",BK,[E("div",null,ae(d.labelFirstLine),1),E("div",UK,ae(d.labelSecondLine.slice(0,90)),1)])]),_:1},8,["options","modelValue"]),E("div",VK,[e.value?(G(),Z("div",zK,ae(D(Yf)(e.value)),1)):Pe("",!0)])]),e.value&&["program","volunteer","guest"].includes(e.value.ticketType)&&e.value.requiresKamilek&&!e.value.ok?(G(),Z("div",jK,WK)):Pe("",!0),D(He).ticketType!=="program"&&D(He).ticketType!=="volunteer"&&D(He).ticketType!=="normal"&&D(He).tickets>1&&D(He).tickets-D(a)>0?(G(),Z("div",qK,[ye(h,{label:"Ile wej\u015Bci\xF3wek do wydania?",modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=d=>o.value=d),min:1,max:D(He).tickets===D(a)?100:D(He).tickets-D(a)},null,8,["modelValue","max"])])):Pe("",!0),e.value&&D(He).ticketType?(G(),Z("div",YK,[E("div",KK,[GK,ye(AS),XK]),E("img",{class:"badge-image shadow mb-5",src:e.value.ticketType==="volunteer"?D(PB)(e.value.volunteerType):D(kk)(e.value.ticketType),alt:""},null,8,QK)])):Pe("",!0),ye(MS,{"can-move-forward":!!e.value,onNext:c[2]||(c[2]=()=>{var d;if(!!e.value)switch((d=e.value)==null?void 0:d.ticketType){case"program":case"volunteer":case"others":D(s).push({name:D(Et).Wiek});break;default:D(s).push({name:D(Et).Platnosc})}}),onPrev:c[3]||(c[3]=d=>D(s).push({name:D(Et).Akredytacja}))},null,8,["can-move-forward"])],64)}}});const ZK=Ni(JK,[["__scopeId","data-v-cefebef7"]]);var Et=(t=>(t.Login="login",t.Lesniczowka="lesniczowka",t.Lista="lista",t.Statystyki="statystyki",t.Akredytacja="akredytacja",t.Szukaj="szukaj",t.Wiek="wiek",t.Nocleg="nocleg",t.Platnosc="platnosc",t))(Et||{});const RS=yM({history:MO("/skiercon-akredytacja/"),routes:[{path:"/",name:"login",component:mz},{path:"/lesniczowka",name:"lesniczowka",component:NM},{path:"/lista",name:"lista",component:s2},{path:"/statystyki",name:"statystyki",component:lY},{path:"/akredytacja",name:"a",meta:{step:0},children:[{path:"start",name:"akredytacja",component:MM},{path:"szukaj",name:"b",component:bz,children:[{path:"1",name:"szukaj",meta:{step:1},component:ZK},{path:"2",name:"wiek",meta:{step:2},component:RY},{path:"3",name:"nocleg",meta:{step:3},component:pY},{path:"4",name:"platnosc",meta:{step:4},component:RK}]}]}]});RS.beforeEach((t,e,n)=>{t.name==="login"&&Hc.value?n({name:"akredytacja"}):t.name!=="login"&&!Hc.value?n({name:"login"}):n()});const e8={class:"w-full shadow bg-white fixed top-0 left-0 py-2 px-10 h-14 flex items-center justify-between z-20"},t8={class:"flex"},n8=he(" Skiercon 2025 "),i8={class:"ml-4"},s8=he(" Wydane identyfikatory: "),r8=he("Akredytacja"),o8=he("Lista"),a8=he("Statystyki"),l8=he("Le\u015Bnicz\xF3wka"),c8=["href"],u8=at({__name:"MainNav",setup(t){return(e,n)=>{const i=Zt("router-link");return G(),Z("header",e8,[E("div",t8,[ye(i,{to:{name:D(Et).Akredytacja},class:"skierfont text-violet-600"},{default:wt(()=>[n8]),_:1},8,["to"]),E("div",i8,[s8,E("b",null,ae(D(Kt).length),1)])]),E("nav",null,[ye(i,{to:{name:D(Et).Akredytacja},class:"link"},{default:wt(()=>[r8]),_:1},8,["to"]),ye(i,{to:{name:D(Et).Lista},class:"link"},{default:wt(()=>[o8]),_:1},8,["to"]),ye(i,{to:{name:D(Et).Statystyki},class:"link"},{default:wt(()=>[a8]),_:1},8,["to"]),ye(i,{to:{name:D(Et).Lesniczowka},class:"link"},{default:wt(()=>[l8]),_:1},8,["to"]),D(Hy)?(G(),Z("a",{key:0,href:D(Hy),class:"link",target:"_blank"},"FAQ \u{1F86D}",8,c8)):Pe("",!0)])])}}});const h8=Ni(u8,[["__scopeId","data-v-2768f003"]]),d8={class:"mt-20"},f8=at({__name:"App",setup(t){return(e,n)=>{const i=Zt("RouterView");return G(),Z(Ye,null,[D(Hc)?(G(),Dt(h8,{key:0})):Pe("",!0),E("main",d8,[ye(i)])],64)}}});const p8={class:"card select-none"},g8={class:"pl-2 text-xl"},m8={class:"px-3"},y8=at({__name:"Counter",props:{label:{type:String,required:!0},modelValue:{type:Number,required:!0},min:{type:Number,default:-1/0},max:{type:Number,default:1/0}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t;function i(){n.modelValue<n.max&&e("update:modelValue",n.modelValue+1)}function s(){n.modelValue>n.min&&e("update:modelValue",n.modelValue-1)}return(r,o)=>(G(),Z("div",p8,[he(ae(t.label)+" ",1),E("span",g8,[E("button",{class:At(["counter-button",{"cursor-not-allowed":t.modelValue===t.min}]),onClick:s}," - ",2),E("span",m8,ae(t.modelValue===69?"nice":t.modelValue),1),E("button",{class:At(["counter-button",{"cursor-not-allowed":t.modelValue===t.max}]),onClick:i}," + ",2)])]))}});const v8=Ni(y8,[["__scopeId","data-v-ea1b8901"]]),b8={class:"text-3xl pb-6 skierfont text-center"},w8=at({__name:"MainTitle",props:{title:null},setup(t){return(e,n)=>(G(),Z("div",b8,ae(t.title),1))}});/*!
 * chartjs-adapter-date-fns v2.0.0
 * https://www.chartjs.org
 * (c) 2021 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const _8={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};qE._date.override({_id:"date-fns",formats:function(){return _8},parse:function(t,e){if(t===null||typeof t>"u")return null;const n=typeof t;return n==="number"||t instanceof Date?t=fe(t):n==="string"&&(typeof e=="string"?t=u5(t,e,new Date,this.options):t=p5(t,this.options)),fS(t)?t.getTime():null},format:function(t,e){return gq(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return jl(t,e);case"second":return W3(t,e);case"minute":return j3(t,e);case"hour":return $3(t,e);case"day":return dS(t,e);case"week":return q3(t,e);case"month":return $m(t,e);case"quarter":return H3(t,e);case"year":return Y3(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return $h(t,e);case"second":return i4(t,e);case"minute":return e4(t,e);case"hour":return Z3(t,e);case"day":return pS(t,e);case"week":return s4(t,e);case"month":return yS(t,e);case"quarter":return n4(t,e);case"year":return r4(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return f5(t);case"minute":return o4(t);case"hour":return d5(t);case"day":return cp(t);case"week":return Z0(t);case"isoWeek":return Z0(t,{weekStartsOn:+n});case"month":return l4(t);case"quarter":return a4(t);case"year":return u4(t);default:return t}},endOf:function(t,e){switch(e){case"second":return g4(t);case"minute":return f4(t);case"hour":return h4(t);case"day":return gS(t);case"week":return d4(t);case"month":return mS(t);case"quarter":return p4(t);case"year":return c4(t);default:return t}}});Ul.register(Ah,Vl,Dh,$l,Am,Lm,zl,Fm,r3,a3,g3);var NS={exports:{}};(function(t,e){(function(n,i){t.exports=i(Wp.exports)})(zp,function(n){function i(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var s=i(n);function r(d){return d%10<5&&d%10>1&&~~(d/10)%10!=1}function o(d,f,p){var y=d+" ";switch(p){case"m":return f?"minuta":"minut\u0119";case"mm":return y+(r(d)?"minuty":"minut");case"h":return f?"godzina":"godzin\u0119";case"hh":return y+(r(d)?"godziny":"godzin");case"MM":return y+(r(d)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return y+(r(d)?"lata":"lat")}}var a="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015Bnia_pa\u017Adziernika_listopada_grudnia".split("_"),l="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017Adziernik_listopad_grudzie\u0144".split("_"),c=/D MMMM/,u=function(d,f){return c.test(f)?a[d.month()]:l[d.month()]};u.s=l,u.f=a;var h={name:"pl",weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015Broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015Br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015Ar_Cz_Pt_So".split("_"),months:u,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017A_lis_gru".split("_"),ordinal:function(d){return d+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:o,mm:o,h:o,hh:o,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:o,y:"rok",yy:o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return s.default.locale(h,null,!0),h})})(NS);const x8=NS.exports;qp.locale(x8);SB();const Is=dx(f8);Is.use(RS);Is.use(uO);Is.component("v-select",fO);Is.component("Pagination",MS);Is.component("Counter",v8);Is.component("MainTitle",w8);Is.component("TicketsToSellCounter",AS);Is.mount("#app");window.onbeforeunload=function(){return!0};
